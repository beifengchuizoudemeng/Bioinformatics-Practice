;/*!wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/lemmaInsert.js*/
define("wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/lemmaInsert",function(require,exports,module){module.exports=function(lemmaOPt){require.async(["wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/tangram"],function(baidu){function reTarget(){var e=window.location.hash;e.length>1&&(baidu.browser.isWebkit&&(window.location.hash=9999),window.location.hash=e.substr(1))}var nslog=require("wiki-common:widget/component/nslog/nslog"),nslogedLemmaRelation=!1;baidu.more.ns("rs"),rs.apply=function(e,t,i){if(i&&rs.apply(e,i),e&&t&&"object"==typeof t)for(var a in t)e[a]=t[a];return e},rs.alert=function(e,t){var i="确定";t&&t.okText&&(i=t.okText);var a={buttons:{accept:{content:i,onclick:function(){var e=this,t=e.getParent();t.dispatchEvent("onaccept")&&t.close()}}},titleText:"提示",width:300},n='<div class="rs-info">'+e+"</div>";rs.apply(a,t),bk.Dialog.alert(n,a)},rs.confirm=function(e,t){var i={buttons:{accept:{content:t.btnName||"确定",onclick:function(){var e=this,t=e.getParent();t.dispatchEvent("onaccept")&&t.close()}},cancel:{content:"取消",onclick:function(){var e=this,t=e.getParent();t.dispatchEvent("oncancel")&&t.close()}}},autoDispose:!1,titleText:"确认",autoRender:!0};baidu.isString(e)?i.contentText=e:i.content=e,rs.apply(i,t);var a=new bk.Dialog(i);return a.open(),a},rs.trim=function(e){if("object"==typeof e)if("number"==typeof e.length)baidu.each(e,function(t,i){e[i]=rs.trim(e[i])});else for(var t in e)e[t]=rs.trim(e[t]);else e=baidu.string.trim(e);return e},rs.hover=function(e,t){baidu.lang.isArray(e)?baidu.each(e,function(e){rs.hover(e,t)}):(baidu.on(e,"mouseout",function(){baidu.dom.removeClass(e,t)}),baidu.on(e,"mouseover",function(){baidu.dom.addClass(e,t)}))},baidu.dom.radioClass=function(e,t){baidu.each(e.parentNode.childNodes,function(e){1==e.nodeType&&baidu.dom.removeClass(e,t)}),baidu.dom.addClass(e,t)},String.prototype.subText=function(e,t){return t||(t="..."),this.length>e?this.substr(0,e)+t:this},baidu.dom.ready(function(){baidu.ui&&baidu.ui.tree&&(baidu.ui.tree.Tree.options={draggable:!1})}),rs.subByte=function(e,t,i){return baidu.string.getByteLength(e)>t?baidu.string.subByte(e,t)+(i||"..."):e};var JSON=window.JSON||baidu.json;baidu.ui.Dialog.prototype.tplContent="<div id='#{id}' class='#{class}' style='overflow:scroll; position:relative'><div class='#{class}-shade'></div><span class='dialog-content-inner'>#{content}</span></div>",baidu.more.ns("rs"),rs.Request=function(e){this.method=e,this.url=null,this.args=null},rs.Request.prototype={post:function(){var e=this;this.url="/guanxi/api/"+this.method+"?token="+(new Date).getTime(),this.args=this.args?"args="+encodeURIComponent(baidu.json.stringify(this.args)):"args=[]",baidu.ajax.post(this.url,this.args,function(t,i){var a=baidu.json.parse(i);return-2==a.error_code&&(alert("你没有登录，或者没有相应的权限！"),window.location="/guanxi/admin/login"),-3==a.error_code?(alert("你没有登录,请登录后再操作！"),void userlogin.check(function(){e.callback&&e.callback(a)})):null==a.error_code?void alert("数据错误,请联系RD!\nerror_code : null"):void(e.callback&&e.callback(a))})},request:function(){var e=this;this.url="/guanxi/"+this.method,this.args=this.args?"args="+encodeURIComponent(baidu.json.stringify(this.args)):"args=[]",baidu.ajax.request(this.url,{method:"get",data:this.args,onsuccess:function(t,i){var a=baidu.json.parse(i);return-2==a.error_code&&(alert("你没有登录，或者没有相应的权限！"),window.location="/guanxi/admin/login"),-3==a.error_code?(alert("你没有登录,请登录后再操作！"),void userlogin.check(function(){e.callback&&e.callback(a)})):null==a.error_code?void alert("数据错误,请联系RD!\nerror_code : null"):void(e.callback&&e.callback(a))}})}};var lemmars={ISTARGET:!0,buildHTML:function(e,t,i){var a="";return e.fentryTableType<2?a+='<div class="rs-table " id="rs-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'"rs-data="{isTop:'+(i?"true":"false")+",subId:"+t+",entryId:"+e.entryId+",templateId:"+e.templateId+",fentryTableId:"+e.fentryTableId+'}">	<div id="rs'+e.fentryTableId+'" class="lemma-relation-table clearfix '+(i?" lemma-relation-top ":"")+(0==e.isExpand?"lemma-relation-table-close":"")+'">		<div class="relation-table-banner relation-banner-'+t+(1==e.isExpand?" ":" border-close")+'" id="table-banner-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'">			<span class="relation-table-view-control">'+(0==e.fentryTableType?'<a id = "relation-title-edit-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'" title="编辑"  class="title-edit" target="_blank" href="/guanxi/view/'+encodeURIComponent(e.entryTitle)+"/"+e.entryId+"?e=1#"+e.templateId+'" hidefocus="true"></a>':"")+'				<a  class="title-folder '+(1==e.isExpand?"":" title-folder-close")+'" href="javascript:void(0)"  hidefocus="true" title="'+(1==e.isExpand?"收起":"展开")+'"></a>			</span>			<h3 class="relation-table-title">'+(1==e.fentryTableType?e.fentryTableName?e.fentryTableName:" ":'<a id="relation-title-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'" class="table-title" href="/guanxi/view/'+encodeURIComponent(e.entryTitle)+"/"+e.entryId+"#"+e.templateId+'" target="_blank" hidefocus="true">'+(e.fentryTableName?e.fentryTableName:" ")+"</a>")+'			</h3>		</div>		<div style="'+(1==e.isExpand?"":"display:none")+'" class="relation-table-main" id="relation-table-main-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'"></div>		</div></div>':e.fentryTableType>=2&&(a+='<div rs-data="{isTop:'+(i?"true":"false")+",subId:"+t+",entryId:"+e.entryId+",templateId:"+e.templateId+",fentryTableId:"+e.fentryTableId+'}" class="rs-topic " id="rs-'+t+"-"+(e.fcategoryId||e.fentryTableId)+'"><div class="head allTitle clearfix '+(1==e.isExpand?"":"border-close")+'"><h1>'+(e.fentryTableName?e.fentryTableName:" ")+'</h1><span></span><div class="tab-div"></div><div class="topic-ops"><a class="title-folder  '+(1==e.isExpand?"":"title-folder-close")+'" href="#" hidefocus="true" title="'+(1==e.isExpand?"收起":"展开")+'"></a></div></div><div class="bd" '+(0==e.isExpand?'style="display:none"':"")+'></div><div class="bottom-border  '+(1==e.isExpand?"":"bottom-border-close")+'"><div style="display:none;" class="mask-box"><div class="mask-div"></div><div class="loading-div"></div></div></div></div>'),a},relationInsert:function(e,t){if(t){if(t.foot=t.foot||[],t.top=t.top||[],allData=t.foot.concat(t.top),t.foot.length)for(var i=0,a=t.foot.length;a>i;i++)baidu.g("rs-container-"+e+"-"+t.foot[i].fentryTableId).innerHTML=this.buildHTML(t.foot[i],e);if(t.top.length)for(i=0,a=t.top.length;a>i;i++)baidu.g("rs-container-"+e+"-"+t.top[i].fentryTableId).innerHTML=this.buildHTML(t.top[i],e,!0)}},lemmaRelationAction:function(e,t){var i=baidu.dom.next(e);return baidu.dom.hasClass(t,"title-folder-close")?(baidu.dom.removeClass(t,"title-folder-close"),baidu.dom.removeClass(e,"border-close"),baidu.dom.setStyle(i,"display",""),t.title="收起"):(baidu.dom.addClass(t,"title-folder-close"),baidu.dom.addClass(e,"border-close"),baidu.dom.setStyle(i,"display","none"),t.title="展开"),!1},showRelation:function(e,t,i){var a=e,n=(t.entryId,t.templateId,t.fentryTableId),o=this;rs.FLAG_TARGET++;var r=new rs.Request("jsondata?action=getViewLemmaData");return r.callback=function(r){if(0===r.error_code){var s=baidu.g("relation-table-main-"+e+"-"+n),d=baidu.g("table-banner-"+e+"-"+n);if(s){s.innerHTML=r.html||"";var l=baidu.dom.query("h3",d)[0];baidu.dom.query(".table-title",l).length?baidu.dom.query(".table-title",l)[0].innerHTML=r.title:l.innerHTML=r.title}var u=baidu.g("rs-"+e+"-"+n);if(u){rs.FLAG_TARGET--,0==rs.FLAG_TARGET&&o.ISTARGET&&(reTarget(),o.ISTARGET=!1);var c,g="",p=baidu.dom.q("bd",u)[0],m=r.selectedTable;if(!m)return!1;if(1==m.showType&&1==m.topicType){var f=1;c=3}else f=0,c=2;1===f&&baidu.dom.addClass(p,"mode-full"),g+='<div class="menu"><div class="tree">111</div><div class="scroll"><a class="up-disable" title="向上移动"></a><a class="down"  title="向下移动"></a></div></div><div class="menu-slide-wp"><div class="menu-slide "><a href="javascript:void(0)" class="icon-slide '+(1===f?"icon-slide-close":"")+'" hidefocus="true"></a></div></div><div class="main" log-data-detail="{rsType:'+c+",rsId:"+n+",rsPos:"+(i?"0":"1")+'}"><div  class="scrollPanel"></div><div  class="top-mask"></div></div><div class="topic-menu-shadow "></div>',p.innerHTML=g,Topic=new rs.Topic({isExpand:t.isExpand,lemmaId:a,container:u,subLemmaId:e,data:m}),rs.Topic.HasSetLog||(rs.Topic.HasSetLog=!0)}nslogedLemmaRelation||(nslog().setGlobal({lemmaId:lemmaOPt.lemmaId,newLemmaId:lemmaOPt.newLemmaId,subLemmaId:lemmaOPt.subLemmaId,lemmaTitle:lemmaOPt.lemmaTitle}),nslog(10000005,null,{showModules:"relationTable"}),nslogedLemmaRelation=!0)}},r.args=[0,8,{fentryTableId:n,lemmaId:a,subLemmaId:e},i],r.request(),!1},topicAction:function(e){if(!e)return!1;var t=baidu.dom.q("title-folder",e)[0],i=t.parentNode.parentNode;if(baidu.dom.hasClass(i,"head")){e.parentNode.style.height="";var a=baidu.dom.next(i),n=baidu.dom.query(".tab-div",i)[0],o=baidu.dom.query(".bottom-border",i.parentNode)[0];baidu.dom.hasClass(t,"title-folder-close")?(t.title="收起",baidu.fx.expand(a,{duration:200,onafterfinish:function(){baidu.dom.removeClass(i,"border-close"),baidu.dom.removeClass(o,"bottom-border-close"),n.style.display="",baidu.dom.removeClass(t,"title-folder-close");var e=baidu.dom.getAncestorByClass(t,"rs-topic"),a=baidu.dom.getAttr(e,"rs-data");if("null"!=a){var r=baidu.json.parse(a);lemmars.showRelation(r.subId,r,r.isTop),baidu.dom.setAttr(e,"rs-data","null")}}})):(t.title="展开",baidu.fx.collapse(a,{duration:200,onafterfinish:function(){baidu.dom.addClass(i,"border-close"),baidu.dom.addClass(o,"bottom-border-close"),n.style.display="none",baidu.dom.addClass(t,"title-folder-close")}}))}},topicSideAction:function(e){if(!e)return!1;var t=baidu.dom.q("icon-slide",e)[0],i=t.parentNode.parentNode,a=i.parentNode,n=baidu.dom.prev(i),o=baidu.dom.next(i);baidu.dom.hasClass(t,"icon-slide-close")?baidu.fx.expand(n,{orientation:"horizontal",duration:200,onbeforestart:function(){baidu.fx.fadeOut(o),baidu.dom.removeClass(a,"mode-full")},onafterfinish:function(){baidu.fx.fadeIn(o);var e=baidu.dom.query(".scrollPanel",a)[0];baidu.dom.query(".main",a)[0].innerHTML='<div  class="scrollPanel" style="width:534px;_width:530px">'+e.innerHTML,e=baidu.dom.query(".scrollPanel",a)[0],Topic.initScrollPanel(e),Topic.addInfoListHover(),Topic.fnOnScroll(),baidu.removeClass(t,"icon-slide-close")}}):baidu.fx.collapse(n,{orientation:"horizontal",duration:200,onbeforestart:function(){baidu.fx.fadeOut(o)},onafterfinish:function(){baidu.dom.addClass(a,"mode-full"),baidu.fx.fadeIn(o);var e=baidu.dom.query(".scrollPanel",a)[0];baidu.dom.query(".main",a)[0].innerHTML='<div  class="scrollPanel" style="width:642px">'+e.innerHTML,e=baidu.dom.query(".scrollPanel",a)[0],Topic.initScrollPanel(e),Topic.addInfoListHover(),Topic.fnOnScroll(),baidu.addClass(t,"icon-slide-close")}})},topicLazyLoadAction:function(e){if(!e)return!1;var t=baidu.dom.q("title-folder",e)[0],i=baidu.dom.getAncestorByClass(t,"rs-topic"),a=baidu.dom.getAttr(i,"rs-data");if("null"!=a){var n=baidu.json.parse(a);lemmars.showRelation(n.subId,n,n.isTop),baidu.dom.setAttr(i,"rs-data","null")}},tableAction:function(e,t,i){if(!e)return!1;var t=t||baidu.dom.q("title-folder",e)[0],a=t.parentNode.parentNode;if(baidu.dom.hasClass(a,"relation-table-banner")){var n=baidu.dom.getAncestorByClass(t,"rs-table"),o=baidu.dom.getAttr(n,"rs-data");if("null"!=o){var r=baidu.json.parse(o);lemmars.showRelation(r.subId,r,r.isTop),baidu.dom.setAttr(n,"rs-data","null"),i&&lemmars.lemmaRelationAction(a,t)}else lemmars.lemmaRelationAction(a,t)}},tableTitleAction:function(e,t){if(baidu.dom.hasClass(t,"title-banner hd  relation-unit")){baidu.dom.toggleClass(e,"title-folder-close"),e.title="收起"==e.title?"展开":"收起";for(var i=baidu.dom.next(t);null!=i&&("table"==i.tagName.toLowerCase()||"div"==i.tagName.toLowerCase());)baidu.dom.toggleClass(i,"rs-hidden"),i=baidu.dom.next(i)}}};if(baidu.on(document,"click",function(e){var t=baidu.event.getTarget(e);if(baidu.dom.hasClass(t,"title-folder")||baidu.dom.hasClass(t,"relation-unit")&&baidu.dom.hasClass(t,"title-banner")||baidu.dom.hasClass(t,"relation-table-title")||baidu.dom.hasClass(t,"head")&&baidu.dom.hasClass(t," allTitle")){if(!baidu.dom.hasClass(t,"title-folder")){var i=baidu.dom(t);if(baidu.dom.hasClass(t,"relation-table-title")&&(i=i.parent()),!i)return!1;if(t=i.find(".title-folder")[0],!t)return!1}return lemmars.tableAction(baidu.dom.getAncestorByClass(t,"rs-table"),t,!0),lemmars.tableTitleAction(t,t.parentNode.parentNode),lemmars.topicAction(baidu.dom.getAncestorByClass(t,"rs-topic")),baidu.event.preventDefault(e),!1}return baidu.dom.hasClass(t,"icon-slide")?(lemmars.topicSideAction(baidu.dom.getAncestorByClass(t,"rs-topic")),baidu.event.preventDefault(e),!1):void 0}),"undefined"!=typeof rsInsertData&&baidu.lang.isArray(rsInsertData)){rs.FLAG_TARGET=0;for(var i in rsInsertData)lemmars.relationInsert(rsInsertData[i][0],rsInsertData[i][1]);$(".rs-container").each(function(){var func=$(this).attr("lazy-init");!!window.ScriptLazyLoad&&window.ScriptLazyLoad.regist({dom:$(this),loadFunc:function(){try{eval(func)}catch(e){}},distance:500})})}baidu.ui.Slider=baidu.ui.createUI(function(){var e=this;e.range=e.range||[e.min,e.max]}).extend({layout:"horizontal",uiType:"slider",tplBody:'<div id="#{id}" class="#{class}" onmousedown="#{mousedown}" style="position:relative;">#{thumb}</div>',tplThumb:'<div id="#{thumbId}" class="#{thumbClass}" style="position:absolute;"></div>',value:0,min:0,max:100,disabled:!1,_dragOpt:{},_axis:{horizontal:{mousePos:"x",pos:"left",size:"width",clientSize:"clientWidth",offsetSize:"offsetWidth"},vertical:{mousePos:"y",pos:"top",size:"height",clientSize:"clientHeight",offsetSize:"offsetHeight"}},getString:function(){var e=this;return baidu.format(e.tplBody,{id:e.getId(),"class":e.getClass(),mousedown:e.getCallRef()+"._mouseDown(event)",thumb:baidu.format(e.tplThumb,{thumbId:e.getId("thumb"),thumbClass:e.getClass("thumb")})})},_mouseDown:function(e){var t=this,i=t._axis[t.layout],a=baidu.page.getMousePosition(),n=baidu.dom.getPosition(t.getBody()),o=t.getThumb(),r=baidu.event.getTarget(e);r==o||baidu.dom.contains(o,r)||t.disabled||(t._calcValue(a[i.mousePos]-n[i.pos]-o[i.offsetSize]/2),t.update(),t.dispatchEvent("slideclick"))},render:function(e){var t=this;e&&(baidu.dom.insertHTML(t.renderMain(e),"beforeEnd",t.getString()),t._createThumb(),t.update(),t.dispatchEvent("onload"))},_createThumb:function(){var e,t=this;t._dragOpt={ondragend:function(){t.dispatchEvent("slidestop")},ondragstart:function(){t.dispatchEvent("slidestart")},ondrag:function(){var e=t._axis[t.layout],i=t.getThumb().style[e.pos];t._calcValue(parseInt(i)),t.dispatchEvent("slide")},range:[0,0,0,0]},t._updateDragRange(),e=baidu.dom.draggable(t.getThumb(),t._dragOpt),t.addEventListener("dispose",function(){e.cancel()})},_updateDragRange:function(e){var t=this,i=t._axis[t.layout],a=e||t.range,n=t._dragOpt.range,o=t.getThumb();a=[Math.max(Math.min(a[0],t.max),t.min),Math.max(Math.min(a[1],t.max),t.min)],"horizontal"==t.layout.toLowerCase()?(n[1]=t._parseValue(a[1],"fix")+o[i.offsetSize],n[3]=t._parseValue(a[0],"fix"),n[2]=o.clientHeight):(n[0]=t._parseValue(a[0],"fix"),n[2]=t._parseValue(a[1],"fix")+o[i.offsetSize],n[1]=o.clientWidth)},update:function(e){{var t=this,i=t._axis[t.layout];t.getBody()}e=e||{},baidu.object.extend(t,e),t._updateDragRange(),t._adjustValue(),t.dispatchEvent("beforesliderto",{drop:e.drop})&&(t.getThumb().style[i.pos]=t._parseValue(t.value,"pix")+"px",t.dispatchEvent("update"))},_adjustValue:function(){var e=this,t=e.range;e.value=Math.max(Math.min(e.value,t[1]),t[0])},_calcValue:function(e){var t=this;t.value=t._parseValue(e,"value"),t._adjustValue()},_parseValue:function(e,t){var i=this,a=i._axis[i.layout];return len=i.getBody()[a.clientSize]-i.getThumb()[a.offsetSize],e="value"==t?(i.max-i.min)/len*e+i.min:Math.round(len/(i.max-i.min)*(e-i.min))},getValue:function(){return this.value},getTarget:function(){return baidu.g(this.targetId)},getThumb:function(){return baidu.g(this.getId("thumb"))},disable:function(){var e=this;e.disabled=!0,e._updateDragRange([e.value,e.value])},enable:function(){var e=this;e.disabled=!1,e._updateDragRange(e.range)},dispose:function(){var e=this;e.dispatchEvent("dispose"),baidu.dom.remove(e.getId()),e.dispatchEvent("ondispose"),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.ScrollBar=baidu.ui.createUI(function(){var e=this;e._scrollBarSize={width:0,height:0}}).extend({uiType:"scrollbar",tplDOM:'<div id="#{id}" class="#{class}"></div>',tplThumb:'<div class="#{prev}"></div><div class="#{track}"></div><div class="#{next}"></div>',value:0,dimension:10,orientation:"vertical",step:5,_axis:{horizontal:{size:"width",unSize:"height",offsetSize:"offsetWidth",unOffsetSize:"offsetHeight",clientSize:"clientWidth",scrollPos:"scrollLeft",scrollSize:"scrollWidth"},vertical:{size:"height",unSize:"width",offsetSize:"offsetHeight",unOffsetSize:"offsetWidth",clientSize:"clientHeight",scrollPos:"scrollTop",scrollSize:"scrollHeight"}},getThumbString:function(){var e=this;return baidu.string.format(e.tplThumb,{prev:e.getClass("thumb-prev"),track:e.getClass("thumb-track"),next:e.getClass("thumb-next")})},render:function(e){var t=this;e&&!t.getMain()&&(baidu.dom.insertHTML(t.renderMain(e),"beforeEnd",baidu.string.format(t.tplDOM,{id:t.getId(),"class":t.getClass()})),t._renderUI(),t.dispatchEvent("load"))},_renderUI:function(){function e(e){return{classPrefix:o.classPrefix+"-"+e,skin:o.skin?o.skin+"-"+e:"",poll:{time:4},onmousedown:function(){o._basicScroll(e)},element:s,autoRender:!0}}function t(e){o.dispatchEvent("scroll",{value:Math.round(e.target.getValue())})}var i,a,n,o=this,r=o._axis[o.orientation],s=o.getBody();i=o._prev=new baidu.ui.Button(e("prev")),baidu.dom.insertHTML(s,"beforeEnd",baidu.string.format(o.tplDOM,{id:o.getId("track"),"class":o.getClass("track")})),n=o._next=new baidu.ui.Button(e("next")),a=o._slider=new baidu.ui.Slider({classPrefix:o.classPrefix+"-slider",skin:o.skin?o.skin+"-slider":"",layout:o.orientation,onslide:t,onslideclick:t,element:baidu.dom.g(o.getId("track")),autoRender:!0}),o._scrollBarSize[r.unSize]=n.getBody()[r.unOffsetSize],o._thumbButton=new baidu.ui.Button({classPrefix:o.classPrefix+"-thumb-btn",skin:o.skin?o.skin+"-thumb-btn":"",content:o.getThumbString(),capture:!0,element:a.getThumb(),autoRender:!0}),o.flushUI(o.value,o.dimension),o._registMouseWheelEvt(o.getMain())},flushUI:function(e,t){var i,a=this,n=a._axis[a.orientation],o=a._prev.getBody()[n.offsetSize]+a._next.getBody()[n.offsetSize],r=a.getBody(),s=a._slider,d=s.getThumb();baidu.dom.hide(r),i=a.getMain()[n.clientSize],a._scrollBarSize[n.size]=0>=i?o:i,s.getMain().style[n.size]=(0>=i?0:i-o)+"px",d.style[n.size]=Math.max(Math.min(t,100),0)+"%",baidu.dom.show(r),a._scrollTo(e)},_scrollTo:function(e){this._slider.update({value:e})},scrollTo:function(e){var t=this;t._scrollTo(e),t.dispatchEvent("scroll",{value:e})},_basicScroll:function(e){var t=this;t.scrollTo(Math.round(t._slider.getValue())+("prev"==e?-t.step:t.step))},_onMouseWheelHandler:function(e){e=e.originalEvent||e;var t=this,e=(t.target,e||window.event),i=e.detail||-e.wheelDelta;baidu.event.preventDefault(e),t._basicScroll(i>0?"next":"prev")},_registMouseWheelEvt:function(e){var t=this,i=function(){var e=navigator.userAgent.toLowerCase(),t=/(webkit)/.exec(e)||/(opera)/.exec(e)||/(msie)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)/.exec(e)||[];return"mozilla"==t[1]?"DOMMouseScroll":"mousewheel"},a={target:e,evtName:i(),handler:baidu.fn.bind("_onMouseWheelHandler",t)};baidu.event.on(a.target,a.evtName,a.handler),t.addEventListener("dispose",function(){baidu.event.un(a.target,a.evtName,a.handler)})},setVisible:function(e){this.getMain().style.display=e?"":"none"},isVisible:function(){return"none"!=this.getMain().style.display},getSize:function(){return this._scrollBarSize},update:function(e){var t=this;t.dispatchEvent("beforeupdate"),baidu.object.extend(t,e),t.flushUI(t.value,t.dimension),t.dispatchEvent("update")},dispose:function(){var e=this;e.dispatchEvent("dispose"),e._prev.dispose(),e._thumbButton.dispose(),e._slider.dispose(),e._next.dispose(),baidu.dom.remove(e.getMain()),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.ScrollBar.register(function(e){e.container&&e.addEventListeners({load:function(){e.update(),"vertical"==e.orientation&&e._registMouseWheelEvt(e.getContainer())},beforeupdate:function(){var e=this;axis=e._axis[e.orientation],container=e.getContainer(),container&&(e.dimension=Math.round(container[axis.clientSize]/container[axis.scrollSize]*100),e.value=container[axis.scrollSize]-container[axis.clientSize],e.value>0&&(e.value=Math.round(container[axis.scrollPos]/(container[axis.scrollSize]-container[axis.clientSize])*100)))},scroll:function(t){var i=e.getContainer(),a=e._axis[e.orientation];i[a.scrollPos]=t.value/100*(i[a.scrollSize]-i[a.clientSize])}})}),baidu.object.extend(baidu.ui.ScrollBar.prototype,{getContainer:function(){return baidu.dom.g(this.container)}}),baidu.ui.ScrollPanel=baidu.ui.createUI(function(){}).extend({uiType:"scrollpanel",tplDOM:'<div id="#{id}" class="#{class}">#{body}</div>',overflow:"auto",_scrollBarSize:0,_yVisible:!1,_xVisible:!1,_axis:{y:{size:"height",unSize:"width",unScrollSize:"scrollWidth",unClientSize:"clientWidth",offsetSize:"offsetHeight"},x:{size:"width",unSize:"height",unScrollSize:"scrollHeight",unClientSize:"clientHeight",offsetSize:"offsetWidth"}},getString:function(){var e=this,t=baidu.string.format(e.tplDOM,{id:e.getId("panel"),"class":e.getClass("panel")});return t=baidu.string.format(e.tplDOM,{id:e.getId(),"class":e.getClass(),body:t}),baidu.string.format(e.tplDOM,{id:e.getId("main"),"class":e.getClass("main"),body:t})},render:function(e){var t=this;t.target=e,e&&!t.getMain()&&(baidu.dom.insertHTML(t.getTarget(),"afterEnd",t.getString()),t.renderMain(t.getId("main")),t._renderUI())},_renderUI:function(){function e(e){var i,a=t.getId("overflow-"+e),n=t._axis[e],r=t.getPanel();baidu.dom.insertHTML(r,"y"==e?"afterEnd":"beforeEnd",baidu.string.format(t.tplDOM,{id:a,"class":t.getClass("overflow-"+e)})),a=baidu.dom.g(a),"y"==e&&(baidu.dom.setStyle(r,"float","left"),baidu.dom.setStyle(a,"float","left")),t["_"+e+"Visible"]=!0,i=t["_"+e+"Scrollbar"]=new baidu.ui.ScrollBar({skin:o+"scrollbar-"+e,orientation:"y"==e?"vertical":"horizontal",container:t.container,element:a,autoRender:!0}),a.style[n.unSize]=i.getSize()[n.unSize]+"px",t._scrollBarSize=i.getSize()[n.unSize],i.setVisible(!1)}var t=this,i=t.getMain(),a=t.getPanel(),n=t.getTarget(),o=t.skin||"";i.style.width=n.offsetWidth+"px",i.style.height=n.offsetHeight+"px",a.appendChild(n),("overflow-y"==t.overflow||"auto"==t.overflow)&&e("y"),("overflow-x"==t.overflow||"auto"==t.overflow)&&e("x"),t._smartVisible()},_smartVisible:function(){function e(e){var t=a._axis[e],i=a["_"+e+"Scrollbar"],n=a.getContainer(),o={};return i&&i.isVisible()||(n.style[t.unSize]=n[t.unClientSize]-a._scrollBarSize+"px"),o[t.unSize]=n[t.unClientSize],o["scroll"+t.unSize]=n[t.unScrollSize],o}function t(e,t){var i=a._axis[e],n=a.getContainer();a["_"+e+"Visible"]&&t[e+"show"]&&a["_"+e+"Scrollbar"]||(n.style[i.unSize]=n[i.unClientSize]+a._scrollBarSize+"px")}function i(e,t){var i=a._axis[e],n=a.getContainer(),o=a["_"+e+"Scrollbar"],r=t[e+"show"];o&&(o.getMain().style[i.size]=n[i.offsetSize]+"px",o.setVisible(a["_"+e+"Visible"]?r:!1),o.update())}var a=this,n={yshow:!1,xshow:!1};a.getContainer()&&(baidu.object.extend(n,e("y")),baidu.object.extend(n,e("x")),n.scrollwidth<=n.width+a._scrollBarSize&&n.scrollheight<=n.height+a._scrollBarSize?n.yshow=n.xshow=!1:n.scrollwidth<=n.width&&n.scrollheight>n.height+a._scrollBarSize?(n.yshow=!0,n.xshow=!1):n.scrollwidth>n.width+a._scrollBarSize&&n.scrollheight<=n.height?(n.yshow=!1,n.xshow=!0):n.yshow=n.xshow=!0,t("y",n),t("x",n),i("y",n),i("x",n))},setVisible:function(e,t){var i=this;t?i["_"+t+"Visible"]=e:i._yVisible=i._xVisible=e,i._smartVisible()},isVisible:function(e){var t=this;return t["_"+e+"Visible"]},getScrollBar:function(e){var t=this,i=e?t["_"+e+"Scrollbar"]:null;return i||(i=t._yScrollbar&&t._xScrollbar?[t._yScrollbar,t._xScrollbar]:t._yScrollbar||t._xScrollbar),i},update:function(e){var t=this;baidu.object.extend(t,e),t._smartVisible()},getPanel:function(){return baidu.dom.g(this.getId("panel"))},getTarget:function(){return baidu.dom.g(this.target)},getContainer:function(){return baidu.dom.g(this.container)},dispose:function(){var e=this,t=e._yScrollbar,i=e._xScrollbar;e.dispatchEvent("dispose"),e.getMain().parentNode.appendChild(e.getTarget()),t&&t.dispose(),i&&i.dispose(),baidu.dom.remove(e.getMain()),baidu.lang.Class.prototype.dispose.call(e)}}),baidu.ui.Tree=baidu.ui.createUI(function(){this._treeNodes={}}),baidu.ui.Tree.TreeNode=function(e){var t=this;baidu.object.extend(t,e),t.id=t.id||baidu.lang.guid(),t.childNodes=[],t._children=[],window.$BAIDU$._instances[t.id]=t,t._tree={},t._stringArray=[]},baidu.ui.Tree.TreeNode.prototype={uiType:"tree-node",text:"",type:"leaf",isToggle:!0,_getId:function(e){return this.id+"-"+e},_getClass:function(e){var t=this,i="tangram-tree-node-"+e;return t.skin&&(i+=" "+t.skin+"-"+e),i},_getCallRef:function(){return"window['$BAIDU$']._instances['"+this.id+"']"},getString:function(){var e=this,t=e._stringArray,i="",a=1==e.highLight?"highLight":"";return t.push('<dl class="'+a+'" id="',e.id,'">'),e._createBodyStringArray(),i=e.isExpand?"display:''":"display:none",t.push('<dd  style="'+i+'" id="',e.id,'-subNodeId"></dd></dl>'),t.join("")},getParentNode:function(){return this.parentNode},setParentNode:function(e){var t=this;t.parentNode=e,t._level=e._level+1},getChildNodes:function(){return this.childNodes},setTree:function(e){var t=this;t._tree=e,t._tree._treeNodes[t.id]=t},getTree:function(){return this._tree},appendData:function(e){var t=this;baidu.dom.insertHTML(t._getSubNodesContainer(),"beforeEnd",t._getSubNodeString(e)),t._isRenderChildren=!0},_getSubNodeString:function(e){for(var t,i,a,n=this,o=[],r=0,i=e.length;i>r;r++)a=e[r],t=new baidu.ui.Tree.TreeNode(a),r==i-1&&(t._isLast=!0),n._appendChildData(t,i-1),o.push(t.getString());return o.join("")},isParent:function(e){for(var t=this,i=e;!i.isRoot&&(i=i.getParentNode());)if(i==t)return!0;return!1},appendTo:function(e){var t=this;t.getParentNode()._removeChildData(t),e.appendChild(t),t.dispatchEvent("appendto")},moveTo:function(e){var t,i,a=this,n=a.getParentNode();return null==n?!1:(t=e.isExpand&&e.getChildNodes().length>0?e:e.getParentNode(),n._removeChildData(a),i=t==e?-1:e.getIndex(),t.appendChild(a,i),void a.dispatchEvent("moveto"))},_appendChildData:function(e,t,i){var a=this,n=a.getChildNodes();e.parentNode=a,e.setTree(a.getTree()),i?(n.splice(t+1,0,e),a._children.splice(t+1,0,e.json)):(n.push(e),a._children.push(e.json))},appendChild:function(e,t){var i,a,n,o=this,r=e._getContainer(),s=o._getSubNodesContainer();return null==t&&(t=o.getChildNodes().length-1),o._appendChildData(e,t,!0),n=o.getChildNodes(),i=e.getParentNode(),a=e.getString(),r?-1==t?1==n.length?s.appendChild(r):baidu.dom.insertBefore(r,n[1]._getContainer()):baidu.dom.insertAfter(r,n[t]._getContainer()):-1==t?1==n.length?baidu.dom.insertHTML(s,"beforeEnd",a):baidu.dom.insertHTML(n[1]._getContainer(),"beforeBegin",a):baidu.dom.insertHTML(n[t]._getContainer(),"afterEnd",a),e._updateAll(),e._updateOldParent(i),"leaf"==o.type&&(o.type="trunk",o._getIconElement().className=o._getClass("trunk")),o._getSpanElement().innerHTML=o._getImagesString(),e},_updateOldParent:function(e){var t=this;return e?void(e.getLastChild()?e.getLastChild()._update():(t.getTree().expandable&&(e._getIconElement().className=t._getClass("leaf"),e.type="leaf"),e._update())):!1},_removeChildData:function(e,t){var i=this;if(baidu.array.remove(i._children,e.json),baidu.array.remove(i.childNodes,e),delete i.getTree().getTreeNodes()[e.id],t)for(;e.childNodes[0];)e._removeChildData(e.childNodes[0])},removeAllChildren:function(){for(var e=this,t=e.getChildNodes();t[0];)e.removeChild(t[0],!0)},removeChild:function(e){if(null==e.getParentNode())return!1;var t=this,i=t.getChildNodes();t._removeChildData(e,!0),delete t.getTree().getTreeNodes()[e.id],baidu.dom.remove(e._getContainer()),t.getTree().setCurrentNode(null),i.length<=0&&!t.isRoot&&(t._getSubNodesContainer().style.display="none",t.getTree().expandable&&(t._getIconElement().className=t._getClass("leaf"),t.type="leaf")),t._updateAll()},_updateAll:function(){var e=this,t=e.getPrevious();t&&t._update(),e._update()},_update:function(){var e=this;e._getSpanElement().innerHTML=e._getImagesString(),baidu.array.each(e.childNodes,function(e){e._update()})},update:function(e){var t=this,i=t._getHrefElement(),a=t._getTextElement();baidu.extend(t,e),(i?i:a).innerHTML=t.text},_switchToggleState:function(e,t,i,a){var n=this,o=n._getToggleElement();if("leaf"==n.type)return!1;if(n.isExpand=a,o&&(o.className=n._getClass(n.isLastNode()?t:i)),n.getChildNodes()&&n.getChildNodes().length>0){var r=n._getSubNodesContainer();"none"==e?baidu.fx.collapse(r,{duration:300,onafterfinish:function(){n.getTree().dispatchEvent("toggle",{treeNode:n})}}):baidu.fx.expand(r,{duration:300,onafterfinish:function(){n.getTree().dispatchEvent("toggle",{treeNode:n})}})}},expand:function(){var e=this;e._isRenderChildren||e.appendData(e.children),e._switchToggleState("block","Lminus","Tminus",!0)},collapse:function(){this._switchToggleState("none","Lplus","Tplus",!1)},toggle:function(){var e=this;return"leaf"==e.type?!1:void(e.isExpand?e.collapse():e.expand())},_switchFocusState:function(e,t,i){var a=this;baidu.dom[i](a._getNodeElement(),a._getClass("current")),"leaf"!=a.type&&(a._getIconElement().className=a._getClass(e),a.isOpen=t)},blur:function(){var e=this;e._switchFocusState("trunk",!1,"removeClass"),e.getTree().setCurrentNode(null)},focus:function(){var e=this,t=e.getTree().getCurrentNode();null!=t&&t.blur(),e._switchFocusState("open-trunk",!0,"addClass"),e.getTree().setCurrentNode(e),baidu.dom.removeClass(e._getNodeElement(),e._getClass("over"))},_onMouseOver:function(e){var t=this;t!=t.getTree().getCurrentNode()&&baidu.dom.addClass(t._getNodeElement(),t._getClass("over")),t.dispatchEvent("draghover",{event:e}),t.dispatchEvent("sorthover",{event:e})},_onMouseOut:function(){var e=this;baidu.dom.removeClass(e._getNodeElement(),e._getClass("over")),e.getTree().dispatchEvent("mouseout",{treeNode:e})},_onClick:function(){var e=this;e.focus(),e.getTree().dispatchEvent("click",{treeNode:e})},_onMouseDown:function(e){var t=this;t.dispatchEvent("dragdown",{event:e})},_onDblClick:function(e){var t=this;t.focus(),t.isToggle&&t.toggle(),t.getTree().dispatchEvent("dblclick",{treeNode:t,event:e})},_onContextmenu:function(e){var t=this;return t.getTree().dispatchEvent("contextmenu",{treeNode:t,event:e})},_onToggleClick:function(e){var t=this;t.isToggle&&t.toggle(),t.getTree().dispatchEvent("toggle",{treeNode:t}),baidu.event.stopPropagation(e)},_createBodyStringArray:function(){for(var e=this,t=e._stringArray,i=0,a=e.parentNode;a;)i++,a=a.parentNode;t.push('<dt id="',e.id,'-node" class="tangram-tree-level-'+i+" tangram-tree-node-node tangram-tree-"+e.type+'"'),e.skin&&t.push(" ",e.skin,"-node"),t.push(' onclick="',e._getCallRef()+"._onClick(event)",'"> <span id="',e.id,'-span">',e._getImagesString(!0),"</span>"),e._createIconStringArray(),e._createTextStringArray(),t.push("</dt>")},_getImagesString:function(e){var t=this,i="";return i+=t._getIdentString(e),"leaf"==t.type?i+=t._getTLString(e):"trunk"==t.type&&(i+=t.children&&t.children.length>0?t._getToggleString(e):t._getTLString(e)),i},_getIdentString:function(e){var t,i=this,a="";for(a='<span   class="tangram-tree-node-blank"></span>'+a;i.getParentNode()&&"root"!=i.getParentNode().type;)i=i.getParentNode(),t=i.isLastNode(e)?"blank":"I",className="tangram-tree-node-"+t,i.skin&&(className+=" "+i.skin+"-"+t),a='<span   class="'+className+'"></span>'+a;return a},_getTLString:function(e){var t=this,i=t.isLastNode(e)?"L":"T";return className="tangram-tree-node-"+i,t.skin&&(className+=" "+t.skin+"-"+i),'<span   class="'+className+'" ></span>'},_getToggleString:function(e){var t=this,i=t.isExpand?"minus":"plus",a=(t.isLastNode(e)?"L":"T")+i,n="tangram-tree-node-"+a;
return t.skin&&(n+=" "+t.skin+"-"+a),['<span onclick="',t._getCallRef(),'._onToggleClick(event)" class="',n,'" id="',t.id,'-toggle"></span>'].join("")},_createIconStringArray:function(){var e=this,t="leaf"==e.type?"leaf":"trunk",i=e._stringArray;e.isOpen&&(t="open-trunk"),i.push('<span  class="tangram-tree-node-',t),e.skin&&i.push(" ",e.skin,"-",t),i.push('" style="',e.icon?"background-image:url("+e.icon+")":"",'" id="',e.id,'-icon"></span>')},_createTextStringArray:function(){var e=this,t=e.href?e._createHrefStringArray():e.text,i=e._stringArray;i.push('<span title="',e.title||e.text,'" id="',e.id,'-text" >',t,"</span></span>"),1==e.highLight&&i.push('<i class="light-icon"></i>')},_createHrefStringArray:function(){var e=this,t=e._stringArray;t.push('<a id="',e.id,"-link",e.target?"target='"+e.target+"'":"",' hidefocus="on" " href="',e.href,'" >',e.text,"</a>")},_getSpanElement:function(){return baidu.g(this._getId("span"))},_getIconElement:function(){return baidu.g(this._getId("icon"))},_getTextContainer:function(){return baidu.g(this._getId("textContainer"))},_getTextElement:function(){return baidu.g(this._getId("text"))},_getToggleElement:function(){return baidu.g(this._getId("toggle"))},_getSubNodesContainer:function(){return baidu.g(this._getId("subNodeId"))},_getHrefElement:function(){return baidu.g(this._getId("link"))},_getNodeElement:function(){return baidu.g(this._getId("node"))},_getContainer:function(){return baidu.g(this.id)},hide:function(){baidu.dom.hide(this._getNodeElement())},show:function(){baidu.dom.show(this._getNodeElement())},expandAll:function(){var e=this;e.children&&e.expand(),baidu.array.each(e.getChildNodes(),function(e){e.expandAll()})},collapseAll:function(){var e=this;e.getChildNodes().length>0&&e.collapse(),baidu.array.each(e.getChildNodes(),function(e){e.collapseAll()})},getIndex:function(){for(var e=this,t=e.isRoot?[]:e.getParentNode().getChildNodes(),i=-1,a=0,n=t.length;n>a;a++)if(t[a]==e)return a;return i},getNext:function(){var e,t=this,i=t.getIndex();return t.isRoot?t:(e=t.getParentNode().getChildNodes(),i+1>=e.length?t:e[i+1])},getPrevious:function(){var e,t=this,i=t.getIndex();return t.isRoot?t:(e=t.getParentNode().getChildNodes(),0>i-1?t:e[i-1])},getFirstChild:function(){var e=this,t=e.getChildNodes();return t.length<=0?null:t[0]},getLastChild:function(){var e=this,t=e.getChildNodes();return t.length<=0?null:t[t.length-1]},isLastNode:function(e){var t=this;return e?t._isLast:t.isRoot?!0:t.getIndex()==t.parentNode.childNodes.length-1}},baidu.object.extend(baidu.ui.Tree.TreeNode.prototype,baidu.lang.Class.prototype),baidu.ui.Tree.extend({uiType:"tree",tplDOM:"<div class='#{class}'>#{body}</div>",getString:function(){var e=this;return baidu.format(e.tplDOM,{"class":e.getClass(),body:e._getBodyString()})},render:function(e){var t=this;t.renderMain(e).innerHTML=t.getString(),t.dispatchEvent("onload")},_getBodyString:function(){var e="",t=this;return t.data&&(t._rootNode=new baidu.ui.Tree.TreeNode(t.data),t._rootNode.isRoot=!0,t._rootNode.type="root",t._rootNode._level=0,t._rootNode.setTree(t),e=t._rootNode.getString()),e},getTreeNodes:function(){return this._treeNodes},getRootNode:function(){return this._rootNode},getTreeNodeById:function(e){return this.getTreeNodes()[e]},getCurrentNode:function(){return this._currentNode},setCurrentNode:function(e){this._currentNode=e},dispose:function(){var e=this;e.dispatchEvent("dispose"),baidu.dom.remove(e.getMain()),baidu.lang.Class.prototype.dispose.call(e)}}),rs.Topic=function(e,t){function i(){if(w.data.topicId)return void a();var e=new rs.Request("view/getFEntryTableContent");e.callback=function(e){baidu.object.extend(w.data,e.selectedTable),a()},e.args=[0,8,{fentryTableId:w.topicId,lemmaId:-1,subLemmaId:-1}],e.post()}function a(){R.innerHTML=baidu.string.encodeHTML(rs.subByte(w.data.topicTitle,24)),R.title=baidu.string.encodeHTML(w.data.topicTitle),n(),u(),_(),p(),T(),I(),y(),C(1)}function n(e){var t=e||D;return S=new baidu.ui.ScrollPanel({overflow:"overflow-y",container:t,element:t}),S.render(t),scrollBar=S.getScrollBar("y"),window.TestScroll=S,o(),s(),S}function o(){scrollBar.addEventListener("scroll",function(e){var t=null;t&&clearTimeout(t),t=setTimeout(function(){var t=baidu.dom.getPosition(e.currentTarget.container).top,i=t+390;r(e.currentTarget.container,[t,i])},150)})}function r(e,t){if(!e)return!1;for(var i=baidu.dom.q("lazy-img",e),a=0,n=i.length;n>a;a++){var o=i[a],r=baidu.dom.getPosition(o).top;if(r>t[0]-50&&r<t[1]){var s=baidu.dom.getAttr(o,"data-tangram-ori-src");""!==s&&(o.src=baidu.dom.getAttr(o,"data-tangram-ori-src")),baidu.dom.setAttr(o,"data-tangram-ori-src","")}}}function s(){var e=S.getScrollBar("y");if("undefined"!=typeof baikeViewInfo){var t=baidu.dom.q("point-"+w.lemmaId,w.container)[0];if("undefined"==typeof t)return e.scrollTo(0),!1;var i=(baikeViewInfo.id,w.data.topicId),a=baidu.dom.g("rs-"+w.subLemmaId+"-"+i),n=(baidu.q("scrollPanel",a)[0],baidu.q("main",a)[0]),o=baidu.dom.children(S.getContainer())[0],r=(baidu.dom.getPosition(t).top-baidu.dom.getPosition(n).top)/o.offsetHeight*100;e.scrollTo(r)}}function d(e){if(e.menuId=e.id,e.id=w.subLemmaId+"-"+w.data.topicId+"-"+e.id,e.title=baidu.string.encodeHTML(e.text),e.text=baidu.string.encodeHTML(e.text.subText(6)),"leaf"!=e.type&&e.children)for(var t=0;e.children[t];t++)("leaf"!=e.children[t].type||e.children[t].typeList&&0!=e.children[t].typeList.length)&&d(e.children[t])}function l(e,t,i){if(window[e.target.guid]||e.target.getRootNode().expand(),window[e.target.guid]=!0,e.target.getTreeNodeById(w.subLemmaId+"-"+i+"-"+t))return!1;for(var a=t;a>0;a--){var n=e.target.getTreeNodeById(w.subLemmaId+"-"+i+"-"+a);if(void 0!=n)return n.expand(),arguments.callee(e,t,i)}}function u(){d(w.data.menu),N=new baidu.ui.Tree({data:w.data.menu,expandable:!1,ontoggle:x,onload:function(e){var t=w.data.topicId;if(w.data.defaultTab){var i=w.data.defaultTab.menuId;l(e,i,t)}else e.target.getRootNode().expand(),e.target.getRootNode().getFirstChild().expandAll()}}),N.render(k),N.getRootNode().hide(),N.onclick=function(e){var t=e.treeNode;if("leaf"==t.type)j=t.menuId,L=t,c(),C(1);else{t.toggle();var i=N.getCurrentNode();baidu.dom.removeClass(i._getNodeElement(),i._getClass("current")),x()}var a=baidu.g(e.treeNode.id),n=baidu.dom.getAncestorByClass(a,"rs-topic"),o=baidu.dom.getPosition(n).top,s=o+390;setTimeout(function(){r(n,[o,s])},200)},rs.hover(baidu.dom.query(".tangram-tree-leaf",z),"tangram-tree-node-over"),x()}function c(){if(q[j])return P.innerHTML=q[j].tabHtml,q[j].selId&&(baidu.dom.radioClass(baidu.dom.query('li[typeid="'+q[j].selId+'"]',P)[0],"sel"),O=q[j].selId,m()),!1;if(!L.typeList||0==L.typeList.length)return!1;var e=g(L.typeList);O=L.typeList[0],q[j]={tabHtml:e,selId:O},P.innerHTML=q[j].tabHtml,m()}function g(e){var t=["<ul>"];if(e.length<2)var i=' <li style="display:none" class="#{cls}" typeid="#{id}"><a title="#{title}"><b></b>#{mainTitle}</a></li>';else i=' <li class="#{cls}" typeid="#{id}"><a title="#{title}"><b></b>#{mainTitle}</a></li>';for(var a=0;e[a];a++){var n=w.data.tab[e[a]].text,o={title:baidu.string.encodeHTML(n),mainTitle:baidu.string.encodeHTML(rs.subByte(n,12)),cls:0==a?"sel":"",id:e[a]};t.push(baidu.format(i,o))}return t.push("</ul>"),t.join("")}function p(){baidu.on(P,"click",function(e){var t=baidu.event.getTarget(e),i=baidu.dom.getAncestorByTag(t,"li");i&&(baidu.dom.radioClass(i,"sel"),O=q[j].selId=baidu.dom.getAttr(i,"typeid"),m())})}function m(){var e=baidu.dom.query(".scrollPanel",z)[0];if(!q[j]||!q[j][O]){baidu.show(B);var t=new rs.Request("view/getTopicTableContent");return t.callback=function(e){if(0==e.error_code){q[j][O]={infoHtml:f(e.pageData.typeTpl,e.pageData.typeData),typeTpl:e.pageData.typeTpl,typeData:e.pageData.typeData},q[j][O].infoHtml=v(q[j][O].infoHtml,e.pageData.typeTpl),baidu.dom.query(".main",z)[0].innerHTML="<div class='scrollPanel'></div>";var t=baidu.dom.query(".scrollPanel",z)[0];t.innerHTML=q[j][O].infoHtml,baidu.hide(B),n(t)}},t.args=[{topicId:w.data.topicId,menuId:j,typeId:O}],void t.post()}q[j][O].infoHtml=v(q[j][O].infoHtml,q[j][O].typeTpl),baidu.dom.query(".main",z)[0].innerHTML="<div class='scrollPanel'></div>",e=baidu.dom.query(".scrollPanel",z)[0],e.innerHTML=q[j][O].infoHtml,n(e)}function f(e,t){var i=e.richTemplate.picture;1==e.richTemplate.type&&(e.richTemplate.layout=i.position.indexOf("left")>-1?"left":"right",e.richTemplate.vAlign=i.position.indexOf("top")>-1?"top":"middle");for(var a={},n=0;n<e.attriList.length;n++)a[e.attriList[n].attriIndex]=e.attriList[n].attriId;for(var o=0;o<e.richTemplate.content.length;o++)liTpl=e.richTemplate.content[o],liTpl.newExpression=liTpl.expression.replace(/#{(\d+)}/g,function(){return"#{"+a[arguments[1]]+"}"});for(var r=[],s=0;t[s];s++){for(var d=t[s],l={pic:d.pic},u=0;e.attriList[u];u++){var c=e.attriList[u],g=d[c.attriId];if(g){if(baidu.lang.isArray(g)){var p=[];baidu.each(g,function(t){var i=2==e.richTemplate.type?t.text:b(c,t);p.push(baidu.string.format(c.expression,[i]))}),l[c.attriId]=p.join("")}else l[c.attriId]=2==e.richTemplate.type?g.text:b(c,g);"undefined"!=typeof baikeViewInfo&&w.subLemmaId==g.subLemmaId&&(l.isPoint=1)}}rs.apply(l,t[s][e.attriList[0].attriId]),r.push({html:h(e.richTemplate,l),isSelected:l.isPoint})}if(1==e.richTemplate.type){var m=['<table class="info-list"><tr>'];for(s=0;r[s];s++)0!=s&&s%e.richTemplate.repeat==0&&m.push('</tr> <tr class="info-split"><td  colspan="'+e.richTemplate.repeat+'"></td></tr>'),m.push(1===r[s].isSelected?'<td  width="'+parseInt(100/e.richTemplate.repeat)+'%" class="info-list-td beInLemma">':'<td  width="'+parseInt(100/e.richTemplate.repeat)+'%" class="info-list-td">'),m.push(r[s].html),m.push("</td>");m.push("</table><br style='height:10px'>")}else if(2==e.richTemplate.type){for(m=['<ul class="image-type-ul">'],s=0;r[s];s++)m.push(r[s].html);m.push("</ul>")}return m.join("")}function h(e,t){t=t||{text:"测试数据"};var i={pic:"#{pic}",lemmaId:"#{lemmaId}",subLemmaId:"#{subLemmaId}",text:"#{text}",size:e.picture.size};if(1==e.type){var a=['<div class="item-wp"><table class="info-item "><tr>'],n='<td valign="#{vAlign}" width="#{size}" ><a class="point-#{lemmaId}" href="https://baike.baidu.com/view/#{lemmaId}.htm#sub#{subLemmaId}" title="#{text}" target="_blank"><img class="lazy-img info-img #{layout}" src="/guanxi/static/image/relation-default.png" data-tangram-ori-src="#{pic}" style="width:#{size}px;height:#{size}px;" /><span class="img-w"></span></a></td> ',o=rs.apply({vAlign:e.vAlign,layout:e.layout},i),r=baidu.string.format(n,o),s=['<td valign="top"> <ul class="info-detail">'];for(var d in e.content){var l=e.content[d];"object"==typeof l&&s.push(baidu.format('<li class="#{type}  #{position}">#{newExpression}</li>',l))}s.push("</ul></td>"),"left"==e.layout?a.push(r,s.join("")):a.push(s.join(""),r),a.push("</tr></table></div>");var u=a.join("")}else if(2==e.type){if(i.layout=e.content[0].position||"center",0==t.lemmaId)var c=encodeURIComponent(t.text),g='" style="width:#{size}px;height:#{size}px;" class="#{layout} point-#{lemmaId}" href="http://baike.baidu.com/searchword/?word='+c+'&amp;pic=1&amp;enc=utf8" title="#{text}" target="_blank"><i class="click-fix" style="width:#{size}px;height:#{size}px;"></i><span style="width:#{size}px;height:#{size}px;line-height:#{size}px"><img class="lazy-img info-img" style="width:#{size}px" data-tangram-ori-src="#{pic}" src="/guanxi/static/image/relation-default.png" /></span><p class="mask"></p><p class="title">';else g='" style="width:#{size}px;height:#{size}px;" class="#{layout} point-#{lemmaId}" href="https://baike.baidu.com/view/#{lemmaId}.htm#sub#{subLemmaId}" title="#{text}" target="_blank"><i class="click-fix" style="width:#{size}px;height:#{size}px;"></i><span style="width:#{size}px;height:#{size}px;line-height:#{size}px"><img class="lazy-img info-img" data-tangram-ori-src="#{pic}" src="/guanxi/static/image/relation-default.png" style="width:#{size}px"/></span><p class="mask"></p><p class="title">';8==e.repeat?i.size=60:5==e.repeat&&(i.size=98),l=e.content[0],s=1===t.isPoint?['<li class="beInLemma"><a title="',l.newExpression,baidu.string.format(g,i),l.newExpression,'</p><div class="over-div" style="width:'+(i.size-2)+"px;height:"+(i.size-2)+"px;margin-top:-"+i.size+'px;"></div></a></li>']:['<li><a title="',l.newExpression,baidu.string.format(g,i),l.newExpression,'</p><div class="over-div" style="width:'+(i.size-2)+"px;height:"+(i.size-2)+"px;margin-top:-"+i.size+'px;"></div></a></li>'],u=s.join("")}return t.text=baidu.string.encodeHTML(t.text),t.pic=t.pic&&t.pic.length>0?"https://imgsa.baidu.com/baike/abpic/item/"+t.pic+".jpg":"/guanxi/static/image/relation-default.png",baidu.format(u,t)}function b(e,t){var i=baidu.string.encodeHTML(t.text),a=encodeURIComponent(t.text);baidu.extend(t,{text:i,textDesc:a});var n,o=t;if(1==e.isLinked)if(t.lemmaId>0)n=t.subLemmaId>0?baidu.format('<a target="_blank" href="https://baike.baidu.com/view/#{lemmaId}.htm#sub#{subLemmaId}"  title="#{text}">#{text}</a>',o):baidu.format('<a target="_blank" href="https://baike.baidu.com/view/#{lemmaId}.htm"  title="#{text}">#{text}</a>',o);else if("AB"==t.attriType)if(i.indexOf("、")>-1){var r=[];for(var s in i.split("、"))s=baidu.string.encodeHTML(s),r.push(baidu.format('<a target="_blank" href="https://baike.baidu.com/searchword/?word=#{itemDesc}&pic=1&sug=1&enc=utf8" title="#{item}">#{item}</a>'),{item:s,itemDesc:encodeURIComponent(s)})}else n=baidu.format('<a target="_blank" href="https://baike.baidu.com/searchword/?word=#{textDesc}&pic=1&sug=1&enc=utf8" class="link-inner" title="#{text}">#{text}</a>',o);else o.cls=0==t.entryId?"":"relation-create-lemma-color",o.title=0==t.entryId?i:"待创建",n=baidu.format('  <a target="_blank" href="https://baike.baidu.com/searchword/?word=#{textDesc}&pic=1&sug=1&enc=utf8" class="#{cls}"  title="#{title}">#{text}</a>',o);else n=i;return n}function v(e,t){if(e){var i=8;return 8==t.richTemplate.repeat?i=8:5==t.richTemplate.repeat&&(i=14),e.replace(/<p class="title">(.*?)<\/p>/g,function(){return['<p class="title">',rs.subByte(arguments[1],i,".."),"</p>"].join("")})}}function y(){baidu.on(z,"mouseover",function(e){var t=baidu.event.getTarget(e),i=baidu.dom.getAncestorByClass(t,"info-list-td");i&&rs.hover(i,"info-list-td-over")})}function T(){var e=function(){var e=navigator.userAgent.toLowerCase(),t=/(webkit)/.exec(e)||/(opera)/.exec(e)||/(msie)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)/.exec(e)||[];return"mozilla"==t[1]?"DOMMouseScroll":"mousewheel"};baidu.event.on(k,e(),function(e){e=e||window.event,detail=e.detail||-e.wheelDelta,baidu.event.preventDefault(e),k.scrollTop+=2*detail,x()})}function _(){var e,t=0,i=!0;baidu.on(E,"click",function(e){if(!i)return void(i=!0);var t="",a=baidu.event.getTarget(e);if(baidu.dom.hasClass(a,"up")?t="up":baidu.dom.hasClass(a,"down")&&(t="down"),t.length>0){var n=k.scrollTop,o=100,r=n;"up"==t?r-=o:r+=o,baidu.fx.scrollTo(k,[n,r],{onafterfinish:x})}}),baidu.on(E,"mousedown",function(i){var a="",n=baidu.event.getTarget(i);baidu.dom.hasClass(n,"up")?a="up":baidu.dom.hasClass(n,"down")&&(a="down"),a.length>0&&(t=(new Date).getTime(),clearInterval(e),e=setInterval(function(){"up"==a?k.scrollTop-=5:k.scrollTop+=5,x()},50))}),baidu.on(E,"mouseup",function(){clearInterval(e);var a=(new Date).getTime();a-t>500&&(i=!1),x()})}function x(){var e=baidu.q("tangram-tree",k)[0];e.offsetHeight<350?baidu.hide(E):baidu.show(E),0==k.scrollTop?(baidu.dom.addClass(H,"up-disable"),baidu.dom.removeClass(H,"up")):(baidu.dom.removeClass(H,"up-disable"),baidu.dom.addClass(H,"up")),k.scrollHeight==k.scrollTop+k.offsetHeight?(baidu.dom.addClass(A,"down-disable"),baidu.dom.removeClass(A,"down")):(baidu.dom.removeClass(A,"down-disable"),baidu.dom.addClass(A,"down"))}function I(){if("undefined"!=typeof w.data.defaultTab){var e=w.subLemmaId+"-"+w.data.topicId+"-"+w.data.defaultTab.menuId;t=N.getTreeNodeById(e)}else for(var t=N.getRootNode();t&&"leaf"!=t.type;)t=t.getFirstChild();N.setCurrentNode(t),t.focus(),L=t,j=t.menuId,O=w.data.defaultTab?w.data.defaultTab.typeId:t.typeList[0],w.data.typeTpl&&w.data.typeData&&(q[j]={selId:O,tabHtml:g(t.typeList)},q[j][O]={infoHtml:f(w.data.typeTpl,w.data.typeData),typeTpl:w.data.typeTpl,typeData:w.data.typeData},c())}function C(e){var t=baidu.string.encodeHTML(rs.subByte(w.data.topicTitle,24)),i=baidu.string.encodeHTML(w.data.topicTitle);if(1==e){var a=baidu.dom.g(N._currentNode.id+"-text").title;R.innerHTML=t+" · <span>"+a+"</span>",R.title=i+" · "+a}}var w=this;if(w.data={},baidu.object.extend(w,e),w.container){var S,N,L,z=w.container,k=baidu.dom.q("tree",z)[0],E=baidu.dom.q("scroll",z)[0],M=baidu.dom.query(".scroll a",z),H=M[0],A=M[1],P=baidu.dom.q("tab-div",z)[0],D=baidu.dom.q("scrollPanel",z)[0],B=baidu.dom.q("mask-box",z)[0],R=baidu.dom.query(".head h1",z)[0],q={},j=0,O=122;i(),t&&t(this)}this.initScroll=s,this.initScrollPanel=n,this.changeTitle=C,this.addInfoListHover=y,this.fnOnScroll=o,this.previewTopic=function(e){for(var t={},i=0;e.attriList[i];i++){var a=e.attriList[i];t[a.attriId]={entryId:"60241",lemmaId:"928962",subLemmaId:928962,text:"测试数据"+a.attriIndex}}var n=[];for(i=0;50>i;i++)n.push(t);return'<div class="rs-topic"><div class="main">'+f(e,n)+"</div></div>"}}})}});
;/*!wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/tangram.js*/
define("wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/tangram",function(e,t,n){var r,o=r=o||function(e,t){return o.dom?o.dom(e,t):null};if(o.version="2.0.0.0",o.guid="$BAIDU$",o.key="tangram_guid",window[o.guid]=window[o.guid]||{},o.check=o.check||function(){},o.lang=o.lang||{},o.forEach=function(e,t,n){var r,o,i;if("function"==typeof t&&e)if("number"==typeof e.length)for(r=0,o=e.length;o>r;r++)i=e[r]||e.charAt&&e.charAt(r),t.call(n||null,i,r,e);else if("number"==typeof e)for(r=0;e>r;r++)t.call(n||null,r,r,r);else if("object"==typeof e)for(r in e)e.hasOwnProperty(r)&&t.call(n||null,e[r],r,e);return e},o.type=function(){var e={},t=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment"],n="Array Boolean Date Error Function Number RegExp String",r=e.toString;return o.forEach(n.split(" "),function(t){e["[object "+t+"]"]=t.toLowerCase(),o["is"+t]=function(e){return o.type(e)==t.toLowerCase()}}),function(n){var o=typeof n;return"object"!=o?o:null==n?"null":n._type_||e[r.call(n)]||t[n.nodeType]||(n==n.window?"Window":"")||"object"}}(),o.isDate=function(e){return"date"==o.type(e)&&"Invalid Date"!=e.toString()&&!isNaN(e)},o.isElement=function(e){return"HTMLElement"==o.type(e)},o.isEnumerable=function(e){return null!=e&&"object"==typeof e&&("number"==typeof e.length||"undefined"!=typeof e[0])},o.isNumber=function(e){return"number"==o.type(e)&&isFinite(e)},o.isPlainObject=function(e){var t,n=Object.prototype.hasOwnProperty;if("object"!=o.type(e))return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(t in e);return void 0===t||n.call(e,t)},o.isObject=function(e){return"function"==typeof e||"object"==typeof e&&null!=e},o.extend=function(e,t){var n,r,i,a,s,l,u=1,c=arguments.length,d=e||{};for(o.isBoolean(e)&&(u=2)&&(d=t||{}),!o.isObject(d)&&(d={});c>u;u++)if(n=arguments[u],o.isObject(n))for(r in n)i=d[r],a=n[r],i!==a&&(o.isBoolean(e)&&e&&a&&(o.isPlainObject(a)||(s=o.isArray(a)))?(s?(s=!1,l=i&&o.isArray(i)?i:[]):l=i&&o.isPlainObject(i)?i:{},d[r]=o.extend(e,l,a)):void 0!==a&&(d[r]=a));return d},o.createChain=function(e,t,n){var r="dom"==e?"$DOM":"$"+e.charAt(0).toUpperCase()+e.substr(1),i=Array.prototype.slice,a=o[e]=o[e]||t||function(t){return o.extend(t,o[e].fn)};return a.extend=function(t){var n;for(n in t)a[n]=function(){var t=arguments[0];"dom"==e&&"string"==o.type(t)&&(t="#"+t);var r=a(t),s=r[n].apply(r,i.call(arguments,1));return"$DOM"==o.type(s)?s.get(0):s};return o.extend(o[e].fn,t)},o[e][r]=o[e][r]||n||function(){},a.fn=o[e][r].prototype,a},o.overwrite=function(e,t,n){for(var r=t.length-1;r>-1;r--)e.prototype[t[r]]=n(t[r]);return e},o.object=o.object||{},o.object.isPlain=o.isPlainObject,o.createChain("string",function(e){var t=o.type(e),n=new String(~"string|number".indexOf(t)?e:t),r=String.prototype;return o.forEach(o.string.$String.prototype,function(e,t){r[t]||(n[t]=e)}),n}),o.string.extend({trim:function(){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(){return this.replace(e,"")}}()}),o.createChain("array",function(e){var t,n=o.array.$Array.prototype,r=Array.prototype;"array"!=o.type(e)&&(e=[]);for(t in n)r[t]||(e[t]=n[t]);return e}),o.overwrite(o.array.$Array,"concat slice".split(" "),function(e){return function(){return o.array(Array.prototype[e].apply(this,arguments))}}),o.array.extend({indexOf:function(e,t){o.check(".+(,number)?","baidu.array.indexOf");var n=this.length;for((t=0|t)<0&&(t=Math.max(0,n+t));n>t;t++)if(t in this&&this[t]===e)return t;return-1}}),o.createChain("Callbacks",function(e){function t(e){var t=n[e]={};return o.forEach(e.split(/\s+/),function(e){t[e]=!0}),t}var n={};e="string"==typeof e?n[e]||t(e):o.extend({},e);var r,i,a,s,l,u,c=[],d=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,u=s||0,s=0,l=c.length,a=!0;c&&l>u;u++)if(c[u].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}a=!1,c&&(d?d.length&&f(d.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function n(t){o.forEach(t,function(t){"function"!=typeof t||e.unique&&p.has(t)?t&&t.length&&n(t):c.push(t)})}(arguments),a?l=c.length:r&&(s=t,f(r))}return this},remove:function(){return c&&o.forEach(arguments,function(e){for(var t;(t=o.array(c).indexOf(e,t))>-1;)c.splice(t,1),a&&(l>=t&&l--,u>=t&&u--)}),this},has:function(e){return o.array(c).indexOf(e)>-1},empty:function(){return c=[],this},disable:function(){return c=d=r=void 0,this},disabled:function(){return!c},lock:function(){return d=void 0,r||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||i&&!d||(a?d.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},function(){}),o.createChain("Deferred",function(e){var t=Array.prototype.slice,n=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return o.Deferred(function(t){o.forEach(n,function(n,r){var o=n[0],i=e[r];a[n[1]]("function"==typeof i?function(){var e=i.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[o+"With"](this===a?t:this,[e])}:t[o])}),e=null}).promise()},promise:function(e){return"object"==typeof e?o.extend(e,i):i}},a={};return i.pipe=i.then,o.forEach(n,function(e,t){var o=e[2],s=e[3];i[e[1]]=o.add,s&&o.add(function(){r=s},n[1^t][2].disable,n[2][2].lock),a[e[0]]=o.fire,a[e[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),o.extend(o,{when:function(e){var n,r,i,a=0,s=t.call(arguments),l=s.length,u=1!==l||e&&"function"==typeof e.promise?l:0,c=1===u?e:o.Deferred(),d=function(e,r,o){return function(i){r[e]=this,o[e]=arguments.length>1?t.call(arguments):i,o===n?c.notifyWith(r,o):--u||c.resolveWith(r,o)}};if(l>1)for(n=new Array(l),r=new Array(l),i=new Array(l);l>a;a++)s[a]&&"function"==typeof s[a].promise?s[a].promise().done(d(a,i,s)).fail(c.reject).progress(d(a,r,n)):--u;return u||c.resolveWith(i,s),c.promise()}}),a},function(){}),o._util_=o._util_||{},o.global=o.global||function(){var e=o._util_.$global=window[o.guid];return function(t,n,r){return"undefined"!=typeof n?(n=r&&"undefined"!=typeof e[t]?e[t]:n,e[t]=n):t&&"undefined"==typeof e[t]&&(e[t]={}),e[t]}}(),o.browser=o.browser||function(){var e=navigator.userAgent,t={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(e)&&!/like gecko/i.test(e),isWebkit:/webkit/i.test(e)};try{/(\d+\.\d+)/.test(external.max_version)&&(t.maxthon=+RegExp.$1)}catch(n){}switch(!0){case/msie (\d+\.\d+)/i.test(e):t.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(e):t.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e):t.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(e):t.firefox=+RegExp.$1;break;case/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(e):t.opera=+(RegExp.$6||RegExp.$2)}return o.extend(o,t),t}(),o.id=function(){var e=o.global("_maps_id"),t=o.key;return o.global("_counter",1,!0),function(n,r){var i,a=o.isString(n),s=o.isObject(n),l=s?n[t]:a?n:"";if(o.isString(r))switch(r){case"get":return s?l:e[l];case"remove":case"delete":return(i=e[l])&&(o.browser.ie&&o.isElement(i)?i.removeAttribute(t):delete i[t],delete e[l]),l;case"decontrol":return!(i=e[l])&&s&&(n[t]=l=o.id()),l&&delete e[l],l;default:return a?((i=e[l])&&delete e[l],i&&(e[i[t]=r]=i)):s&&(l&&delete e[l],e[n[t]=r]=n),r}return s?(!l&&(e[n[t]=l=o.id()]=n),l):a?e[n]:"TANGRAM__"+o._util_.$global._counter++}}(),o.id.key="tangram_guid",o.merge=function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var o=t.length;o>r;r++)e[n++]=t[r];else for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},o.array.extend({unique:function(e){var t,n,r=this.length,o=this.slice(0);for("function"!=typeof e&&(e=function(e,t){return e===t});--r>0;)for(n=o[r],t=r;t--;)if(e(n,o[t])){o.splice(r,1);break}for(r=this.length=o.length,t=0;r>t;t++)this[t]=o[t];return this}}),o.query=o.query||function(){function e(e,t){var r,i,a,s,l,u,c,d=[];return n.test(e)?(a=RegExp.$2,s=RegExp.$1||"*",o.forEach(t.getElementsByTagName(s),function(e){e.id==a&&d.push(e)})):rTag.test(e)||"*"==e?o.merge(d,t.getElementsByTagName(e)):rClass.test(e)?(u=[],s=RegExp.$1,l=RegExp.$2,r=" "+l+" ",t.getElementsByClassName?u=t.getElementsByClassName(l):o.forEach(t.getElementsByTagName("*"),function(e){e.className&&(" "+e.className+" ").indexOf(r)>-1&&u.push(e)}),s&&(s=s.toUpperCase())?o.forEach(u,function(e){e.tagName.toUpperCase()===s&&d.push(e)}):o.merge(d,u)):rComboClass.test(e)&&(c=e.substr(1).split("."),o.forEach(t.getElementsByTagName("*"),function(e){e.className&&(r=" "+e.className+" ",i=!0,o.forEach(c,function(e){-1==r.indexOf(" "+e+" ")&&(i=!1)}),i&&d.push(e))})),d}function t(n,i){var a,s=n,l="__tangram__",u=[];return!i&&r.test(s)&&(a=document.getElementById(s.substr(1)))?[a]:(i=i||document,i.querySelectorAll?(1!=i.nodeType||i.id?a=i.querySelectorAll(s):(i.id=l,a=i.querySelectorAll("#"+l+" "+s),i.id=""),a):-1==s.indexOf(" ")?e(s,i):(o.forEach(e(s.substr(0,s.indexOf(" ")),i),function(e){o.merge(u,t(s.substr(s.indexOf(" ")+1),e))}),u))}var n=/^(\w*)#([\w\-\$]+)$/,r=/^#([\w\-\$]+)$/;return rTag=/^\w+$/,rClass=/^(\w*)\.([\w\-\$]+)$/,rComboClass=/^(\.[\w\-\$]+)+$/,rDivider=/\s*,\s*/,rSpace=/\s+/g,slice=Array.prototype.slice,function(e,n,r){if(!e||"string"!=typeof e)return r||[];var i=[];return e=e.replace(rSpace," "),r&&o.merge(i,r)&&(r.length=0),o.forEach(e.indexOf(",")>0?e.split(rDivider):[e],function(e){o.merge(i,t(e,n))}),o.merge(r||[],o.array(i).unique())}}(),o.createChain("dom",function(e,t){var n=new o.dom.$DOM(t);if(!e)return n;if("$DOM"==e._type_)return e;if(e.nodeType||e==e.window)return n[0]=e,n.length=1,n;if(e.length&&"[object String]"!=n.toString.call(e))return o.merge(n,e);if("string"==typeof e)"<"==e.charAt(0)&&">"==e.charAt(e.length-1)&&e.length>3?o.dom.createElements&&o.merge(n,o.dom.createElements(e)):o.query(e,t,n);else if("function"==typeof e)return n.ready?n.ready(e):n;return n},function(e){this.length=0,this._type_="$DOM",this.context=e||document}).extend({size:function(){return this.length},splice:function(){},get:function(e){return"number"==typeof e?0>e?this[this.length+e]:this[e]:Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}}),o.dom.extend({ready:function(){function e(){if(!e.isReady){e.isReady=!0;for(var t=0,n=i.length;n>t;t++)i[t]()}}function t(){try{document.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1)}e()}function n(){if(!o)if(o=!0,"complete"===document.readyState)e.isReady=!0;else if(document.addEventListener)document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",r),window.attachEvent("onload",e);var n=!1;try{n=null==window.frameElement}catch(i){}document.documentElement.doScroll&&n&&t()}}var r,o=!1,i=[];return document.addEventListener?r=function(){document.removeEventListener("DOMContentLoaded",r,!1),e()}:document.attachEvent&&(r=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r),e())}),n(),function(t){return t&&(e.isReady?t():i.push(t)),this}}()}),o.dom.ready=o.dom.fn.ready,o.support=o.support||function(){var e,t,n,r=document.createElement("div");return r.innerHTML='<a href="/a" style="top:1px; float: left; opacity: .55">Tangram</a><input type="checkbox">',t=r.getElementsByTagName("A")[0],n=r.getElementsByTagName("input")[0],n.checked=!0,e={opacity:"0.55"===t.style.opacity,cssFloat:!!t.style.cssFloat,noCloneChecked:n.cloneNode(!0).checked,noCloneEvent:!0},!r.addEventListener&&r.attachEvent&&r.fireEvent&&(r.attachEvent("onclick",function(){e.noCloneEvent=!1}),r.cloneNode(!0).fireEvent("onclick")),o(function(){var n,r,o,i,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div"),u=document.createElement("div"),c="padding: 0; margin: 0; border: ",d="left: 0; top: 0; width: 0px; height: 0px; ",f=d+c+"0; visibility: hidden;",p=d+c+"5px solid #000; position: absolute;";l.style.cssText="position: static;"+f,s.insertBefore(l,s.firstChild),l.appendChild(u),u.style.cssText="position: absolute;"+f,u.innerHTML='<div style="'+p+'display: bloack;"><div style="'+c+'0; display: block; overflow: hidden;"></div></div><table style="'+p+'" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>',n=u.firstChild,r=n.firstChild,a=n.nextSibling,e.hasBorderWidth=r.offsetTop>=5,e.hasTableCellBorderWidth=a.rows[0].cells[0].offsetTop>=5,r.style.position="fixed",r.style.top="20px",e.fixedPosition=20===r.offsetTop||15===r.offsetTop,e.deleteExpando=!0;try{delete u.test}catch(h){e.deleteExpando=!1}o=document.createElement("select"),i=o.appendChild(document.createElement("option")),o.disabled=!0,e.optDisabled=!i.disabled,e.optSelected=i.selected,u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var g=u.getElementsByTagName("input")[0];e.checkOn="on"===g.value,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.leadingWhitespace=3===u.firstChild.nodeType,e.getSetAttribute="t"!==u.className,e.pixelMargin=!0,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",window.getComputedStyle&&(e.pixelMargin="1%"!==(window.getComputedStyle(u,null)||{}).marginTop);var g=document.createElement("input");g.value="t",g.setAttribute("type","radio"),e.radioValue="t"===g.value,e.hrefNormalized="/a"===t.getAttribute("href"),e.style=/top/.test(t.getAttribute("style")),e.enctype=!!document.createElement("form").enctype,s.removeChild(l),l=u=n=r=a=null}),e}(),o.createChain("event",function(){var e={};return function(t,n){switch(o.type(t)){case"object":return e.originalEvent===t?e:e=new o.event.$Event(t);case"$Event":return t;case"string":var r=new o.event.$Event(t);return"object"==typeof n&&o.forEach(r,n),r}}}(),function(e){var t,n,r=this;if(this._type_="$Event","object"==typeof e&&e.type){r.originalEvent=t=e,o.forEach("altKey bubbles button buttons cancelable clientX clientY ctrlKey commandKey currentTarget fromElement metaKey screenX screenY shiftKey toElement type view which triggerData".split(" "),function(e){r[e]=t[e]}),r.target=r.srcElement=t.srcElement||((n=t.target)?3==n.nodeType?n.parentNode:n:null),r.relatedTarget=t.relatedTarget||((n=t.fromElement)?n===r.target?t.toElement:n:null),r.keyCode=r.which=t.keyCode||t.which,r.which||void 0===t.button||(r.which=1&t.button?1:2&t.button?3:4&t.button?2:0);var i=document.documentElement,a=document.body;r.pageX=t.pageX||t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=t.pageY||t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0),r.data}"string"==typeof e&&(this.type=e),this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}),o.dom.extend({each:function(e){o.check("function","baidu.dom.each");var t,n,r=this.length;for(t=0;r>t&&(n=e.call(this[t],t,this[t],this),n!==!1&&"break"!=n);t++);return this}}),o.dom.match=function(){function e(e){for(var t,n=[];e=e.parentNode;)e.nodeType&&n.push(e);for(var t=n.length-1;t>-1;t--)if(1==n[t].nodeType||9==n[t].nodeType)return n[t];return null}var t=document.createElement("DIV");return t.id="__tangram__",function(t,n,r){var i,a=o.array();switch(o.type(n)){case"$DOM":for(var s=t.length-1;s>-1;s--)for(var l=n.length-1;l>-1;l--)t[s]===n[l]&&a.push(t[s]);break;case"function":o.forEach(t,function(e,t){n.call(e,t)&&a.push(e)});break;case"HTMLElement":o.forEach(t,function(e){e==n&&a.push(e)});break;case"string":var u=o.query(n,r||document);o.forEach(t,function(t){if(i=e(t))for(var r=1==i.nodeType?o.query(n,i):u,s=0,l=r.length;l>s;s++)if(r[s]===t){a.push(t);break}}),a=a.unique();break;default:a=o.array(t).unique()}return a}}(),o.dom.extend({is:function(e){return o.dom.match(this,e).length>0}}),o.dom.extend({triggerHandler:function(e,t){var n=o._util_.eventBase;return o.forEach(this,function(r){n.fireHandler(r,e,t)}),this}}),o.dom._g=function(e){return"string"===o.type(e)?document.getElementById(e):e},o.dom.extend({contains:function(e){if(e=o.dom(e),this.size()<=0||e.size()<=0)return!1;var t=this[0];return e=e[0],t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e))}}),o.dom.contains=function(e,t){var n=o.dom._g;return e=n(e),t=n(t),e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},o.dom.extend({closest:function(e,t){var n=o.array();return o.forEach(this,function(r){for(var i=[r];r=r.parentNode;)r.nodeType&&i.push(r);i=o.dom.match(i,e,t),i.length&&n.push(i[0])}),o.dom(n.unique())}}),o._util_.eventBase=function(){var e={},t={},n=window.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(){},r=function(e,r,i){var a=o.id(e),s=t[a]=t[a]||{};if(!s[r]){s[r]=1;var l=function(t){var n=Array.prototype.slice.call(arguments,1);n.unshift(t=o.event(t)),t.currentTarget||(t.currentTarget=e);for(var r=0,a=i.length;a>r;r+=2)i[r].apply(this,n)};n(e,r,l)}},i=function(t,n,i,a,s){var l=function(e){var n=o.dom(e.target);return s&&!e.data&&(e.data=s),e.triggerData&&[].push.apply(arguments,e.triggerData),a?n.is(a)||n.is(a+" *")?e.result=i.apply(o.dom(e.target).closest(a)[0],arguments):void 0:e.result=i.apply(t,arguments)},u=o.id(t),c=e[u]||(e[u]={}),d=c[n]||(c[n]=[]);return d.push(l,i),r(t,n,d),l},a=function(t,n,r){var i;if(i=o.id(t,"get")){var a=e[i]||(e[i]={}),s={mouseenter:"mouseover",mouseleave:"mouseout",focusin:"focus",focusout:"blur"},l=a[n]||(a[n]=[]);s[n]&&(a[s[n]]=[]);for(var u,c=l.length-1;c>=0;c--)u=l[c],u===r&&l.splice(c-1,2)}},s=function(t,n){var r;if(r=o.id(t,"get")){var i=e[r]||(e[r]={}),s=function(e){for(var n,r=i[e]||(i[e]=[]),o=r.length-1;o>=0;o-=2)n=r[o],a(t,e,n)};if(n)s(n);else for(var n in i)s(n)}},l=function(t,n,r){var i;if(i=o.id(t,"get")){var a=e[i]||(e[i]={}),s=a[n]||(a[n]=[]),l=o.event({type:n}),u=[l];r&&(l.triggerData=r,u.push.apply(u,r));for(var c=0,d=s.length;d>c;c+=2)s[c].apply(this,u)}},u=function(t){var n;if(n=o.id(t,"get")){var r,i=e[n]||(e[n]={}),a={};for(var s in i){r=a[s]=[],ce=i[s];for(var l=1,u=ce.length;u>l;l+=2)r.push(ce[l])}return a}},c=function(e){switch(e){case"focusin":case"focusout":if(!/firefox/i.test(navigator.userAgent))return!1;var t={},n="focusin"==e?"focus":"blur";return t[e]=function(t,r){"function"==typeof t&&(r=t,t=null);var i=this;if(r){var a=function(){i.triggerHandler(e)};return o.forEach(this,function(e){o("textarea,select,input,button,a",e).on(n,a)}),this._on(e,t,r),this}return this.triggerHandler(e,t)},o.dom.extend(t),!0;case"mouseenter":case"mouseleave":if(/msie/i.test(navigator.userAgent))return!1;var t={},n="mouseenter"==e?"mouseover":"mouseout",r=o.dom.contains;return t[e]=function(t,i){if(0==arguments.length)return this.trigger(e);"function"==typeof t&&(i=t,t=null);var a=this,s=function(t){related=t.relatedTarget,(!related||related!==this&&!r(this,related))&&a.triggerHandler(e)};return o.forEach(this,function(){this.on(n,s)},this),this._on(e,t,i),this},o.dom.extend(t),!0}return!1};return{add:function(e,t,n,r,o){return i(e,t,n,r,o)},get:function(e){return u(e)},remove:function(e,t,n,r){var i;return(i=o.id(e,"get"))&&n&&n["_"+i+"_"+t]&&(n=n["_"+i+"_"+t],delete n["_"+i+"_"+t]),"function"==typeof n?a(e,t,n,r):s(e,t,r)},removeAll:function(e){return s(e)},fireHandler:function(e,t,n){return l(e,t,n)},method:function(e){if(arguments.length>1){for(var t=0,n=arguments.length;n>t;t++)this.method(arguments[t]);return this}if(!c(e)){var r={};r[e]=function(t,n){return 0==arguments.length?this.trigger(e):("function"==typeof t&&(n=t,t=null),this._on(e,t,n))},o.dom.extend(r)}},_getEventsLength:function(t,n){var r,i=0;if(t)if(r=e[o.id(t[0]||t,"get")],n)r[n]&&(i=r[n].length);else for(var a in r)i+=r[a].length;else for(var a in e){r=e[a];for(var s in r)i+=r[s].length}return i/2}}}(),o._util_.eventBase.method("blur","change","click","dblclick","error","focus","focusin","focusout","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit","load","unload","contextmenu"),o.dom.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},o.dom.extend({on:function(e,t,n,r){var i=o._util_.eventBase,a={mouseenter:1,mouseleave:1,focusin:1,focusout:1};return"object"==typeof t&&t?(r=n,n=t,t=null):"function"==typeof n?(r=n,n=null):"function"==typeof t&&(r=t,t=n=null),"string"==typeof e?(e=e.split(/[ ,]+/),this.each(function(){o.forEach(e,function(e){a[e]?o(this)[e](n,r):i.add(this,e,r,t,n)},this)})):"object"==typeof e&&(r&&(r=null),o.forEach(e,function(e,r){this.on(r,t,n,e)},this)),this},_on:function(e,t,n){var r=o._util_.eventBase;return this.each(function(){r.add(this,e,n,void 0,t)}),this}}),o.event.on=o.on=function(e,t,n){return e=o.dom.g(e),o.dom(e).on(t.replace(/^\s*on/,""),n),e},void function(){function e(e){var t,n;if(!e||"string"!==o.type(e))return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(r){t=void 0}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return t}function t(e){if(!e||"string"!==o.type(e))return null;if(e=o.string(e).trim(),window.JSON&&window.JSON.parse)return window.JSON.parse(e);if(E.test(e.replace(T,"@").replace(C,"]").replace(_,"")))return new Function("return "+e)();throw new Error("Invalid JSON: "+e)}function n(e){e&&/\S/.test(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)}function r(e){return function(t,n){"string"!==o.type(t)&&(n=t,t="*");var r,i,a=t.toLowerCase().split(/\s+/);if("function"===o.type(n))for(var s,l=0;s=a[l];l++)r=/^\+/.test(s),r&&(s=s.substr(1)||"*"),i=e[s]=e[s]||[],i[r?"unshift":"push"](n)}}function i(e,t,n){var r,o,i,a,s=e.contents,l=e.dataTypes,u=e.responseFields;for(o in u)o in n&&(t[u[o]]=n[o]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==l[0]&&l.unshift(i),n[i]):void 0}function a(e,t){var n,r,o=e.dataTypes.slice(),i=o[0],a={};if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(var s in e.converters)a[s.toLowerCase()]=e.converters[s];for(var l,s=0;l=o[++s];)if("*"!==l){if("*"!==i&&i!==l){if(n=a[i+" "+l]||a["* "+l],!n)for(var u in a)if(r=u.split(" "),r[1]===l&&(n=a[i+" "+r[0]]||a["* "+r[0]])){n===!0?n=a[u]:a[u]!==!0&&(l=r[0],o.splice(s--,0,l));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+i+" to "+l}}}i=l}return{state:"success",data:t}}function s(e,t,n,r,o,i){o=o||t.dataTypes[0],i=i||{},i[o]=!0;for(var a,l=e[o],u=l?l.length:0,c=e===M,d=0;u>d&&(c||!a);d++)a=l[d](t,n,r),"string"==typeof a&&(!c||i[a]?a=void 0:(t.dataTypes.unshift(a),a=s(e,t,n,r,a,i)));return!c&&a||i["*"]||(a=s(e,t,n,r,"*",i)),a}function l(e,t){var n,r=o.ajax.settings.flatOptions||{};for(var i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);n&&o.extend(!0,e,n)}function u(e,t,n){n="function"===o.type(n)?n():n||"",e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function c(e,t,n,r){if("array"===o.type(n))o.forEach(n,function(n,o){r||y.test(t)?u(e,t,n):c(e,t+"["+("object"==typeof n?o:"")+"]",n,r)});else if(r||"object"!==o.type(n))u(e,t,n);else for(var i in n)c(e,t+"["+i+"]",n[i],r)}function d(){try{return new window.XMLHttpRequest}catch(e){}}function f(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var p=location.href,h=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,g=/^\/\//,m=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,v=/#.*$/,y=/\[\]$/,b=/^(?:GET|HEAD)$/,x=/([?&])_=[^&]*/,w=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,E=/^[\],:{}\s]*$/,_=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,C=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,S=["*/"]+["*"],M={},L={},N={},A={},k=m.exec(p.toLowerCase())||[];o.createChain("ajax",function(e,t){function n(e,t,n,r){var o,s,u,d,g,m=t;2!==C&&(C=2,p&&clearTimeout(p),f=void 0,c=r||"",D.readyState=e>0?4:0,n&&(d=i(h,D,n)),e>=200&&300>e||304===e?(h.ifModified&&(g=D.getResponseHeader("Last-Modified"),g&&(N[l]=g),g=D.getResponseHeader("Etag"),g&&(A[l]=g)),304===e?(m="notmodified",o=!0):(o=a(h,d),m=o.state,s=o.data,u=o.error,o=!u)):(u=m,(!m||e)&&(m="error",0>e&&(e=0))),D.status=e,D.statusText=""+(t||m),o?E.resolveWith(y,[s,m,D]):E.rejectWith(y,[D,m,u]),D.statusCode(T),T=void 0,_.fireWith(y,[D,m]))}o.object.isPlain(e)&&(t=e,e=void 0),t=t||{};var r,l,u,c,d,f,p,h=o.ajax.setup({},t),y=h.context||h,E=o.Deferred(),_=o.Callbacks("once memory"),T=h.statusCode||{},C=0,O={},H={},I="canceled",D=o.extend(new o.ajax.$Ajax(e,h),{readyState:0,setRequestHeader:function(e,t){if(!C){var n=e.toLowerCase();e=O[n]=O[n]||e,H[e]=t}},getAllResponseHeaders:function(){return 2===C?c:null},getResponseHeader:function(e){var t;if(2===C){if(!d)for(d={};t=w.exec(c);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return!C&&(h.mimeType=e),this},abort:function(e){return e=e||I,f&&f.abort(e),n(0,e),this}});if(E.promise(D),D.success=D.done,D.error=D.fail,D.complete=_.add,D.statusCode=function(e){if(e)if(2>C)for(var t in e)T[t]=[T[t],e[t]];else D.always(e[D.status]);return this},h.url=((e||h.url)+"").replace(v,"").replace(g,k[1]+"//"),h.dataTypes=o.string(h.dataType||"*").trim().toLowerCase().split(/\s+/),null==h.crossDomain&&(u=m.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]==k[1]&&u[2]==k[2]&&(u[3]||("http:"===u[1]?80:443))==(k[3]||("http:"===k[1]?80:443)))),h.data&&h.processData&&"string"!==o.type(h.data)&&(h.data=o.ajax.param(h.data,h.traditional)),s(M,h,t,D),2===C)return"";if(r=h.global,h.type=h.type.toUpperCase(),h.hasContent=!b.test(h.type),!h.hasContent&&(h.data&&(h.url+=(~h.url.indexOf("?")?"&":"?")+h.data,delete h.data),l=h.url,h.cache===!1)){var j=(new Date).getTime(),F=h.url.replace(x,"$1_="+j);h.url=F+(F===h.url?(~h.url.indexOf("?")?"&":"?")+"_="+j:"")}(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&D.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(l=l||h.url,N[l]&&D.setRequestHeader("If-Modified-Since",N[l]),A[l]&&D.setRequestHeader("If-None-Match",A[l])),D.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+S+"; q=0.01":""):h.accepts["*"]);for(var B in h.headers)D.setRequestHeader(B,h.headers[B]);if(h.beforeSend&&(h.beforeSend.call(y,D,h)===!1||2===C))return D.abort();I="abort";for(var B in{success:1,error:1,complete:1})D[B](h[B]);if(f=s(L,h,t,D)){D.readyState=1,h.async&&h.timeout>0&&(p=setTimeout(function(){D.abort("timeout")},h.timeout));try{C=1,f.send(H,n)}catch(P){if(!(2>C))throw P;n(-1,P)}}else n(-1,"No Transport");return D},function(e,t){this.url=e,this.options=t}),o.ajax.settings={url:p,isLocal:h.test(k[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":S},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":t,"text xml":e},flatOptions:{context:!0,url:!0}},o.ajax.setup=function(e,t){return t?l(e,o.ajax.settings):(t=e,e=o.ajax.settings),l(e,t),e},o.ajax.param=function(e,t){var n=[];if("array"===o.type(e))o.forEach(e,function(e){u(n,e.name,e.value)});else for(var r in e)c(n,r,e[r],t);return n.join("&").replace(/%20/g,"+")},o.ajax.prefilter=r(M),o.ajax.transport=r(L);var O=[],H=/(=)\?(?=&|$)|\?\?/,I=(new Date).getTime();o.ajax.setup({jsonp:"callback",jsonpCallback:function(){var e=O.pop()||o.id.key+"_"+I++;return this[e]=!0,e}}),o.ajax.prefilter("json jsonp",function(e,t,n){var r,i,a,s=e.data,l=e.url,u=e.jsonp!==!1,c=u&&H.test(l),d=u&&!c&&"string"===o.type(s)&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&H.test(s);return"jsonp"===e.dataTypes[0]||c||d?(r=e.jsonpCallback="function"===o.type(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,i=window[r],c?e.url=l.replace(H,"$1"+r):d?e.data=s.replace(H,"$1"+r):u&&(e.url+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a[0]},e.dataTypes[0]="json",window[r]=function(){a=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,O.push(r)),a&&"function"===o.type(i)&&i(a[0]),a=i=void 0}),"script"):void 0}),o.ajax.setup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return n(e),e}}}),o.ajax.prefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),o.ajax.transport("script",function(e){if(e.crossDomain){var t,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,o){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,n&&t.parentNode&&n.removeChild(t),t=void 0,!r&&o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var D,j=0,F=window.ActiveXObject?function(){for(var e in D)D[e](0,1)}:!1;o.ajax.settings.xhr=window.ActiveXObject?function(){return!this.isLocal&&d()||f()}:d,void function(e){o.extend(o.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(o.ajax.settings.xhr()),o.support.ajax&&o.ajax.transport(function(e){if(!e.crossDomain||o.support.cors){var t;return{send:function(n,r){var i,a=e.xhr();if(e.username?a.open(e.type,e.url,e.async,e.username,e.password):a.open(e.type,e.url,e.async),e.xhrFields)for(var s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(var s in n)a.setRequestHeader(s,n[s])}catch(l){}a.send(e.hasContent&&e.data||null),t=function(n,o){var s,l,u,c,d;try{if(t&&(o||4===a.readyState))if(t=void 0,i&&(a.onreadystatechange=function(){},F&&delete D[i]),o)4!==a.readyState&&a.abort();else{s=a.status,u=a.getAllResponseHeaders(),c={},d=a.responseXML,d&&d.documentElement&&(c.xml=d);try{c.text=a.responseText}catch(f){}try{l=a.statusText}catch(f){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(p){!o&&r(-1,p)}c&&r(s,l,c,u)},e.async?4===a.readyState?setTimeout(t,0):(i=++j,F&&(D||(D={},o.dom(window).on("unload",F)),D[i]=t),a.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}}})}(),o.createChain("fn",function(e){return new o.fn.$Fn(~"function|string".indexOf(o.type(e))?e:function(){})},function(e){this.fn=e}),o.fn.blank=function(){},o.ajax.request=function(e,t){function n(){if(4==l.readyState){try{var e=l.status}catch(t){return void i("failure")}i(e),i(e>=200&&300>e||304==e||1223==e?"success":"failure"),window.setTimeout(function(){l.onreadystatechange=o.fn.blank,d&&(l=null)},0)}}function r(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")
}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return window.XMLHttpRequest?new XMLHttpRequest:void 0}function i(e){e="on"+e;var t=v[e],n=o.ajax[e];if(t)if(a&&clearTimeout(a),"onsuccess"!=e)t(l);else{try{l.responseText}catch(r){return t(l)}t(l,l.responseText)}else if(n){if("onsuccess"==e)return;n(l)}}var a,s,l,u=t||{},c=u.data||"",d=!(u.async===!1),f=u.username||"",p=u.password||"",h=(u.method||"GET").toUpperCase(),g=u.headers||{},m=u.timeout||0,v={};for(s in u)v[s]=u[s];g["X-Requested-With"]="XMLHttpRequest";try{l=r(),"GET"==h&&(c&&(e+=(e.indexOf("?")>=0?"&":"?")+c,c=null),u.noCache&&(e+=(e.indexOf("?")>=0?"&":"?")+"b"+ +new Date+"=1")),f?l.open(h,e,d,f,p):l.open(h,e,d),d&&(l.onreadystatechange=n),"POST"==h&&l.setRequestHeader("Content-Type",g["Content-Type"]||"application/x-www-form-urlencoded");for(s in g)g.hasOwnProperty(s)&&l.setRequestHeader(s,g[s]);i("beforerequest"),m&&(a=setTimeout(function(){l.onreadystatechange=o.fn.blank,l.abort(),i("timeout")},m)),l.send(c),d||n()}catch(y){i("failure")}return l},o.url=o.url||{},o.url.escapeSymbol=function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},o.ajax.form=function(e,t){function n(e,t){y.push(e+"="+t)}t=t||{};var r,i,a,s,l,u,c,d,f,p=e.elements,h=p.length,g=(e.getAttribute("method"),e.getAttribute("action")),m=t.replacer||function(e){return e},v={},y=[];for(r in t)t.hasOwnProperty(r)&&(v[r]=t[r]);for(r=0;h>r;r++)if(i=p[r],s=i.name,!i.disabled&&s)switch(a=i.type,l=o.url.escapeSymbol(i.value),a){case"radio":case"checkbox":if(!i.checked)break;case"textarea":case"text":case"password":case"hidden":case"select-one":n(s,m(l,s));break;case"select-multiple":for(u=i.options,d=u.length,c=0;d>c;c++)f=u[c],f.selected&&n(s,m(f.value,s))}return v.data=y.join("&"),v.method=e.getAttribute("method")||"GET",o.ajax.request(g,v)},o.ajax.get=function(e,t){return o.ajax.request(e,{onsuccess:t})},o.ajax.post=function(e,t,n){return o.ajax.request(e,{onsuccess:n,method:"POST",data:t})},o.array.extend({contains:function(e){return this.indexOf(e)>-1}}),o.each=function(e,t,n){var r,o,i,a;if("function"==typeof t&&e)if("number"==typeof e.length)for(r=0,o=e.length;o>r&&(i=e[r]||e.charAt&&e.charAt(r),a=t.call(n||i,r,i,e),a!==!1&&"break"!=a);r++);else if("number"==typeof e)for(r=0;e>r&&(a=t.call(n||r,r,r,r),a!==!1&&"break"!=a);r++);else if("object"==typeof e)for(r in e)if(e.hasOwnProperty(r)&&(a=t.call(n||e[r],r,e[r],e),a===!1||"break"==a))break;return e},void function(){o.array.each=o.array.forEach=function(e,t,n){var r=function(e,r,o){return t.call(n||o,r,e,o)};return o.isEnumerable(e)?o.each(e,"function"==typeof t?r:"",n):e}}(),o.array.extend({empty:function(){return this.length=0,this}}),Array.prototype.every=function(e,t){o.check("function(,.+)?","baidu.array.every");var n,r;for(n=0,r=this.length;r>n;n++)if(!e.call(t||this,this[n],n,this))return!1;return!0},o.array.every=function(e,t,n){return o.isArray(e)?e.every(t,n):e},Array.prototype.filter=function(e,t){var n,r,i,a=o.array([]),s=0;if("function"===o.type(e))for(n=0,r=this.length;r>n;n++)i=this[n],e.call(t||this,i,n,this)===!0&&(a[s++]=i);return a},o.array.filter=function(e,t,n){return o.isArray(e)?e.filter(t,n):[]},o.array.extend({find:function(e){var t,n,r=this.length;if("function"==o.type(e))for(t=0;r>t;t++)if(n=this[t],e.call(this,n,t,this)===!0)return n;return null}}),o.array.extend({hash:function(e){var t,n,r={},o=e&&e.length;for(t=0,n=this.length;n>t;t++)r[this[t]]=o&&o>t?e[t]:!0;return r}}),o.array.extend({lastIndexOf:function(e,t){o.check(".+(,number)?","baidu.array.lastIndexOf");var n=this.length;for((!(t=0|t)||t>=n)&&(t=n-1),0>t&&(t+=n);t>=0;t--)if(t in this&&this[t]===e)return t;return-1}}),Array.prototype.map=function(e,t){o.check("function(,.+)?","baidu.array.map");var n,r,i=o.array([]);for(n=0,r=this.length;r>n;n++)i[n]=e.call(t||this,this[n],n,this);return i},o.array.map=function(e,t,n){return o.isArray(e)?e.map(t,n):e},Array.prototype.reduce=function(e,t){o.check("function(,.+)?","baidu.array.reduce");var n=0,r=this.length;if("undefined"!=typeof t||(t=this[n++],"undefined"!=typeof t)){for(;r>n;n++)t=e(t,this[n],n,this);return t}},o.array.reduce=function(e,t,n){return o.isArray(e)?e.reduce(t,n):e},o.array.extend({remove:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this}}),o.array.extend({removeAt:function(e){return o.check("number","baidu.array.removeAt"),this.splice(e,1)[0]}}),Array.prototype.some=function(e,t){o.check("function(,.+)?","baidu.array.some");var n,r;for(n=0,r=this.length;r>n;n++)if(e.call(t||this,this[n],n,this))return!0;return!1},o.array.some=function(e,t,n){return e.some(t,n)},o.createChain("async",function(e){return"string"==typeof e?new o.async.$Async(e):new o.async.$Async},function(e){this.url=e}),o.object.extend=o.extend,o.lang.isFunction=o.isFunction,o.async._isDeferred=function(e){var t=o.lang.isFunction;return e&&t(e.success)&&t(e.then)&&t(e.fail)&&t(e.cancel)},o.async.extend({Deferred:function(){return o.async.Deferred.apply(this,arguments),this}}),o.async.Deferred=function(){function e(){if(!t._cancelled&&!t._firing){if(t._nextDeferred)return void t._nextDeferred.then(t._resolveChain[0],t._rejectChain[0]);t._firing=1;for(var e=t._isError?t._rejectChain:t._resolveChain,n=t._result[t._isError?1:0];e[0]&&!t._cancelled;)try{var r=e.shift().call(t,n);o.async._isDeferred(r)&&(t._nextDeferred=r,[].push.apply(r._resolveChain,t._resolveChain),[].push.apply(r._rejectChain,t._rejectChain),e=t._resolveChain=[],t._rejectChain=[])}catch(i){throw i}finally{t._fired=1,t._firing=0}}}var t=this;o.extend(t,{_fired:0,_firing:0,_cancelled:0,_resolveChain:[],_rejectChain:[],_result:[],_isError:0}),t.resolve=t.fireSuccess=function(n){return t._result[0]=n,e(),t},t.reject=t.fireFail=function(n){return t._result[1]=n,t._isError=1,e(),t},t.then=function(n,r){return t._resolveChain.push(n),t._rejectChain.push(r),t._fired&&e(),t},t.success=function(e){return t.then(e,o.fn.blank)},t.fail=function(e){return t.then(o.fn.blank,e)},t.cancel=function(){t._cancelled=1}},o.async.extend({get:function(){var e=this.url,t=new o.async.Deferred;return o.ajax.request(e,{onsuccess:function(e,n){t.resolve({xhr:e,responseText:n})},onfailure:function(e){t.reject({xhr:e})}}),t}}),o.async.extend({post:function(e){var t=this.url,n=new o.async.Deferred;return o.ajax.request(t,{method:"POST",data:e,onsuccess:function(e,t){n.resolve({xhr:e,responseText:t})},onfailure:function(e){n.reject({xhr:e})}}),n}}),o.async.when=function(e,t,n){if(o.async._isDeferred(e))return e.then(t,n),e;var r=new o.async.Deferred;return r.then(t,n).resolve(e),r},o.base=o.base||{},o.cookie=o.cookie||{},o.cookie._isValidKey=function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},o.cookie.getRaw=function(e){if(o.cookie._isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n)return n[2]||null}return null},o.cookie.get=function(e){var t=o.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},o.cookie.setRaw=function(e,t,n){if(o.cookie._isValidKey(e)){n=n||{};var r=n.expires;"number"==typeof n.expires&&(r=new Date,r.setTime(r.getTime()+n.expires)),document.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},o.cookie.remove=function(e,t){t=t||{},t.expires=new Date(0),o.cookie.setRaw(e,"",t)},o.cookie.set=function(e,t,n){o.cookie.setRaw(e,encodeURIComponent(t),n)},o.object.isEmpty=function(e){var t=!0;if("[object Array]"===Object.prototype.toString.call(e))t=!e.length;else{e=new Object(e);for(var n in e)return!1}return t},o._util_.cleanData=function(e){for(var t,n,r=0;n=e[r];r++)t=o.id(n,"get"),t&&(o._util_.eventBase.removeAll(n),o.id(n,"remove"))},o.json=o.json||{},o.json.parse=function(e){return new Function("return ("+e+")")()},function(){function e(e){var t;for(t in e)if(("data"!==t||!o.object.isEmpty(e[t]))&&"toJSON"!==t)return!1;return!0}var t=/^-ms-/,n=/-([\da-z])/gi,r=function(e,t){return(t+"").toUpperCase()};o.extend(o._util_,{camelCase:function(e){return e.replace(t,"ms-").replace(n,r)}}),o.extend(o._util_,{cache:{},deletedIds:[],uuid:0,expando:"baidu"+("2.0.0"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?o._util_.cache[t[o._util_.expando]]:t[o._util_.expando],!!t&&!e(t)},data:function(e,t,n,r){if(o._util_.acceptData(e)){var i,a,s=o._util_.expando,l="string"==typeof t,u=e.nodeType,c=u?o._util_.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||!l||void 0!==n)return d||(u?e[s]=d=o._util_.deletedIds.pop()||++o._util_.uuid:d=s),c[d]||(c[d]={},u||(c[d].toJSON=function(){})),("object"==typeof t||"function"==typeof t)&&(r?c[d]=o.extend(c[d],t):c[d].data=o.extend(c[d].data,t)),i=c[d],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[o._util_.camelCase(t)]=n),l?(a=i[t],null==a&&(a=i[o._util_.camelCase(t)])):a=i,a}},removeData:function(t,n,r){if(o._util_.acceptData(t)){var i,a,s,l=t.nodeType,u=l?o._util_.cache:t,c=l?t[o._util_.expando]:o._util_.expando;if(u[c]){if(n&&(i=r?u[c]:u[c].data)){o.isArray(n)||(n in i?n=[n]:(n=o._util_.camelCase(n),n=n in i?[n]:n.split(" ")));for(a=0,s=n.length;s>a;a++)delete i[n[a]];if(!(r?e:o.object.isEmpty)(i))return}(r||(delete u[c].data,e(u[c])))&&(l?o._util_.cleanData([t],!0):o.support.deleteExpando||u!=u.window?delete u[c]:u[c]=null)}}},_data:function(e,t,n){return o._util_.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&o._util_.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}})}(),o.date=o.date||{},o.createChain("number",function(e){var t=parseFloat(e),n=isNaN(t)?t:e;return clazz="number"==typeof n?Number:String,pro=clazz.prototype,n=new clazz(n),o.forEach(o.number.$Number.prototype,function(e,t){pro[t]||(n[t]=e)}),n}),o.number.extend({pad:function(e){var t=this,n="",r=0>t,o=String(Math.abs(t));return o.length<e&&(n=new Array(e-o.length+1).join("0")),(r?"-":"")+n+o}}),o.date.format=function(e,t){function n(e,n){t=t.replace(e,n)}if("string"!=typeof t)return e.toString();var r=o.number.pad,i=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),l=e.getHours(),u=e.getMinutes(),c=e.getSeconds();return n(/yyyy/g,r(i,4)),n(/yy/g,r(parseInt(i.toString().slice(2),10),2)),n(/MM/g,r(a,2)),n(/M/g,a),n(/dd/g,r(s,2)),n(/d/g,s),n(/HH/g,r(l,2)),n(/H/g,l),n(/hh/g,r(l%12,2)),n(/h/g,l%12),n(/mm/g,r(u,2)),n(/m/g,u),n(/ss/g,r(c,2)),n(/s/g,c),t},o.date.parse=function(e){var t=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+$");if("string"==typeof e){if(t.test(e)||isNaN(Date.parse(e))){var n=e.split(/ |T/),r=n.length>1?n[1].split(/[^\d]/):[0,0,0],o=n[0].split(/[^\d]/);return new Date(o[0]-0,o[1]-1,o[2]-0,r[0]-0,r[1]-0,r[2]-0)}return new Date(e)}return new Date},o.dom.createElements=function(){function e(e,t){var n,r,o,i=e.getElementsByTagName("SCRIPT");for(n=i.length-1;n>=0;n--)o=i[n],r=t.createElement("SCRIPT"),o.id&&(r.id=o.id),o.src&&(r.src=o.src),o.type&&(r.type=o.type),r[o.text?"text":"textContent"]=o.text||o.textContent,o.parentNode.replaceChild(r,o)}var t=/<(\w+)/i,n=/<|&#?\w+;/,r={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};return r.optgroup=r.option,r.tbody=r.tfoot=r.colgroup=r.caption=r.thead,r.th=r.td,function(i,a){o.isNumber(i)&&(i=i.toString()),a=a||document;var s,l,u,c=i,d=(c.length,a.createElement("div")),f=a.createDocumentFragment(),p=[];if(o.isString(c))if(n.test(c)){for(s=r[c.match(t)[1].toLowerCase()]||r._default,d.innerHTML="<i>mz</i>"+s[1]+c+s[2],d.removeChild(d.firstChild),e(d,a),l=s[0],u=d;l--;)u=u.firstChild;o.merge(p,u.childNodes),o.forEach(p,function(e){f.appendChild(e)}),d=u=null}else p.push(a.createTextNode(c));return d=null,p}}(),o.dom.extend({add:function(e,t){var n=o.array(this.get());switch(o.type(e)){case"HTMLElement":n.push(e);break;case"$DOM":case"array":o.merge(n,e);break;case"string":o.merge(n,o.dom(e,t));break;default:"object"==typeof e&&e.length&&o.merge(n,e)}return o.dom(n.unique())}}),o.dom.extend({addClass:function(e){if(arguments.length<=0)return this;switch(typeof e){case"string":e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var t=e.split(" ");o.forEach(this,function(e){var n="";e.className&&(n=e.className);for(var r=0;r<t.length;r++)-1==(" "+n+" ").indexOf(" "+t[r]+" ")&&(n+=" "+t[r]);e.className=n.replace(/^\s+/g,"")});break;case"function":o.forEach(this,function(t,n){o.dom(t).addClass(e.call(t,n,t.className))})}return this}}),o.dom.extend({getDocument:function(){if(this.size()<=0)return void 0;var e=this[0];return 9==e.nodeType?e:e.ownerDocument||e.document}}),o.dom.extend({empty:function(){for(var e,t=0;e=this[t];t++)for(1===e.nodeType&&o._util_.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this}}),o.dom.extend({append:function(){return o.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append"),o._util_.smartInsert(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)}),this}}),o.dom.extend({html:function(e){var t,n=o.dom,r=(o._util_,this),i=!1;if(this.size()<=0)switch(typeof e){case"undefined":return void 0;default:return r}var a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",s=/<(?:script|style|link)/i,l=new RegExp("<(?:"+a+")[\\s/>]","i"),u=/^\s+/,c=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,f={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};return f.optgroup=f.option,f.tbody=f.tfoot=f.colgroup=f.caption=f.thead,f.th=f.td,o.support.htmlSerialize||(f._default=[1,"X<div>","</div>"]),o.forEach(r,function(a,p){if(!t){var h=n(a);switch(typeof e){case"undefined":return t=1===a.nodeType?a.innerHTML:void 0;case"number":e=String(e);case"string":if(i=!0,!(s.test(e)||!o.support.htmlSerialize&&l.test(e)||!o.support.leadingWhitespace&&u.test(e)||f[(d.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(c,"<$1></$2>");try{1===a.nodeType&&(h.empty(),a.innerHTML=e),a=0}catch(g){}}a&&r.empty().append(e);break;case"function":i=!0,h.html(e.call(a,p,h.html()))}}}),i?r:t}}),o._util_.smartInsert=function(e,t,n){if(!(t.length<=0||e.size()<=0)){if("function"===o.type(t[0])){var r,i=t[0];return o.forEach(e,function(e,a){r=o.dom(e),t[0]=i.call(e,a,r.html()),o._util_.smartInsert(r,t,n)})}for(var a,s,l=e.getDocument()||document,u=l.createDocumentFragment(),c=e.length-1,d=0;s=t[d];d++)s.nodeType?u.appendChild(s):o.forEach(~"string|number".indexOf(o.type(s))?o.dom.createElements(s,l):s,function(e){u.appendChild(e)});(a=u.firstChild)&&o.forEach(e,function(e,t){n.call("table"===e.nodeName.toLowerCase()&&"tr"===a.nodeName.toLowerCase()?e.tBodies[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e,c>t?u.cloneNode(!0):u)})}},o.dom.extend({after:function(){o.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.after");var e=this[0]&&this[0].parentNode,t=!e&&[];return o._util_.smartInsert(this,arguments,function(n){e?e.insertBefore(n,this.nextSibling):o.merge(t,n.childNodes)}),t&&o.merge(this,t),this}}),o.dom.extend({map:function(e){o.check("function","baidu.dom.map");var t=o.dom();return o.forEach(this,function(n,r){t[t.length++]=e.call(n,r,n,n)}),t}}),o._util_.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},o.dom.extend({clone:function(){function e(e){return e.getElementsByTagName?e.getElementsByTagName("*"):e.querySelectorAll?e.querySelectorAll("*"):[]}function t(e,t){switch(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),t.nodeName.toLowerCase()){case"object":t.outerHTML=e.outerHTML;break;case"textarea":case"input":~"checked|radio".indexOf(e.type)&&(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.defaultValue=e.defaultValue;break;case"options":t.selected=e.defaultSelected;break;case"script":t.text!==e.text&&(t.text=e.text)}t[o.key]&&t.removeAttribute(o.key)}function n(e,t){if(1===t.nodeType&&o.id(e,"get")){var n=i.get(e);for(var r in n)for(var a,s=0;a=n[r][s];s++)i.add(t,r,a)}}function r(r,i,a){var s,l,u,c=r.cloneNode(!0);if(!(o.support.noCloneEvent&&o.support.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||o._util_.isXML(r))){t(r,c),s=e(r),l=e(c),u=s.length;for(var d=0;u>d;d++)l[d]&&t(s[d],l[d])}if(i&&(n(r,c),a)){s=e(r),l=e(c),u=s.length;for(var d=0;u>d;d++)n(s[d],l[d])}return c}var i=o._util_.eventBase;return function(e,t){return e=!!e,t=!!t,this.map(function(){return r(this,e,t)})}}()}),o._util_.smartInsertTo=function(e,t,n,r){var i,a=o.dom(t),s=a[0];if(!r||!s||s.parentNode&&11!==s.parentNode.nodeType)for(var l,u=0;l=a[u];u++)o._util_.smartInsert(o.dom(l),u>0?e.clone(!0):e,n);else r="before"===r,i=o.merge(r?e:a,r?a:e),e!==i&&(e.length=0,o.merge(e,i))},o.dom.extend({appendTo:function(e){return o.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.appendTo"),o._util_.smartInsertTo(this,e,function(e){this.appendChild(e)}),this}}),o.extend(o._util_,{rfocusable:/^(?:button|input|object|select|textarea)$/i,rclickable:/^a(?:rea)?$/i,rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},propHooks:{tabIndex:{get:function(e){var t=o._util_,n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):t.rfocusable.test(e.nodeName)||t.rclickable.test(e.nodeName)&&e.href?0:void 0}}}}),!o.support.enctype){var i=o._util_;i.propFix.enctype="encoding"}if(!o.support.optSelected){var i=o._util_;i.propHooks.selected=o.extend(i.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})}if(o.extend(o,{_error:function(e){throw new Error(e)},_nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()}}),o.extend(o._util_,{rfocusable:/^(?:button|input|object|select|textarea)$/i,rtype:/^(?:button|input)$/i,rclickable:/^a(?:rea)?$/i,nodeHook:{},attrHooks:{type:{set:function(e,t){var n=o._util_;if(n.rtype.test(e.nodeName)&&e.parentNode)o._error("type property can't be changed");else if(!o.support.radioValue&&"radio"===t&&o._nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}},value:{get:function(e,t){var n=o._util_;return n.nodeHook&&o._nodeName(e,"button")?n.nodeHook.get(e,t):t in e?e.value:null},set:function(e,t,n){return i.nodeHook&&o._nodeName(e,"button")?i.nodeHook.set(e,t,n):void(e.value=t)}}},boolHook:{get:function(e,t){var n,r=o(e).prop(t);return r===!0||"boolean"!=typeof r&&(n=e.getAttributeNode(t))&&n.nodeValue!==!1?t.toLowerCase():void 0},set:function(e,t,n){var r;return t===!1?o(e).removeAttr(n):(r=o._util_.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}}}),o._util_.attrHooks.tabindex=o._util_.propHooks.tabIndex,!o.support.getSetAttribute){var i=o._util_,a={name:!0,id:!0,coords:!0};i.nodeHook={get:function(e,t){var n;return n=e.getAttributeNode(t),n&&(a[t]?""!==n.nodeValue:n.specified)?n.nodeValue:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=document.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},i.attrHooks.tabindex.set=i.nodeHook.set,o.forEach(["width","height"],function(e){i.attrHooks[e]=o.extend(i.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})}),i.attrHooks.contenteditable={get:i.nodeHook.get,set:function(e,t,n){""===t&&(t="false"),i.nodeHook.set(e,t,n)}}}if(!o.support.hrefNormalized){var i=o._util_;o.forEach(["href","src","width","height"],function(e){i.attrHooks[e]=o.extend(i.attrHooks[e],{get:function(t){var n=t.getAttribute(e,2);return null===n?void 0:n}})})}if(!o.support.style){var i=o._util_;i.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||void 0},set:function(e,t){return e.style.cssText=""+t}}}if(o.dom.extend({prop:function(e,t){if(arguments.length<=0||"function"==typeof e)return this;var n,r=this,i=!1;return this.size()<=0?e&&t?r:e&&!t?void 0:r:(o.forEach(this,function(a,s){if(!n){var l,u,c,d=o.dom,f=o._util_,p=a.nodeType;if(a&&3!==p&&8!==p&&2!==p)switch(c=1!==p||!o._util_.isXML(a),c&&(e=f.propFix[e]||e,u=f.propHooks[e]),typeof e){case"string":if("undefined"==typeof t)n=u&&"get"in u&&null!==(l=u.get(a,e))?l:a[e];else if("function"==typeof t){i=!0;var h=d(a);h.prop(e,t.call(a,s,h.prop(e)))}else{if(i=!0,u&&"set"in u&&void 0!==(l=u.set(a,t,e)))return l;a[e]=t}break;case"object":i=!0;var h=d(a);for(key in e)h.prop(key,e[key]);break;default:n=r}}}),i?this:n)}}),o.makeArray=function(e,t){var n=t||[];return e?(null==e.length||~"string|function|regexp".indexOf(o.type(e))?Array.prototype.push.call(n,e):o.merge(n,e),n):n},o.extend(o._util_,{nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,a=e.selectedIndex,s=[],l=e.options,u="select-one"===e.type;if(0>a)return null;for(n=u?a:0,r=u?a+1:l.length;r>n;n++)if(i=l[n],!(!i.selected||(o.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&o._util_.nodeName(i.parentNode,"optgroup"))){if(t=o.dom(i).val(),u)return t;s.push(t)}return u&&!s.length&&l.length?o(l[a]).val():s},set:function(e,t){var n=o.makeArray(t);return o(e).find("option").each(function(){this.selected=o.array(n).indexOf(o(this).val())>=0}),n.length||(e.selectedIndex=-1),n}}}}),!o.support.getSetAttribute){var a={name:!0,id:!0,coords:!0};o._util_.valHooks.button={get:function(e,t){var n;return n=e.getAttributeNode(t),n&&(a[t]?""!==n.value:n.specified)?n.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=document.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}}}o.support.checkOn||o.forEach(["radio","checkbox"],function(){o._util_.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),o.forEach(["radio","checkbox"],function(e){o._util_.valHooks[e]=o.extend(o._util_.valHooks[e],{set:function(e,t){return o.isArray(t)?e.checked=o.array(t).indexOf(o(e).val())>=0:void 0}})}),o.dom.extend({val:function(e){var t,n=o.dom,r=o._util_,i=this,a=!1;if(this.size()<=0)switch(typeof e){case"undefined":return void 0;default:return i}return o.forEach(i,function(i,s){var l,u=/\r/g;if(!t)switch(typeof e){case"undefined":return i?(l=r.valHooks[i.type]||r.valHooks[i.nodeName.toLowerCase()],l&&"get"in l&&void 0!==(t=l.get(i,"value"))?t:(t=i.value,"string"==typeof t?t.replace(u,""):null==t?"":t)):t;case"function":a=!0;var c=n(i);c.val(e.call(i,s,c.val()));break;default:if(a=!0,1!==i.nodeType)return;null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.forEach(e,function(e){return null==e?"":e+""})),l=r.valHooks[i.type]||r.valHooks[i.nodeName.toLowerCase()],l&&"set"in l&&void 0!==l.set(i,e,"value")||(i.value=e)}}),a?i:t}}),o._util_.access=function(e,t,n){if(this.size()<=0)return this;switch(o.type(e)){case"string":if(void 0===t)return n.call(this,this[0],e);for(var r,i=0;r=this[i];i++)n.call(this,r,e,"function"===o.type(t)?t.call(r,i,n.call(this,r,e)):t);break;case"object":for(var i in e)o._util_.access.call(this,i,e[i],n)}return this},o.dom.extend({getComputedStyle:function(e){var t=this[0].ownerDocument.defaultView,n=t&&t.getComputedStyle&&t.getComputedStyle(this[0],null),r=n?n.getPropertyValue(e)||n[e]:"";return r||this[0].style[e]}}),o.dom.extend({getCurrentStyle:function(){var e=document.documentElement.currentStyle?function(e){return this[0].currentStyle?this[0].currentStyle[e]:this[0].style[e]}:function(e){return this.getComputedStyle(e)};return function(t){return e.call(this,t)}}()}),o._util_.getWidthOrHeight=function(){function e(e,t){var n={};for(var r in t)n[r]=e.style[r],e.style[r]=t[r];return n}var t={},n={position:"absolute",visibility:"hidden",display:"block"};return o.forEach(["Width","Height"],function(r){var i={Width:["Right","Left"],Height:["Top","Bottom"]}[r];t["get"+r]=function(t,a){var s=o.dom(t),l=t["offset"+r],u=0===l&&e(t,n),c="padding|border";return u&&(l=t["offset"+r]),a&&o.forEach(a.split("|"),function(e){~c.indexOf(e)?c=c.replace(new RegExp("\\|?"+e+"\\|?"),""):(l+=parseFloat(s.getCurrentStyle(e+i[0]))||0,l+=parseFloat(s.getCurrentStyle(e+i[1]))||0)}),c&&o.forEach(c.split("|"),function(e){l-=parseFloat(s.getCurrentStyle(e+i[0]+("border"===e?"Width":"")))||0,l-=parseFloat(s.getCurrentStyle(e+i[1]+("border"===e?"Width":"")))||0}),u&&e(t,u),l}}),function(e,n,r){return t["width"===n?"getWidth":"getHeight"](e,r)}}(),o.string.extend({toCamelCase:function(){var e=this.valueOf();return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}}),o.dom.styleFixer=function(){var e=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,t=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,n="fillOpacity,fontWeight,opacity,orphans,widows,zIndex,zoom",r={"float":o.support.cssFloat?"cssFloat":"styleFloat"},i={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},a={opacity:{},width:{},height:{},fontWeight:{get:function(e,t){var n=s.get(e,t);return i.fontWeight[n]||n}}},s={set:function(e,t,n){e.style[t]=n}};return o.extend(a.opacity,o.support.opacity?{get:function(e,t){var n=o.dom(e).getCurrentStyle(t);return""===n?"1":n}}:{get:function(t){return e.test((t.currentStyle||t.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(t,n,r){var o=(t.currentStyle||t.style).filter||"",i=100*r;t.style.zoom=1,t.style.filter=e.test(o)?o.replace(e,"Alpha(opacity="+i):o+" progid:dximagetransform.microsoft.Alpha(opacity="+i+")"}}),o.forEach(["width","height"],function(e){a[e]={get:function(t){return o._util_.getWidthOrHeight(t,e)+"px"},set:function(e,t,n){"number"===o.type(n)&&0>n&&(n=0),s.set(e,t,n)}}}),o.extend(s,document.documentElement.currentStyle?{get:function(e,n){var r,i=o.dom(e).getCurrentStyle(n);return t.test(i)&&(r=e.style.left,e.style.left="fontSize"===n?"1em":i,i=e.style.pixelLeft+"px",e.style.left=r),i}}:{get:function(e,t){return o.dom(e).getCurrentStyle(t)}}),function(e,t,i){var l,u,c=o.string(t).toCamelCase(),d=void 0===i?"get":"set";return c=r[c]||c,l="number"!==o.type(i)||~n.indexOf(c)?i:i+"px",(u=a.hasOwnProperty(c)&&a[c][d]||s[d])(e,c,l)}}(),o.dom.extend({css:function(e,t){return o.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu.dom.css"),o._util_.access.call(this,e,t,function(e,t,n){var r=o.dom.styleFixer;return r?r(e,t,n):void 0===n?this.getCurrentStyle(t):e.style[t]=n})}}),o.dom.extend({text:function(e){var t,n=o.dom,r=this,i=!1;if(this.size()<=0)switch(typeof e){case"undefined":return void 0;default:return r}var a=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n};return o.forEach(r,function(r,o){var s=n(r);if(!t)switch(typeof e){case"undefined":return t=a(r);case"number":e=String(e);case"string":i=!0,s.empty().append((r&&r.ownerDocument||document).createTextNode(e));break;case"function":i=!0,s.text(e.call(r,o,s.text()))}}),i?r:t}}),o._util_.getWindowOrDocumentWidthOrHeight=o._util_.getWindowOrDocumentWidthOrHeight||function(){var e={window:{},document:{}};return o.forEach(["Width","Height"],function(t){var n="client"+t,r="offset"+t,i="scroll"+t;e.window["get"+t]=function(e){var t=e.document,r=t.documentElement[n];return o.browser.isStrict&&r||t.body&&t.body[n]||r},e.document["get"+t]=function(e){var t=e.documentElement;return t[n]>=t[i]?t[n]:Math.max(e.body[i],t[i],e.body[r],t[r])}}),function(t,n,r){return e[n]["width"===r?"getWidth":"getHeight"](t)}}(),o.dom.extend({width:function(e){return o._util_.access.call(this,"width",e,function(e,t,n){var r=void 0!==n,i=r&&parseFloat(n),a=null!=e&&e==e.window?"window":9===e.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^\d+$/.test(n+="")&&(n+="px"),a?o._util_.getWindowOrDocumentWidthOrHeight(e,a,t):r?e.style.width=n:o._util_.getWidthOrHeight(e,t)})}}),o.dom.extend({height:function(e){return o._util_.access.call(this,"height",e,function(e,t,n){var r=void 0!==n,i=r&&parseFloat(n),a=null!=e&&e==e.window?"window":9===e.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^\d+$/.test(n+="")&&(n+="px"),a?o._util_.getWindowOrDocumentWidthOrHeight(e,a,t):r?e.style.height=n:o._util_.getWidthOrHeight(e,t)})}}),o.dom.extend({getWindow:function(){var e=this.getDocument();return this.size()<=0?void 0:e.parentWindow||e.defaultView}}),o.dom.extend({offset:function(){var e={getDefaultOffset:function(e,t){for(var n=t.documentElement,r=t.body,i=t.defaultView,a=i?i.getComputedStyle(e,null):e.currentStyle,s=/^t(?:able|h|d)/i,l=e.offsetParent,u=e.offsetLeft,c=e.offsetTop;(e=e.parentNode)&&e!==r&&e!==n&&(!o.support.fixedPosition||"fixed"!==a.position);)a=i?i.getComputedStyle(e,null):e.currentStyle,u-=e.scrollLeft,c-=e.scrollTop,e===l&&(u+=e.offsetLeft,c+=e.offsetTop,o.support.hasBorderWidth||o.support.hasTableCellBorderWidth&&s.test(e.nodeName)||(u+=parseFloat(a.borderLeftWidth)||0,c+=parseFloat(a.borderTopWidth)||0),l=e.offsetParent);return~"static,relative".indexOf(a.position)&&(u+=r.offsetLeft,c+=r.offsetTop),o.support.fixedPosition&&"fixed"===a.position&&(u+=Math.max(n.scrollLeft,r.scrollLeft),c+=Math.max(n.scrollTop,r.scrollTop)),{left:u,top:c}},setOffset:function(e,t,n){var r=o.dom(e),i=o.type(t),a=r.offset(),s=r.getCurrentStyle("left"),l=r.getCurrentStyle("top");"function"===i&&(t=t.call(e,n,a)),!t||void 0===t.left&&void 0===t.top||(s=parseFloat(s)||0,l=parseFloat(l)||0,void 0!=t.left&&(e.style.left=t.left-a.left+s+"px"),void 0!=t.top&&(e.style.top=t.top-a.top+l+"px"),"static"===r.getCurrentStyle("position")&&(e.style.position="relative"))},bodyOffset:function(e){var t=o.dom(e);return{left:e.offsetLeft+parseFloat(t.getCurrentStyle("marginLeft"))||0,top:e.offsetTop+parseFloat(t.getCurrentStyle("marginTop"))||0}}};return e.getOffset="getBoundingClientRect"in document.documentElement?function(t,n){if(!t.getBoundingClientRect)return e.getDefaultOffset(t,n);var r=t.getBoundingClientRect(),i=o.dom(n).getWindow(),a=n.documentElement,s=n.body;return{left:r.left+(i.pageXOffset||Math.max(a.scrollLeft,s.scrollLeft))-(a.clientLeft||s.clientLeft),top:r.top+(i.pageYOffset||Math.max(a.scrollTop,s.scrollTop))-(a.clientTop||s.clientTop)}}:e.getDefaultOffset,function(t){if(t){o.check("^(?:object|function)$","baidu.dom.offset");for(var n,r=0;n=this[r];r++)e.setOffset(n,t,r);return this}var i=this[0],a=o.dom(i).getDocument();return e[i===a.body?"bodyOffset":"getOffset"](i,a)}}()}),o.dom.extend({removeAttr:function(e){return arguments.length<=0||!e||"string"!=typeof e?this:(o.forEach(this,function(t){var n,r,i,a,s,l=0;if(1===t.nodeType){var u=o.dom,c=o._util_;for(r=e.toLowerCase().split(/\s+/),a=r.length;a>l;l++)i=r[l],i&&(n=c.propFix[i]||i,s=c.rboolean.test(i),s||u(t).attr(i,""),t.removeAttribute(o.support.getSetAttribute?i:n),s&&n in t&&(t[n]=!1))}}),this)}}),o.dom.extend({attr:function(e,t){if(arguments.length<=0||"function"==typeof e)return this;
var n,r=this,i=!1;return this.size()<=0?e&&t?r:e&&!t?void 0:r:(o.forEach(this,function(a,s){if(!n){var l,u,c,d=o.dom,f=o._util_,p=a.nodeType;if(a&&3!==p&&8!==p&&2!==p){if("undefined"==typeof a.getAttribute){var h=d(a);n=h.prop(e,t)}switch(typeof e){case"string":if(c=1!==p||!o._util_.isXML(a),c&&(e=e.toLowerCase(),u=f.attrHooks[e]||(f.rboolean.test(e)?f.boolHook:f.nodeHook)),"undefined"==typeof t)u&&"get"in u&&c&&null!==(l=u.get(a,e))?n=l:(l=a.getAttribute(e),n=null===l?void 0:l);else{if("function"!=typeof t){i=!0;var g={val:!0,css:!0,html:!0,text:!0,width:!0,height:!0,offset:!0};return e in g?void(n=d(a)[e](t)):null===t?void d(a).removeAttr(e):u&&"set"in u&&c&&void 0!==(l=u.set(a,t,e))?l:(a.setAttribute(e,""+t),t)}i=!0;var h=d(a);h.attr(e,t.call(a,s,h.attr(e)))}break;case"object":i=!0;var h=d(a);for(key in e)h.attr(key,e[key]);break;default:n=r}}}}),i?this:n)}}),o.dom.extend({before:function(){o.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.before");var e=this[0]&&this[0].parentNode,t=!e&&[];return o._util_.smartInsert(this,arguments,function(n){e?e.insertBefore(n,this):o.merge(t,n.childNodes)}),t&&(t=o.merge(t,this),this.length=0,o.merge(this,t)),this}}),o.dom.extend({bind:function(e,t,n){return this.on(e,void 0,t,n)}}),o.dom.extend({children:function(e){var t=[];return this.each(function(){o.forEach(this.children||this.childNodes,function(e){1==e.nodeType&&t.push(e)})}),o.dom(o.dom.match(t,e))}}),o.dom.children=function(e){return o.check("string|HTMLElement","baidu.dom.children"),o.dom(o.isString(e)?"#"+e:e).children().toArray()},o.dom.extend({contents:function(){for(var e,t,n=Array.prototype.slice.call(this),r=[],i=0;t=n[i];i++)e=t.nodeName,r.push.apply(r,o.makeArray(e&&"iframe"===e.toLowerCase()?t.contentDocument||t.contentWindow.document:t.childNodes));return this.length=0,o.merge(this,r)}}),o.dom._NAME_ATTRS=function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};return o.browser.ie<8?(e["for"]="htmlFor",e["class"]="className"):(e.htmlFor="for",e.className="class"),e}(),o.dom.extend({setAttr:function(e,t){var n=this[0];return"style"==e?n.style.cssText=t:(e=o.dom._NAME_ATTRS[e]||e,n.setAttribute(e,t)),n}}),o.dom.create=function(e,t){var n=document.createElement(e),r=t||{};for(var i in r)o.dom.setAttr(n,i,r[i]);return n},o.dom.extend({data:function(){var e=o.key,t=o.global("_maps_HTMLElementData");return function(n,r){if(o.forEach(this,function(t){!t[e]&&(t[e]=o.id())}),o.isString(n)){if("undefined"==typeof r){var i;return this[0]&&(i=t[this[0][e]])&&i[n]}o.forEach(this,function(o){var i=t[o[e]]=t[o[e]]||{};i[n]=r})}else"object"==o.type(n)&&o.forEach(this,function(r){var i=t[r[e]]=t[r[e]]||{};o.forEach(n,function(e){i[e]=n[e]})});return this}}()}),o.lang.Class=function(){this.guid=o.id(this)},o.lang.Class.prototype.dispose=function(){o.id(this.guid,"delete");for(var e in this)"function"!=typeof this[e]&&delete this[e];this.disposed=!0},o.lang.Class.prototype.toString=function(){return"[object "+(this._type_||this.__type||this._className||"Object")+"]"},window.baiduInstance=function(e){return o.id(e)},o.lang.Class.prototype.un=o.lang.Class.prototype.removeEventListener=function(e,t){var n,r=this.__listeners;if(r)if("undefined"!=typeof e){if(e.indexOf("on")&&(e="on"+e),"undefined"==typeof t)delete r[e];else if(r[e])for("string"==typeof t&&(t=r[e][t])&&delete r[e][t],n=r[e].length-1;n>=0;n--)r[e][n]===t&&r[e].splice(n,1)}else for(n in r)delete r[n]},o.lang.guid=function(){return o.id()},o.lang.isString=o.isString,o.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},o.lang.Class.prototype.fire=o.lang.Class.prototype.dispatchEvent=function(e,t){o.lang.isString(e)&&(e=new o.lang.Event(e)),!this.__listeners&&(this.__listeners={}),t=t||{};for(var n in t)e[n]=t[n];var n,r,i=this,a=i.__listeners,s=e.type;if(e.target=e.target||(e.currentTarget=i),s.indexOf("on")&&(s="on"+s),"function"==typeof i[s]&&i[s].apply(i,arguments),"object"==typeof a[s])for(n=0,r=a[s].length;r>n;n++)a[s][n]&&a[s][n].apply(i,arguments);return e.returnValue},o.lang.Class.prototype.on=o.lang.Class.prototype.addEventListener=function(e,t,n){if("function"==typeof t){!this.__listeners&&(this.__listeners={});var r,o=this.__listeners;for(e.indexOf("on")&&(e="on"+e),"object"!=typeof o[e]&&(o[e]=[]),r=o[e].length-1;r>=0;r--)if(o[e][r]===t)return t;return o[e].push(t),n&&"string"==typeof n&&(o[e][n]=t),t}},o.lang.createSingle=function(e){var t=new o.lang.Class;for(var n in e)t[n]=e[n];return t},o.dom.ddManager=o.lang.createSingle({_targetsDroppingOver:{}}),o.dom.extend({delegate:function(e,t,n,r){return"function"==typeof n&&(r=n,n=null),this.on(t,e,n,r)}}),o.dom.extend({filter:function(e){return o.dom(o.dom.match(this,e))}}),o.dom.extend({remove:function(e,t){arguments.length>0&&o.check("^string(?:,boolean)?$","baidu.dom.remove");for(var n,r=e?this.filter(e):this,i=0;n=r[i];i++)t||1!==n.nodeType||(o._util_.cleanData(n.getElementsByTagName("*")),o._util_.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this}}),o.dom.extend({detach:function(e){return e&&o.check("^string$","baidu.dom.detach"),this.remove(e,!0)}}),o.dom._styleFixer=o.dom._styleFixer||{},o.dom._styleFilter=o.dom._styleFilter||[],o.dom._styleFilter.filter=function(e,t,n){for(var r,i=0,a=o.dom._styleFilter;r=a[i];i++)(r=r[n])&&(t=r(e,t));return t},o.dom.getStyle=function(e,t){var n=o.dom;e=n.g(e),t=o.string.toCamelCase(t);var r=e.style[t]||(e.currentStyle?e.currentStyle[t]:"")||n.getComputedStyle(e,t);if(!r||"auto"==r){var i=n._styleFixer[t];i&&(r=i.get?i.get(e,t,r):o.dom.getStyle(e,i))}return(i=n._styleFilter)&&(r=i.filter(t,r,"get")),r},o.page=o.page||{},o.page.getScrollTop=function(){var e=document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},o.page.getScrollLeft=function(){var e=document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},function(){o.page.getMousePosition=function(){return{x:o.page.getScrollLeft()+e.x,y:o.page.getScrollTop()+e.y}};var e={x:0,y:0};o.event.on(document,"onmousemove",function(t){t=window.event||t,e.x=t.clientX,e.y=t.clientY})}(),o.dom.extend({off:function(e,t,n){var r=o._util_.eventBase,i=this;return e?"string"==typeof e?("function"==typeof t&&(n=t,t=null),e=e.split(/[ ,]/),o.forEach(this,function(i){o.forEach(e,function(e){r.remove(i,e,n,t)})})):"object"==typeof e&&o.forEach(e,function(e,n){i.off(n,t,e)}):o.forEach(this,function(e){r.removeAll(e)}),this}}),o.event.un=o.un=function(e,t,n){return e=o.dom.g(e),o.dom(e).off(t.replace(/^\s*on/,""),n),e},o.event.preventDefault=function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault?e.preventDefault():e.returnValue=!1},function(){function e(){h=!1,clearInterval(l),i.capture&&r.releaseCapture?r.releaseCapture():i.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=p;var t=o.dom(document);t.off("selectstart",n),i.autoStop&&t.off("mouseup",e),o.isFunction(i.ondragend)&&i.ondragend(r,i,{left:d,top:f})}function t(){if(!h)return void clearInterval(l);var e=i.range||[],t=o.page.getMousePosition(),n=u+t.x-a,p=c+t.y-s;o.isObject(e)&&4==e.length&&(n=Math.max(e[3],n),n=Math.min(e[1]-r.offsetWidth,n),p=Math.max(e[0],p),p=Math.min(e[2]-r.offsetHeight,p)),r.style.left=n+"px",r.style.top=p+"px",d=n,f=p,o.isFunction(i.ondrag)&&i.ondrag(r,i,{left:d,top:f})}function n(e){return o.event.preventDefault(e,!1)}var r,i,a,s,l,u,c,d,f,p,h=!1;o.dom.drag=function(g,m){if(!(r=o.dom.g(g)))return!1;i=o.object.extend({autoStop:!0,capture:!0,interval:16},m),d=u=parseInt(o.dom.getStyle(r,"left"))||0,f=c=parseInt(o.dom.getStyle(r,"top"))||0,h=!0,setTimeout(function(){var e=o.page.getMousePosition();a=i.mouseEvent?o.page.getScrollLeft()+i.mouseEvent.clientX:e.x,s=i.mouseEvent?o.page.getScrollTop()+i.mouseEvent.clientY:e.y,clearInterval(l),l=setInterval(t,i.interval)},1);var v=o.dom(document);return i.autoStop&&v.on("mouseup",e),v.on("selectstart",n),i.capture&&r.setCapture?r.setCapture():i.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),p=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",o.isFunction(i.ondragstart)&&i.ondragstart(r,i),{stop:e,dispose:e,update:function(e){o.object.extend(i,e)}}}}(),o.dom.extend({setStyle:function(e,t){var n,r=o.dom;return element=this[0],e=o.string.toCamelCase(e),(n=r._styleFilter)&&(t=n.filter(e,t,"set")),n=r._styleFixer[e],n&&n.set?n.set(element,t,e):element.style[n||e]=t,element}}),o.dom.draggable=function(e,t){function n(n){var r=t.mouseEvent=window.event||n;t.mouseEvent={clientX:r.clientX,clientY:r.clientY},r.button>1||o.lang.isFunction(t.toggle)&&!t.toggle()||(o.lang.isFunction(t.onbeforedragstart)&&t.onbeforedragstart(e),a=o.dom.drag(e,t),u.stop=a.stop,u.update=a.update,o.event.preventDefault(r))}t=o.object.extend({toggle:function(){return!0}},t),t.autoStop=!0,e=o.dom.g(e),t.handler=t.handler||e;var r,i,a,s=["ondragstart","ondrag","ondragend"],l=s.length-1,u={dispose:function(){a&&a.stop(),o.event.un(t.handler,"onmousedown",n),o.lang.Class.prototype.dispose.call(u)}},c=this;if(r=o.dom.ddManager)for(;l>=0;l--)i=s[l],t[i]=function(n){var i=t[n];return function(){o.lang.isFunction(i)&&i.apply(c,arguments),r.dispatchEvent(n,{DOM:e})}}(i);return e&&o.event.on(t.handler,"onmousedown",n),{cancel:function(){u.dispose()}}},o.dom.getPosition=function(e){e=o.dom.g(e);var t,n,r=o.dom.getDocument(e),i=o.browser,a=o.dom.getStyle,s=(i.isGecko>0&&r.getBoxObjectFor&&"absolute"==a(e,"position")&&(""===e.style.top||""===e.style.left),{left:0,top:0}),l=i.ie&&!i.isStrict?r.body:r.documentElement;if(e==l)return s;if(e.getBoundingClientRect){n=e.getBoundingClientRect(),s.left=Math.floor(n.left)+Math.max(r.documentElement.scrollLeft,r.body.scrollLeft),s.top=Math.floor(n.top)+Math.max(r.documentElement.scrollTop,r.body.scrollTop),s.left-=r.documentElement.clientLeft,s.top-=r.documentElement.clientTop;var u=r.body,c=parseInt(a(u,"borderLeftWidth")),d=parseInt(a(u,"borderTopWidth"));i.ie&&!i.isStrict&&(s.left-=isNaN(c)?2:c,s.top-=isNaN(d)?2:d)}else{t=e;do{if(s.left+=t.offsetLeft,s.top+=t.offsetTop,i.isWebkit>0&&"fixed"==a(t,"position")){s.left+=r.body.scrollLeft,s.top+=r.body.scrollTop;break}t=t.offsetParent}while(t&&t!=e);for((i.opera>0||i.isWebkit>0&&"absolute"==a(e,"position"))&&(s.top-=r.body.offsetTop),t=e.offsetParent;t&&t!=r.body;)s.left-=t.scrollLeft,i.opera&&"TR"==t.tagName||(s.top-=t.scrollTop),t=t.offsetParent}return s},o.dom.intersect=function(e,t){var n=o.dom.g,r=o.dom.getPosition,i=Math.max,a=Math.min;e=n(e),t=n(t);var s=r(e),l=r(t);return i(s.left,l.left)<=a(s.left+e.offsetWidth,l.left+t.offsetWidth)&&i(s.top,l.top)<=a(s.top+e.offsetHeight,l.top+t.offsetHeight)},o.dom.droppable=function(e,t){t=t||{};var n=o.dom.ddManager,r=o.dom.g(e),i=o.lang.guid(),a=function(e){var a=n._targetsDroppingOver,s={trigger:e.DOM,reciever:r};o.dom.intersect(r,e.DOM)?a[i]||("function"==typeof t.ondropover&&t.ondropover.call(r,s),n.dispatchEvent("ondropover",s),a[i]=!0):(a[i]&&("function"==typeof t.ondropout&&t.ondropout.call(r,s),n.dispatchEvent("ondropout",s)),delete a[i])},s=function(e){var a={trigger:e.DOM,reciever:r};o.dom.intersect(r,e.DOM)&&("function"==typeof t.ondrop&&t.ondrop.call(r,a),n.dispatchEvent("ondrop",a)),delete n._targetsDroppingOver[i]};return n.addEventListener("ondrag",a),n.addEventListener("ondragend",s),{cancel:function(){n.removeEventListener("ondrag",a),n.removeEventListener("ondragend",s)}}},o.dom.extend({eq:function(e){return o.check("number","baidu.dom.eq"),o.dom(this.get(e))}}),o.dom.extend({find:function(e){var t,n=[],r="__tangram__find__",i=o.dom();switch(o.type(e)){case"string":this.each(function(){o.merge(i,o.query(e,this))});break;case"HTMLElement":t=e.tagName+"#"+(e.id?e.id:e.id=r),this.each(function(){o.query(t,this).length>0&&n.push(e)}),e.id==r&&(e.id=""),n.length>0&&o.merge(i,n);break;case"$DOM":n=e.get(),this.each(function(){o.forEach(o.query("*",this),function(e){for(var t=0,r=n.length;r>t;t++)e===n[t]&&(i[i.length++]=n[t])})})}return i}}),o.dom.extend({first:function(){return o.dom(this[0])}}),o.dom.first=function(e){return o.isString(e)&&(e="#"+e),o.dom(e).children()[0]},o.dom.getAncestorBy=function(e,t){for(e=o.dom.g(e);(e=e.parentNode)&&1==e.nodeType;)if(t(e))return e;return null},o.dom.getAncestorByClass=function(e,t){for(e=o.dom.g(e),t=new RegExp("(^|\\s)"+o.string.trim(t)+"(\\s|$)");(e=e.parentNode)&&1==e.nodeType;)if(t.test(e.className))return e;return null},o.dom.getAncestorByTag=function(e,t){for(e=o.dom.g(e),t=t.toUpperCase();(e=e.parentNode)&&1==e.nodeType;)if(e.tagName==t)return e;return null},o.dom.extend({getAttr:function(e){return element=this[0],"style"==e?element.style.cssText:(e=o.dom._NAME_ATTRS[e]||e,element.getAttribute(e))}}),o.dom.getParent=function(e){return e=o.dom._g(e),e.parentElement||e.parentNode||null},o.dom.extend({getText:function(){var e,t,n="",r=0;if(element=this[0],3===element.nodeType||4===element.nodeType)n+=element.nodeValue;else if(8!==element.nodeType)for(e=element.childNodes,t=e.length;t>r;r++)n+=o.dom.getText(e[r]);return n}}),o.dom.extend({has:function(e){var t=[],n=o.dom(document.body);return o.forEach(this,function(r){n[0]=r,n.find(e).length&&t.push(r)}),o.dom(t)}}),o.dom.extend({hasAttr:function(e){element=this[0];var t=element.attributes.getNamedItem(e);return!(!t||!t.specified)}}),o.dom.extend({hasClass:function(e){if(arguments.length<=0||"function"==typeof e)return this;if(this.size()<=0)return!1;e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var t,n=e.split(" ");return o.forEach(this,function(e){for(var r=e.className,o=0;o<n.length;o++)if(-1==(" "+r+" ").indexOf(" "+n[o]+" "))return void(t=!1);return t!==!1?void(t=!0):void 0}),t}}),function(){function e(e){if(l[e])return l[e];var i=o.dom("<"+e+">").appendTo(document.body),a=i.css("display");return i.remove(),("none"===a||""===a)&&(n=document.body.appendChild(n||o.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0})),t&&n.createElement||(t=(n.contentWindow||n.contentDocument).document,t.write("<!doctype html><html><body>"),t.close()),i=t.body.appendChild(t.createElement(e)),a=r(i,"display"),document.body.removeChild(n)),l[e]=a,a}var t,n,r,i=/^margin/,a=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,s=/^(top|right|bottom|left)$/,l={};o.extend(o._util_,{showHide:function(t,n){for(var i,a,s=[],l=0,u=t.length;u>l;l++)i=t[l],i.style&&(s[l]=o._util_._data(i,"olddisplay"),n?(s[l]||"none"!==i.style.display||(i.style.display=""),(""===i.style.display&&"none"===r(i,"display")||!o.dom.contains(i.ownerDocument.documentElement,i))&&(s[l]=o._util_._data(i,"olddisplay",e(i.nodeName)))):(a=r(i,"display"),s[l]||"none"===a||o._util_._data(i,"olddisplay",a)));for(l=0;u>l;l++)i=t[l],i.style&&(n&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=n?s[l]||"":"none"));return t}}),window.getComputedStyle?r=function(e,t){var n,r,s=getComputedStyle(e,null),l=e.style;return s&&(n=s[t],""!==n||o.dom.contains(e.ownerDocument.documentElement,e)||(n=o.dom(e).css(t)),!o.support.pixelMargin&&i.test(t)&&a.test(n)&&(r=l.width,l.width=n,n=s.width,l.width=r)),n}:document.documentElement.currentStyle&&(r=function(e,t){var n,r,o=e.currentStyle&&e.currentStyle[t],i=e.style;return null==o&&i&&i[t]&&(o=i[t]),a.test(o)&&!s.test(t)&&(n=i.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),i.left="fontSize"===t?"1em":o,o=i.pixelLeft+"px",i.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o})}(),o.dom.extend({hide:function(){return o._util_.showHide(this),this}}),o.dom.extend({innerHeight:function(){if(this.size()<=0)return 0;var e=this[0],t=null!=e&&e===e.window?"window":9===e.nodeType?"document":!1;return t?o._util_.getWindowOrDocumentWidthOrHeight(e,t,"height"):o._util_.getWidthOrHeight(e,"height","padding")}}),o.dom.extend({innerWidth:function(){if(this.size()<=0)return 0;var e=this[0],t=null!=e&&e===e.window?"window":9===e.nodeType?"document":!1;return t?o._util_.getWindowOrDocumentWidthOrHeight(e,t,"width"):o._util_.getWidthOrHeight(e,"width","padding")}}),o.dom.extend({insertAfter:function(e){return o.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertAfter"),o._util_.smartInsertTo(this,e,function(e){this.parentNode.insertBefore(e,this.nextSibling)},"after"),this}}),o.dom.insertAfter=function(e,t){var n=o.dom._g;return o.dom(n(e)).insertAfter(n(t))[0]},o.dom.extend({insertBefore:function(e){return o.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertBefore"),o._util_.smartInsertTo(this,e,function(e){this.parentNode.insertBefore(e,this)},"before"),this}}),o.dom.insertBefore=function(e,t){var n=o.dom._g;return o.dom(n(e)).insertBefore(n(t))[0]},o.dom.extend({insertHTML:function(e,t){element=this[0];var n,r;return element.insertAdjacentHTML&&!o.browser.opera?element.insertAdjacentHTML(e,t):(n=element.ownerDocument.createRange(),e=e.toUpperCase(),"AFTERBEGIN"==e||"BEFOREEND"==e?(n.selectNodeContents(element),n.collapse("AFTERBEGIN"==e)):(r="BEFOREBEGIN"==e,n[r?"setStartBefore":"setEndAfter"](element),n.collapse(r)),n.insertNode(n.createContextualFragment(t))),element}}),o.dom.extend({last:function(){return o.dom(this.get(-1))}}),o.dom.last=function(e){e=o.dom.g(e);for(var t=e.lastChild;t;t=t.previousSibling)if(1==t.nodeType)return t;return null},o.dom.extend({next:function(e){var t=o.dom();return o.forEach(this,function(e){for(;(e=e.nextSibling)&&e&&1!=e.nodeType;);e&&(t[t.length++]=e)}),e?t.filter(e):t}}),o.dom.extend({nextAll:function(e){var t=[];return o.forEach(this,function(e){for(;e=e.nextSibling;)e&&1==e.nodeType&&t.push(e)}),o.dom(o.dom.match(t,e))}}),o.dom.extend({nextUntil:function(e,t){var n=o.array();return o.forEach(this,function(t){for(var r=o.array();t=t.nextSibling;)t&&1==t.nodeType&&r.push(t);if(e&&r.length){var i=o.dom.match(r,e);i.length&&(r=r.slice(0,r.indexOf(i[0])))}o.merge(n,r)}),o.dom(o.dom.match(n,t))}}),o.dom.extend({not:function(e){var t,n,r,i=this.get(),a=o.isArray(e)?e:o.dom.match(this,e);for(t=i.length-1;t>-1;t--)for(n=0,r=a.length;r>n;n++)a[n]===i[t]&&i.splice(t,1);return o.dom(i)}}),o.dom.extend({offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||document.body,t=/^(?:body|html)$/i;e&&"static"===o.dom(e).getCurrentStyle("position")&&!t.test(e.nodeName);)e=e.offsetParent;return e})}}),o.dom.extend({one:function(e,t,n){var r=this;if("function"==typeof t&&(n=t,t=void 0),"object"==typeof e&&e)return o.forEach(e,function(e,n){this.one(n,t,e)},this),this;var i=function(){return o.dom(this).off(e,i),n.apply(r,arguments)};return this.each(function(){var t=o.id(this);n["_"+t+"_"+e]=i}),this.on(e,t,i)}}),o.dom.opacity=function(e,t){e=o.dom.g(e),o.browser.ie?e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(100*t)+")":(e.style.opacity=t,e.style.KHTMLOpacity=t)},o.dom.extend({outerHeight:function(e){if(this.size()<=0)return 0;var t=this[0],n=null!=t&&t===t.window?"window":9===t.nodeType?"document":!1;return n?o._util_.getWindowOrDocumentWidthOrHeight(t,n,"height"):o._util_.getWidthOrHeight(t,"height","padding|border"+(e?"|margin":""))}}),o.dom.extend({outerWidth:function(e){if(this.size()<=0)return 0;var t=this[0],n=null!=t&&t===t.window?"window":9===t.nodeType?"document":!1;return n?o._util_.getWindowOrDocumentWidthOrHeight(t,n,"width"):o._util_.getWidthOrHeight(t,"width","padding|border"+(e?"|margin":""))}}),o.dom.extend({parent:function(e){var t=[];return o.forEach(this,function(e){(e=e.parentNode)&&1==e.nodeType&&t.push(e)}),o.dom(o.dom.match(t,e))}}),o.dom.extend({parents:function(e){var t=[];return o.forEach(this,function(e){for(var n=[];(e=e.parentNode)&&1==e.nodeType;)n.push(e);o.merge(t,n)}),o.dom(o.dom.match(t,e))}}),o.dom.extend({parentsUntil:function(e,t){o.check("(string|HTMLElement)(,.+)?","baidu.dom.parentsUntil");var n=[];return o.forEach(this,function(t){for(var r=o.array();(t=t.parentNode)&&1==t.nodeType;)r.push(t);if(e&&r.length){var i=o.dom.match(r,e);i.length&&(r=r.slice(0,r.indexOf(i[0])))}o.merge(n,r)}),o.dom(o.dom.match(n,t))}}),o.dom.extend({position:function(){if(this.size()<=0)return 0;var e=/^(?:body|html)$/i,t=this.offset(),n=this.offsetParent(),r=e.test(n[0].nodeName)?{left:0,top:0}:n.offset();return t.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0,t.top-=parseFloat(this.getCurrentStyle("marginTop"))||0,r.left+=parseFloat(n.getCurrentStyle("borderLeftWidth"))||0,r.top+=parseFloat(n.getCurrentStyle("borderTopWidth"))||0,{left:t.left-r.left,top:t.top-r.top}}}),o.dom.extend({prepend:function(){return o.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.prepend"),o._util_.smartInsert(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)}),this}}),o.dom.extend({prependTo:function(e){return o.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.prependTo"),o._util_.smartInsertTo(this,e,function(e){this.insertBefore(e,this.firstChild)}),this}}),o.dom.extend({prev:function(e){var t=[];return o.forEach(this,function(e){for(;e=e.previousSibling;)if(1==e.nodeType){t.push(e);break}}),o.dom(o.dom.match(t,e))}}),o.dom.extend({prevAll:function(e){var t=o.array();return o.forEach(this,function(e){for(var n=[];e=e.previousSibling;)1==e.nodeType&&n.push(e);o.merge(t,n.reverse())}),o.dom("string"==typeof e?o.dom.match(t,e):t.unique())}}),o.dom.extend({prevUntil:function(e,t){o.check("(string|HTMLElement)(,.+)?","baidu.dom.prevUntil");var n=[];return o.forEach(this,function(t){for(var r=o.array();t=t.previousSibling;)t&&1==t.nodeType&&r.push(t);if(e&&r.length){var i=o.dom.match(r,e);i.length&&(r=r.slice(0,r.indexOf(i[0])))}o.merge(n,r)}),o.dom(o.dom.match(n,t))}}),o.string.extend({escapeReg:function(){return this.replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")}}),o.dom.q=function(e,t,n){var r,i,a,s,l=[],u=o.string.trim;if(!(e=u(e)))return l;if("undefined"==typeof t)t=document;else if(t=o.dom.g(t),!t)return l;if(n&&(n=u(n).toUpperCase()),t.getElementsByClassName)for(a=t.getElementsByClassName(e),r=a.length,i=0;r>i;i++)s=a[i],n&&s.tagName!=n||(l[l.length]=s);else for(e=new RegExp("(^|\\s)"+o.string.escapeReg(e)+"(\\s|$)"),a=n?t.getElementsByTagName(n):t.all||t.getElementsByTagName("*"),r=a.length,i=0;r>i;i++)s=a[i],e.test(s.className)&&(l[l.length]=s);return l},function(){function e(e,t,n,o,i,a){for(var s=0,l=o.length;l>s;s++){var u=o[s];if(u){var c=!1;for(u=u[e];u;){if(u[r]===n){c=o[u.sizset];break}if(1!==u.nodeType||a||(u[r]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}o[s]=c}}}function t(e,t,n,o,i,a){for(var s=0,l=o.length;l>s;s++){var u=o[s];if(u){var c=!1;for(u=u[e];u;){if(u[r]===n){c=o[u.sizset];break}if(1===u.nodeType)if(a||(u[r]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(f.filter(t,[u]).length>0){c=u;break}u=u[e]}o[s]=c}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),i=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var f=function(e,t,r,o){r=r||[],t=t||document;var i=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return r;var s,l,u,c,d,p,m,v,b=!0,x=f.isXML(t),w=[],_=e;do if(n.exec(""),s=n.exec(_),s&&(_=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&g.exec(e))if(2===w.length&&h.relative[w[0]])l=E(w[0]+w[1],t,o);else for(l=h.relative[w[0]]?[t]:f(w.shift(),t);w.length;)e=w.shift(),h.relative[e]&&(e+=w.shift()),l=E(e,l,o);else if(!o&&w.length>1&&9===t.nodeType&&!x&&h.match.ID.test(w[0])&&!h.match.ID.test(w[w.length-1])&&(d=f.find(w.shift(),t,x),t=d.expr?f.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=o?{expr:w.pop(),set:y(o)}:f.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,x),l=d.expr?f.filter(d.expr,d.set):d.set,w.length>0?u=y(l):b=!1;w.length;)p=w.pop(),m=p,h.relative[p]?m=w.pop():p="",null==m&&(m=t),h.relative[p](u,m,x);else u=w=[];if(u||(u=l),u||f.error(p||e),"[object Array]"===a.call(u))if(b)if(t&&1===t.nodeType)for(v=0;null!=u[v];v++)u[v]&&(u[v]===!0||1===u[v].nodeType&&f.contains(t,u[v]))&&r.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&r.push(l[v]);else r.push.apply(r,u);else y(u,r);return c&&(f(c,i,r,o),f.uniqueSort(r)),r};f.uniqueSort=function(e){if(x&&(s=l,e.sort(x),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},f.matches=function(e,t){return f(e,null,null,t)},f.matchesSelector=function(e,t){return f(t,null,null,[e]).length>0},f.find=function(e,t,n){var r,o,i,a,s,l;if(!e)return[];for(o=0,i=h.order.length;i>o;o++)if(s=h.order[o],(a=h.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),r=h.find[s](a,t,n),null!=r))){e=e.replace(h.match[s],"");break}return r||(r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},f.filter=function(e,t,n,r){for(var o,i,a,s,l,u,c,d,p,g=e,m=[],v=t,y=t&&t[0]&&f.isXML(t[0]);e&&t.length;){for(a in h.filter)if(null!=(o=h.leftMatch[a].exec(e))&&o[2]){if(u=h.filter[a],c=o[1],i=!1,o.splice(1,1),"\\"===c.substr(c.length-1))continue;if(v===m&&(m=[]),h.preFilter[a])if(o=h.preFilter[a](o,v,n,m,r,y)){if(o===!0)continue}else i=s=!0;if(o)for(d=0;null!=(l=v[d]);d++)l&&(s=u(l,o,d,v),p=r^s,n&&null!=s?p?i=!0:v[d]=!1:p&&(m.push(l),i=!0));if(void 0!==s){if(n||(v=m),e=e.replace(h.match[a],""),!i)return[];break}}if(e===g){if(null!=i)break;f.error(e)}g=e}return v},f.error=function(e){throw"Syntax error, unrecognized expression: "+e};var p=f.getText=function(e){var t,n,r=e.nodeType,o="";if(r){if(1===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)o+=p(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=p(n));return o},h=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!d.test(t),o=n&&!r;r&&(t=t.toLowerCase());for(var i,a=0,s=e.length;s>a;a++)if(i=e[a]){for(;(i=i.previousSibling)&&1!==i.nodeType;);e[a]=o||i&&i.nodeName.toLowerCase()===t?i||!1:i===t}o&&f.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,o=0,i=e.length;if(r&&!d.test(t)){for(t=t.toLowerCase();i>o;o++)if(n=e[o]){var a=n.parentNode;e[o]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;i>o;o++)n=e[o],n&&(e[o]=r?n.parentNode:n.parentNode===t);r&&f.filter(t,e,!0)}},"":function(n,r,o){var a,s=i++,l=t;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=e),l("parentNode",r,s,n,a,o)},"~":function(n,r,o){var a,s=i++,l=t;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=e),l("previousSibling",r,s,n,a,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),o=0,i=r.length;i>o;o++)r[o].getAttribute("name")===e[1]&&n.push(r[o]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,r,o,i){if(e=" "+e[1].replace(u,"")+" ",i)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(o^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||f.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&f.error(e[0]);return e[0]=i++,e},ATTR:function(e,t,n,r,o,i){var a=e[1]=e[1].replace(u,"");return!i&&h.attrMap[a]&&(e[1]=h.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,r,o,i){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=f.filter(e[3],t,r,!0^i);return r||o.push.apply(o,a),!1}e[3]=f(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!f(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var o=t[1],i=h.filters[o];if(i)return i(e,n,t,r);if("contains"===o)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===o){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}f.error(o)},CHILD:function(e,t){var n,o,i,a,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],o=t[3],1===n&&0===o)return!0;if(i=t[0],a=e.parentNode,a&&(a[r]!==i||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[r]=i}return l=e.nodeIndex-o,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=f.attr?f.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=r+"",i=t[2],a=t[4];return null==r?"!="===i:!i&&f.attr?null!=r:"="===i?o===a:"*="===i?o.indexOf(a)>=0:"~="===i?(" "+o+" ").indexOf(a)>=0:a?"!="===i?o!==a:"^="===i?0===o.indexOf(a):"$="===i?o.substr(o.length-a.length)===a:"|="===i?o===a||o.substr(0,a.length+1)===a+"-":!1:o&&r!==!1
},POS:function(e,t,n,r){var o=t[2],i=h.setFilters[o];return i?i(e,n,t,r):void 0}}},g=h.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var v in h.match)h.match[v]=new RegExp(h.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[v].source.replace(/\\(\d+)/g,m));var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var o=e.length;o>n;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var x,w;document.documentElement.compareDocumentPosition?x=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(x=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,o=[],i=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return w(e,t);if(!a)return-1;if(!l)return 1;for(;u;)o.unshift(u),u=u.parentNode;for(u=l;u;)i.unshift(u),u=u.parentNode;n=o.length,r=i.length;for(var c=0;n>c&&r>c;c++)if(o[c]!==i[c])return w(o[c],i[c]);return c===n?w(e,i[c],-1):w(o[c],t,1)},w=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime(),n=document.documentElement;e.innerHTML="<a name='"+t+"'/>",n.insertBefore(e,n.firstChild),document.getElementById(t)&&(h.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:void 0:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],o=0;n[o];o++)1===n[o].nodeType&&r.push(n[o]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&!function(){var e=f,t=document.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){f=function(t,r,o,i){if(r=r||document,!i&&!f.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return y(r.getElementsByTagName(t),o);if(a[2]&&h.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(a[2]),o)}if(9===r.nodeType){if("body"===t&&r.body)return y([r.body],o);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return y([],o);if(s.id===a[3])return y([s],o)}try{return y(r.querySelectorAll(t),o)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),d=c||n,p=r.parentNode,g=/^\s*[+~]/.test(t);c?d=d.replace(/'/g,"\\$&"):r.setAttribute("id",d),g&&p&&(r=r.parentNode);try{if(!g||p)return y(r.querySelectorAll("[id='"+d+"'] "+t),o)}catch(m){}finally{c||u.removeAttribute("id")}}}return e(t,r,o,i)};for(var r in e)f[r]=e[r];t=null}}(),function(){var e=document.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(document.createElement("div"),"div"),r=!1;try{t.call(document.documentElement,"[test!='']:sizzle")}catch(o){r=!0}f.matchesSelector=function(e,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!f.isXML(e))try{if(r||!h.match.PSEUDO.test(o)&&!/!=/.test(o)){var i=t.call(e,o);if(i||!n||e.document&&11!==e.document.nodeType)return i}}catch(a){}return f(o,null,null,[e]).length>0}}}(),function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),f.contains=document.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},f.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var E=function(e,t,n){for(var r,o=[],i="",a=t.nodeType?[t]:t;r=h.match.PSEUDO.exec(e);)i+=r[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var s=0,l=a.length;l>s;s++)f(e,a[s],o,n);return f.filter(i,o)};o.dom.query=f}(),o.dom.extend({removeClass:function(e){switch(arguments.length<=0&&o.forEach(this,function(e){e.className=""}),typeof e){case"string":e=String(e).replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var t=e.split(" ");o.forEach(this,function(e){for(var n=e.className,r=0;r<t.length;r++)for(;(" "+n+" ").indexOf(" "+t[r]+" ")>=0;)n=(" "+n+" ").replace(" "+t[r]+" "," ");e.className=n.replace(/^\s+/g,"").replace(/\s+$/g,"")});break;case"function":o.forEach(this,function(t,n){o.dom(t).removeClass(e.call(t,n,t.className))})}return this}}),o.dom.extend({removeData:function(){var e=o.key,t=o.global("_maps_HTMLElementData");return function(n){return o.forEach(this,function(t){!t[e]&&(t[e]=o.id())}),o.forEach(this,function(r){var i=t[r[e]];"string"==typeof n?i&&delete i[n]:"array"==o.type(n)&&o.forEach(n,function(e){i&&delete i[e]})}),this}}()}),o.dom.extend({removeProp:function(e){if(arguments.length<=0||!e||"string"!=typeof e)return this;var t=(o.dom,o._util_);return e=t.propFix[e]||e,o.forEach(this,function(t){try{t[e]=void 0,delete t[e]}catch(n){}}),this}}),o.dom.removeStyle=function(){var e,t=document.createElement("DIV"),n=o.dom._g;return t.style.removeProperty?e=function(e,t){return e=n(e),e.style.removeProperty(t),e}:t.style.removeAttribute&&(e=function(e,t){return e=n(e),e.style.removeAttribute(o.string.toCamelCase(t)),e}),t=null,e}(),o.object.each=function(e,t){var n,r,o;if("function"==typeof t)for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],n=t.call(e,o,r),n===!1))break;return e},o.dom.extend({setStyles:function(e){element=this[0];for(var t in e)o.dom.setStyle(element,t,e[t]);return element}}),o.dom._styleFilter[o.dom._styleFilter.length]={set:function(e,t){return t.constructor!=Number||/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(e)||(t+="px"),t}},o.event.getTarget=function(e){return e.originalEvent&&(e=e.originalEvent),e.target||e.srcElement},o.dom.setBorderBoxSize=function(e,t){function n(e,t){return parseFloat(o.dom.getStyle(e,t))||0}var r={};return t.width&&(r.width=parseFloat(t.width)),t.height&&(r.height=parseFloat(t.height)),o.browser.isStrict&&(t.width&&(r.width=parseFloat(t.width)-n(e,"paddingLeft")-n(e,"paddingRight")-n(e,"borderLeftWidth")-n(e,"borderRightWidth"),r.width<0&&(r.width=0)),t.height&&(r.height=parseFloat(t.height)-n(e,"paddingTop")-n(e,"paddingBottom")-n(e,"borderTopWidth")-n(e,"borderBottomWidth"),r.height<0&&(r.height=0))),o.dom.setStyles(e,r)},o.dom.setOuterHeight=o.dom.setBorderBoxHeight=function(e,t){return o.dom.setBorderBoxSize(e,{height:t})},o.dom.setOuterWidth=o.dom.setBorderBoxWidth=function(e,t){return o.dom.setBorderBoxSize(e,{width:t})},o.dom.resizable=function(e,t){function n(){y=o.extend({e:{right:"-5px",top:"0px",width:"7px",height:d.offsetHeight},s:{left:"0px",bottom:"-5px",height:"7px",width:d.offsetWidth},n:{left:"0px",top:"-5px",height:"7px",width:d.offsetWidth},w:{left:"-5px",top:"0px",height:d.offsetHeight,width:"7px"},se:{right:"1px",bottom:"1px",height:"16px",width:"16px"},sw:{left:"1px",bottom:"1px",height:"16px",width:"16px"},ne:{right:"1px",top:"1px",height:"16px",width:"16px"},nw:{left:"1px",top:"1px",height:"16px",width:"16px"}},f.directionHandlePosition),o.forEach(f.direction,function(e){var t=f.classPrefix.split(" ");t[0]=t[0]+"-resizable-"+e;var n=o.dom.create("div",{className:t.join(" ")}),r=y[e];r.cursor=e+"-resize",r.position="absolute",o.dom.setStyles(n,r),n.key=e,n.style.MozUserSelect="none",d.appendChild(n),x[e]=n,o.dom(n).on("mousedown",a)}),E=!1}function r(){v&&s(),o.object.each(x,function(e){o.dom(e).off("mousedown",a),o.dom.remove(e)}),E=!0}function i(e){E||(f=o.extend(f,e||{}),r(),n())}function a(e){_&&s();var t=o.event.getTarget(e),n=t.key;v=t,_=!0,t.setCapture?t.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),g=o.dom.getStyle(document.body,"cursor"),o.dom.setStyle(document.body,"cursor",n+"-resize");var r=o.dom(document.body);r.on("mouseup",s),r.on("selectstart",u),h=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none";var i=o.page.getMousePosition();w=c(),b=setInterval(function(){l(n,i)},20),o.isFunction(f.onresizestart)&&f.onresizestart(),o.event.preventDefault(e)}function s(){v&&v.releaseCapture?v.releaseCapture():window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),o.dom(document.body).off("mouseup",s),o.dom(document).off("selectstart",u),document.body.style.MozUserSelect=h,o.dom(document.body).off("selectstart",u),clearInterval(b),o.dom.setStyle(document.body,"cursor",g),v=null,_=!1,o.isFunction(f.onresizeend)&&f.onresizeend()}function l(e,t){var n,r=o.page.getMousePosition(),i=w.width,a=w.height,s=w.top,l=w.left;e.indexOf("e")>=0?(i=Math.max(r.x-t.x+w.width,p[0]),i=Math.min(i,p[1])):e.indexOf("w")>=0&&(i=Math.max(t.x-r.x+w.width,p[0]),i=Math.min(i,p[1]),l-=i-w.width),e.indexOf("s")>=0?(a=Math.max(r.y-t.y+w.height,p[2]),a=Math.min(a,p[3])):e.indexOf("n")>=0&&(a=Math.max(t.y-r.y+w.height,p[2]),a=Math.min(a,p[3]),s-=a-w.height),n={width:i,height:a,top:s,left:l},o.dom.setOuterHeight(d,a),o.dom.setOuterWidth(d,i),o.dom.setStyles(d,{top:s,left:l}),x.n&&o.dom.setStyle(x.n,"width",i),x.s&&o.dom.setStyle(x.s,"width",i),x.e&&o.dom.setStyle(x.e,"height",a),x.w&&o.dom.setStyle(x.w,"height",a),o.isFunction(f.onresize)&&f.onresize({current:n,original:w})}function u(e){return o.event.preventDefault(e,!1)}function c(){var e,t,n=o.dom.getPosition(d.offsetParent),r=o.dom.getPosition(d);return"absolute"==C?(e=r.top-(d.offsetParent==document.body?0:n.top),t=r.left-(d.offsetParent==document.body?0:n.left)):(e=parseFloat(o.dom.getStyle(d,"top"))||-parseFloat(o.dom.getStyle(d,"bottom"))||0,t=parseFloat(o.dom.getStyle(d,"left"))||-parseFloat(o.dom.getStyle(d,"right"))||0),o.dom.setStyles(d,{top:e,left:t}),{width:d.offsetWidth,height:d.offsetHeight,top:e,left:t}}var d,f,p,h,g,m,v,y,b,x={},w={},E=!1,_=!1,T={direction:["e","s","se"],minWidth:16,minHeight:16,classPrefix:"tangram",directionHandlePosition:{}};if(!(d=o.dom.g(e))&&"static"==o.dom.getStyle(d,"position"))return!1;m=d.offsetParent;var C=o.dom.getStyle(d,"position");return f=o.extend(T,t),o.forEach(["minHeight","minWidth","maxHeight","maxWidth"],function(e){f[e]&&(f[e]=parseFloat(f[e]))}),p=[f.minWidth||0,f.maxWidth||Number.MAX_VALUE,f.minHeight||0,f.maxHeight||Number.MAX_VALUE],n(),{cancel:r,update:i,enable:n}},o._util_.smartScroll=function(e){function t(e){return e&&9===e.nodeType}function n(e){return"Window"==o.type(e)?e:t(e)?e.defaultView||e.parentWindow:!1}var r={scrollLeft:"pageXOffset",scrollTop:"pageYOffset"}[e],i="scrollLeft"===e;return{get:function(t){var i=n(t);return i?r in i?i[r]:o.browser.isStrict&&i.document.documentElement[e]||i.document.body[e]:t[e]},set:function(t,r){if(t){var o=n(t);o?o.scrollTo(i?r:this.get(t),i?this.get(t):r):t[e]=r}}}},o.dom.extend({scrollLeft:function(){var e=o._util_.smartScroll("scrollLeft");return function(t){return t&&o.check("^(?:number|string)$","baidu.dom.scrollLeft"),this.size()<=0?void 0===t?0:this:void 0===t?e.get(this[0]):e.set(this[0],t)||this}}()}),o.dom.extend({scrollTop:function(){var e=o._util_.smartScroll("scrollTop");return function(t){return t&&o.check("^(?:number|string)$","baidu.dom.scrollTop"),this.size()<=0?void 0===t?0:this:void 0===t?e.get(this[0]):e.set(this[0],t)||this}}()}),o.dom.extend({setAttrs:function(e){element=this[0];for(var t in e)o.dom.setAttr(element,t,e[t]);return element}}),o.dom.setPixel=function(e,t,n){"undefined"!=typeof n&&(o.dom.g(e).style[t]=n+(isNaN(n)?"":"px"))},o.dom.setPosition=function(e,t){var n={left:t.left-(parseFloat(o.dom.getStyle(e,"margin-left"))||0),top:t.top-(parseFloat(o.dom.getStyle(e,"margin-top"))||0)};e=o.dom.g(e);for(var r in n)o.dom.setStyle(e,r,n[r]);return e},o.dom.extend({show:function(){return o._util_.showHide(this,!0),this}}),o.dom.extend({siblings:function(e){var t=[];return o.forEach(this,function(e){for(var n=[],r=[],i=e;i=i.previousSibling;)1==i.nodeType&&n.push(i);for(;e=e.nextSibling;)1==e.nodeType&&r.push(e);o.merge(t,n.reverse().concat(r))}),o.dom(o.dom.match(t,e))}}),o.dom.extend({slice:function(){var e=Array.prototype.slice;return function(){return o.check("number(,number)?","baidu.dom.slice"),o.dom(e.apply(this,arguments))}}()}),o.dom.toggle=function(e){return e=o.dom.g(e),e.style.display="none"==e.style.display?"":"none",e},o.dom.extend({toggleClass:function(e,t){var t="undefined"==typeof t?t:Boolean(t);switch(arguments.length<=0&&o.forEach(this,function(e){e.className=""}),typeof e){case"string":e=e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var n=e.split(" ");o.forEach(this,function(e){for(var r=e.className,o=0;o<n.length;o++)(" "+r+" ").indexOf(" "+n[o]+" ")>-1&&"undefined"==typeof t?r=(" "+r+" ").replace(" "+n[o]+" "," "):-1===(" "+r+" ").indexOf(" "+n[o]+" ")&&"undefined"==typeof t?r+=" "+n[o]:-1===(" "+r+" ").indexOf(" "+n[o]+" ")&&t===!0?r+=" "+n[o]:(" "+r+" ").indexOf(" "+n[o]+" ")>-1&&t===!1&&(r=r.replace(n[o],""));e.className=r.replace(/^\s+/g,"").replace(/\s+$/g,"")});break;case"function":o.forEach(this,function(n,r){o.dom(n).toggleClass(e.call(n,r,n.className),t)})}return this}}),o.dom.toggleClass=function(e,t){o.dom.hasClass(e,t)?o.dom.removeClass(e,t):o.dom.addClass(e,t)},o.dom.extend({trigger:function(){var e=(o._util_.eventBase,/msie/i.test(navigator.userAgent),{keydown:1,keyup:1,keypress:1}),t={click:1,dblclick:1,mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1,contextmenu:1},n={abort:1,blur:1,change:1,error:1,focus:1,focusin:1,focusout:1,load:1,unload:1,reset:1,resize:1,scroll:1,select:1,submit:1},r={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},i={submit:1},a={KeyEvents:["bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],MouseEvents:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],HTMLEvents:["bubbles","cancelable"],UIEvents:["bubbles","cancelable","view","detail"],Events:["bubbles","cancelable"]};o.extend(r,e),o.extend(r,t);var s=function(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})},l=function(e){var t,n=[],r=0;for(t in e)e.hasOwnProperty(t)&&(n[r++]=e[t]);return n},u=function(e,t){for(var n=0,r=e.length,o={};r>n;n++)o[e[n]]=t[e[n]],delete t[e[n]];return o},c=function(e,t,n){n=o.extend({},n);var r=l(u(a[t],n)),i=document.createEvent(t);switch(r.unshift(e),t){case"KeyEvents":i.initKeyEvent.apply(i,r);break;case"MouseEvents":i.initMouseEvent.apply(i,r);break;case"UIEvents":i.initUIEvent.apply(i,r);break;default:i.initEvent.apply(i,r)}return n.triggerData&&(i.triggerData=n.triggerData),o.extend(i,n),i},d=function(e){var t;return document.createEventObject&&(t=document.createEventObject(),o.extend(t,e)),t},f=function(e,t){t=u(a.KeyEvents,t);var n;if(document.createEvent)try{n=c(e,"KeyEvents",t)}catch(r){try{n=c(e,"Events",t)}catch(r){n=c(e,"UIEvents",t)}}else t.keyCode=t.charCode>0?t.charCode:t.keyCode,n=d(t);return n},p=function(e,t){t=u(a.MouseEvents,t);var n;return document.createEvent?(n=c(e,"MouseEvents",t),t.relatedTarget&&!n.relatedTarget&&("mouseout"==e.toLowerCase()?n.toElement=t.relatedTarget:"mouseover"==e.toLowerCase()&&(n.fromElement=t.relatedTarget))):(t.button=0==t.button?1:1==t.button?4:o.lang.isNumber(t.button)?t.button:0,n=d(t)),n},h=function(e,t){t.bubbles=r.hasOwnProperty(e),t=u(a.HTMLEvents,t);var n;if(document.createEvent)try{n=c(e,"HTMLEvents",t)}catch(o){try{n=c(e,"UIEvents",t)}catch(o){n=c(e,"Events",t)}}else n=d(t);return n},g=function(r,a,l){var u,u={bubbles:!0,cancelable:!0,view:window,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0,button:0,relatedTarget:null};if(e[a])u=f(a,u);else if(t[a])u=p(a,u);else{if(!n[a])return o(r).triggerHandler(a,l);u=h(a,u)}if(u){l&&(u.triggerData=l);var c;if(r.dispatchEvent?c=r.dispatchEvent(u):r.fireEvent&&(c=r.fireEvent("on"+a,u)),c!==!1&&i[a])try{r[a]?r[a]():(a=s(a),r[a]&&r[a]())}catch(d){}}};return function(e,t){return this.each(function(){g(this,e,t)}),this}}()}),o.dom.extend({unbind:function(e,t){return this.off(e,t)}}),o.dom.extend({undelegate:function(e,t,n){return this.off(t,e,n)}}),o.dom.extend({unique:function(e){return o.dom(o.array(this.toArray()).unique(e))}}),o.dom._matchNode=function(e,t,n){e=o.dom.g(e);for(var r=e[n];r;r=r[t])if(1==r.nodeType)return r;return null},o.dom._styleFilter[o.dom._styleFilter.length]={get:function(e,t){if(/color/i.test(e)&&-1!=t.indexOf("rgb(")){var n=t.split(",");t="#";for(var r,o=0;r=n[o];o++)r=parseInt(r.replace(/[^\d]/gi,""),10).toString(16),t+=1==r.length?"0"+r:r;t=t.toUpperCase()}return t}},o.dom._styleFixer.display=o.browser.ie&&o.browser.ie<8?{set:function(e,t){e=e.style,"inline-block"==t?(e.display="inline",e.zoom=1):e.display=t}}:o.browser.firefox&&o.browser.firefox<3?{set:function(e,t){e.style.display="inline-block"==t?"-moz-inline-box":t}}:null,o.dom._styleFixer["float"]=o.browser.ie?"styleFloat":"cssFloat",o.dom._styleFixer.opacity=o.browser.ie?{get:function(e){var t=e.style.filter;return t&&t.indexOf("opacity=")>=0?parseFloat(t.match(/opacity=([^)]*)/)[1])/100+"":"1"},set:function(e,t){var n=e.style;n.filter=(n.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(1==t?"":"alpha(opacity="+100*t+")"),n.zoom=1}}:null,o.dom._styleFixer.width=o.dom._styleFixer.height={get:function(e,t,n){var t=t.replace(/^[a-z]/,function(e){return e.toUpperCase()}),r=e["client"+t]||e["offset"+t];return r>0?r+"px":n&&"auto"!=n?r:"0px"},set:function(e,t,n){e.style[n]=t}},o.dom._styleFixer.textOverflow=function(){function e(e){var t=e.length;return t>0?(t=e[t-1],e.length--):t=null,t}function t(e,t){e[o.browser.firefox?"textContent":"innerText"]=t}function n(i,a,s){var l=o.browser.ie?i.currentStyle||i.style:getComputedStyle(i,null),u=l.fontWeight,c="font-family:"+l.fontFamily+";font-size:"+l.fontSize+";word-spacing:"+l.wordSpacing+";font-weight:"+(401==(parseInt(u)||0)?700:u)+";font-style:"+l.fontStyle+";font-variant:"+l.fontVariant,d=r[c];if(!d){l=i.appendChild(document.createElement("div")),l.style.cssText="float:left;"+c,d=r[c]=[];for(var f=0;256>f;f++)32==f?l.innerHTML="&nbsp;":t(l,String.fromCharCode(f)),d[f]=l.offsetWidth;t(l,"一"),d[256]=l.offsetWidth,t(l,"一一"),d[257]=l.offsetWidth-2*d[256],d[258]=3*d[".".charCodeAt(0)]+3*d[257],i.removeChild(l)}for(var p=i.firstChild,h=d[256],g=d[257],m=d[258],v=[],s=s?m:0;p;p=p.nextSibling)if(s>a)i.removeChild(p);else if(3==p.nodeType)for(var f=0,y=p.nodeValue,b=y.length;b>f&&(l=y.charCodeAt(f),v[v.length]=[a,p,f],a-=(f?g:0)+(256>l?d[l]:h),!(s>a));f++);else l=p.tagName,"IMG"==l||"TABLE"==l?(l=p,p=p.previousSibling,i.removeChild(l)):(v[v.length]=[a,p],a-=p.offsetWidth);if(s>a){for(;l=e(v);)if(a=l[0],p=l[1],l=l[2],3==p.nodeType){if(a>=m)return p.nodeValue=p.nodeValue.substring(0,l)+"...",!0;l||i.removeChild(p)}else{if(n(p,a,!0))return!0;i.removeChild(p)}i.innerHTML=""}}var r={};return{get:function(e){var t=o.browser,n=dom.getStyle;return(t.opera?n("OTextOverflow"):t.firefox?e._baiduOverflow:n("textOverflow"))||"clip"},set:function(e,t){var r=o.browser;if("TD"==e.tagName||"TH"==e.tagName||r.firefox)if(e._baiduHTML&&(e.innerHTML=e._baiduHTML),"ellipsis"==t){e._baiduHTML=e.innerHTML;var i=document.createElement("div"),a=e.appendChild(i).offsetWidth;e.removeChild(i),n(e,a)}else e._baiduHTML="";i=e.style,r.opera?i.OTextOverflow=t:r.firefox?e._baiduOverflow=t:i.textOverflow=t}}}(),o.lang.isArray=o.isArray,o.lang.toArray=function(e){if(null===e||void 0===e)return[];if(o.lang.isArray(e))return e;if("number"!=typeof e.length||"string"==typeof e||o.lang.isFunction(e))return[e];if(e.item){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}return[].slice.call(e)},o.fn.extend({methodize:function(e){var t=this.fn;return function(){return t.apply(this,[e?this[e]:this].concat([].slice.call(arguments)))}}}),o.fn.extend({wrapReturnValue:function(e,t){var n=this.fn;return t=0|t,function(){var r=n.apply(this,arguments);return t?t>0?new e(arguments[t-1]):r:new e(r)}}}),o.fn.wrapReturnValue=function(e,t,n){return o.fn(e).wrapReturnValue(t,n)},o.fn.extend({multize:function(e,t){function n(){var o,i=arguments[0],a=e?n:r,s=[],l=Array.prototype.slice.call(arguments,0);if(i instanceof Array){for(var u,c=0;u=i[c];c++)l[0]=u,o=a.apply(this,l),t?o&&(s=s.concat(o)):s.push(o);return s}return r.apply(this,arguments)}var r=this.fn;return n}}),o.fn.multize=function(e,t,n){return o.fn(e).multize(t,n)},o.element=function(e){var t=o.dom._g(e);return!t&&o.dom.query&&(t=o.dom.query(e)),new o.element.Element(t)},o.element.Element=function(e){o.element._init||(o.element._makeChain(),o.element._init=!0),this._dom="select"==(e.tagName||"").toLowerCase()?[e]:o.lang.toArray(e)},o.element.Element.prototype.each=function(e){o.array.each(this._dom,function(t,n){e.call(t,t,n)})},o.element._toChainFunction=function(e,t){return o.fn.methodize(o.fn.wrapReturnValue(o.fn.multize(e,0,1),o.element.Element,t),"_dom")},o.element._makeChain=function(){function e(e){return e.charAt(3).toLowerCase()}var t=o.element.Element.prototype,n=o.element._toChainFunction;o.forEach("draggable droppable resizable fixable".split(" "),function(e){t[e]=n(o.dom[e],1)}),o.forEach("remove getText contains getAttr getPosition getStyle hasClass intersect hasAttr getComputedStyle".split(" "),function(r){t[r]=t[r.replace(/^get[A-Z]/g,e)]=n(o.dom[r],-1)}),o.forEach("addClass empty hide show insertAfter insertBefore insertHTML removeClass setAttr setAttrs setStyle setStyles show toggleClass toggle next first getAncestorByClass getAncestorBy getAncestorByTag getDocument getParent getWindow last next prev g removeStyle setBorderBoxSize setOuterWidth setOuterHeight setBorderBoxWidth setBorderBoxHeight setPosition children query".split(" "),function(r){t[r]=t[r.replace(/^get[A-Z]/g,e)]=n(o.dom[r],0)}),t.q=t.Q=n(function(e,t){return o.dom.q.apply(this,[t,e].concat([].slice.call(arguments,2)))},0),o.forEach("on un".split(" "),function(e){t[e]=n(o.event[e],0)}),o.forEach("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e){t[e]=function(t){return this.on(e,t)}})},o.element.extend=function(e){var t=o.element;o.object.each(e,function(e,n){t.Element.prototype[n]=o.element._toChainFunction(e,-1)})},o.event.EventArg=function(e,t){t=t||window,e=e||t.event;var n=t.document;this.target=e.target||e.srcElement,this.keyCode=e.which||e.keyCode;for(var r in e){var o=e[r];"function"!=typeof o&&(this[r]=o)}this.pageX||0===this.pageX||(this.pageX=(e.clientX||0)+(n.documentElement.scrollLeft||n.body.scrollLeft),this.pageY=(e.clientY||0)+(n.documentElement.scrollTop||n.body.scrollTop)),this._event=e},o.event.EventArg.prototype.preventDefault=function(){return this._event.preventDefault?this._event.preventDefault():this._event.returnValue=!1,this},o.event.EventArg.prototype.stopPropagation=function(){return this._event.stopPropagation?this._event.stopPropagation():this._event.cancelBubble=!0,this},o.event.EventArg.prototype.stop=function(){return this.stopPropagation().preventDefault()},o.object.values=function(e){var t,n=[],r=0;for(t in e)e.hasOwnProperty(t)&&(n[r++]=e[t]);return n},o.lang.isNumber=o.isNumber,o.event.fire=function(){function e(e,t){for(var n=0,r=e.length,o={};r>n;n++)o[e[n]]=t[e[n]],delete t[e[n]];return o}function t(t,n,r){r=o.object.extend({},r);var i=o.object.values(e(f[n],r)),a=document.createEvent(n);return i.unshift(t),"KeyEvents"==n?a.initKeyEvent.apply(a,i):"MouseEvents"==n?a.initMouseEvent.apply(a,i):"UIEvents"==n?a.initUIEvent.apply(a,i):a.initEvent.apply(a,i),o.object.extend(a,r),a}function n(e){var t;return document.createEventObject&&(t=document.createEventObject(),o.object.extend(t,e)),t}function r(r,o){o=e(f.KeyEvents,o);var i;if(document.createEvent)try{i=t(r,"KeyEvents",o)}catch(a){try{i=t(r,"Events",o)}catch(s){i=t(r,"UIEvents",o)}}else o.keyCode=o.charCode>0?o.charCode:o.keyCode,i=n(o);return i}function i(r,i){i=e(f.MouseEvents,i);var a;return document.createEvent?(a=t(r,"MouseEvents",i),i.relatedTarget&&!a.relatedTarget&&("mouseout"==r.toLowerCase()?a.toElement=i.relatedTarget:"mouseover"==r.toLowerCase()&&(a.fromElement=i.relatedTarget))):(i.button=0==i.button?1:1==i.button?4:o.lang.isNumber(i.button)?i.button:0,a=n(i)),a}function a(r,o){o.bubbles=d.hasOwnProperty(r),o=e(f.HTMLEvents,o);var i;if(document.createEvent)try{i=t(r,"HTMLEvents",o)}catch(a){try{i=t(r,"UIEvents",o)}catch(s){i=t(r,"Events",o)}}else i=n(o);return i}var s=o.browser,l={keydown:1,keyup:1,keypress:1},u={click:1,dblclick:1,mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1},c={abort:1,blur:1,change:1,error:1,focus:1,load:s.ie?0:1,reset:1,resize:1,scroll:1,select:1,submit:1,unload:s.ie?0:1},d={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},f={KeyEvents:["bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],MouseEvents:["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],HTMLEvents:["bubbles","cancelable"],UIEvents:["bubbles","cancelable","view","detail"],Events:["bubbles","cancelable"]};return o.object.extend(d,l),o.object.extend(d,u),function(e,t,n){var s;if(t=t.replace(/^on/i,""),e=o.dom._g(e),n=o.object.extend({bubbles:!0,cancelable:!0,view:window,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0,button:0,relatedTarget:null},n),l[t])s=r(t,n);else if(u[t])s=i(t,n);else{if(!c[t])throw new Error(t+" is not support!");s=a(t,n)}s&&(e.dispatchEvent?e.dispatchEvent(s):e.fireEvent&&e.fireEvent("on"+t,s))}}(),o.event.get=function(e,t){return new o.event.EventArg(e,t)},o.event.getEvent=function(){if(window.event)return window.event;var e,t=arguments.callee;do if(e=t.arguments[0],e&&(/Event/.test(e)||e.originalEvent))return e.originalEvent||e;while(t=t.caller);return null},o.event.getKeyCode=function(e){return e.originalEvent&&(e=e.originalEvent),e.which||e.keyCode},o.event.getPageX=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.pageX,n=document;return t||0===t||(t=(e.clientX||0)+(n.documentElement.scrollLeft||n.body.scrollLeft)),t},o.event.getPageY=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.pageY,n=document;return t||0===t||(t=(e.clientY||0)+(n.documentElement.scrollTop||n.body.scrollTop)),t},o.event.once=function(e,t,n){return o.dom(o.dom._g(e)).one(t,n)[0]},o.event.stopPropagation=function(e){e.originalEvent&&(e=e.originalEvent),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o.event.stop=function(e){e.originalEvent&&(e=e.originalEvent),o.event.stopPropagation(e),o.event.preventDefault(e)},o.fn.abstractMethod=function(){throw Error("unimplemented abstract method")},o.fn.extend({bind:function(e){var t=this.fn,n=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var r="string"===o.type(t)?e[t]:t,i=n?n.concat(Array.prototype.slice.call(arguments,0)):arguments;return r.apply(e||r,i)}}}),o.fn.bind=function(e){var t=o.fn(e);return t.bind.apply(t,Array.prototype.slice.call(arguments,1))},o.createChain("form",function(e){return"undefined"==typeof e?new o.form.$Form:new o.form.$Form(e)},function(e){this.form=e}),o.form.extend({json:function(e){function t(e,t){var n=p[e];n?(n.push||(p[e]=[n]),p[e].push(t)):p[e]=t}for(var n,r,i,a,s,l,u,c,d=this.form,f=d.elements,e=e||function(e){return e},p={},h=0,g=f.length;g>h;h++)if(n=f[h],i=n.name,!n.disabled&&i)switch(r=n.type,a=o.url.escapeSymbol(n.value),r){case"radio":case"checkbox":if(!n.checked)break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":t(i,e(a,i));break;case"select-multiple":for(s=n.options,u=s.length,l=0;u>l;l++)c=s[l],c.selected&&t(i,e(c.value,i))}return p}}),o.form.extend({serialize:function(e){function t(e,t){p.push(e+"="+t)}for(var n,r,i,a,s,l,u,c,d=this.form,f=d.elements,e=e||function(e){return e},p=[],h=0,g=f.length;g>h;h++)if(n=f[h],i=n.name,!n.disabled&&i)switch(r=n.type,a=o.url.escapeSymbol(n.value),r){case"radio":case"checkbox":if(!n.checked)break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":t(i,e(a,i));break;case"select-multiple":for(s=n.options,u=s.length,l=0;u>l;l++)c=s[l],c.selected&&t(i,e(c.value,i))}return p}}),o.fx=o.fx||{},o.lang.inherits=function(e,t,n){var r,o,i=e.prototype,a=new Function;a.prototype=t.prototype,o=e.prototype=new a;for(r in i)o[r]=i[r];return e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(o.__type=n),e.extend=function(t){for(var n in t)o[n]=t[n];return e},e},o.fx.Timeline=function(e){o.lang.Class.call(this),this.interval=16,this.duration=500,this.dynamic=!0,o.object.extend(this,e)},o.lang.inherits(o.fx.Timeline,o.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var e=this;return e.dispatchEvent("onbeforestart"),"function"==typeof e.initialize&&e.initialize(),e["btime"]=(new Date).getTime(),e["etime"]=e["btime"]+(e.dynamic?e.duration:0),e["pulsed"](),e},"pulsed":function(){var e=this,t=(new Date).getTime();return e.percent=(t-e["btime"])/e.duration,e.dispatchEvent("onbeforeupdate"),t>=e["etime"]?("function"==typeof e.render&&e.render(e.transition(e.percent=1)),"function"==typeof e.finish&&e.finish(),e.dispatchEvent("onafterfinish"),void e.dispose()):("function"==typeof e.render&&e.render(e.transition(e.percent)),e.dispatchEvent("onafterupdate"),void(e["timer"]=setTimeout(function(){e["pulsed"]()},e.interval)))},transition:function(e){return e},cancel:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],"function"==typeof this.restore&&this.restore(),this.dispatchEvent("oncancel"),this.dispose()},end:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],this["pulsed"]()}}),o.fx.create=function(e,t,n){var r=new o.fx.Timeline(t);r.element=e,r.__type=n||r.__type,r["original"]={};var i="baidu_current_effect";return r.addEventListener("onbeforestart",function(){var e,t=this;t.attribName="att_"+t.__type.replace(/\W/g,"_"),e=t.element.getAttribute(i),t.element.setAttribute(i,(e||"")+"|"+t.guid+"|",0),t.overlapping||((e=t.element.getAttribute(t.attribName))&&window[o.guid]._instances[e]&&window[o.guid]._instances[e].cancel(),t.element.setAttribute(t.attribName,t.guid,0))}),r["clean"]=function(e){var t,n=this;(e=n.element)&&(e.removeAttribute(n.attribName),t=e.getAttribute(i),t=t.replace("|"+n.guid+"|",""),t?e.setAttribute(i,t,0):e.removeAttribute(i))},r.addEventListener("oncancel",function(){this["clean"](),this["restore"]()}),r.addEventListener("onafterfinish",function(){this["clean"](),this.restoreAfterFinish&&this["restore"]()}),r.protect=function(e){this["original"][e]=this.element.style[e]},r["restore"]=function(){var e,t=this["original"],n=this.element.style;
for(var r in t)e=t[r],"undefined"!=typeof e&&(n[r]=e,!e&&n.removeAttribute?n.removeAttribute(r):!e&&n.removeProperty&&n.removeProperty(r))},r},o.fx.collapse=function(e,t){if(!(e=o.dom.g(e)))return null;var n,r,i=e,a={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}},s=o.fx.create(i,o.object.extend({orientation:"vertical",initialize:function(){r=a[this.orientation],this.protect(r.value),this.protect("overflow"),this.restoreAfterFinish=!0,n=i[r.offset],i.style.overflow="hidden"},transition:function(e){return Math.pow(1-e,2)},render:function(e){i.style[r.value]=Math.floor(e*n)+"px"},finish:function(){o.dom.hide(i)}},t||{}),"baidu.fx.expand_collapse");return s.launch()},o.lang.instance=function(){var e=o.global("_maps_id");return function(t){return e[t]||null}}(),o.fx.current=function(e){if(!(e=o.dom.g(e)))return null;var t,n,r=/\|([^\|]+)\|/g;do if(n=e.getAttribute("baidu_current_effect"))break;while((e=e.parentNode)&&1==e.nodeType);if(!n)return null;if(t=n.match(r)){r=/\|([^\|]+)\|/;for(var i=0;i<t.length;i++)r.test(t[i]),t[i]=o.lang.instance(RegExp.$1)}return t},o.fx.expand=function(e,t){if(!(e=o.dom.g(e)))return null;var n,r,i=e,a={vertical:{value:"height",offset:"offsetHeight",stylesValue:["paddingBottom","paddingTop","borderTopWidth","borderBottomWidth"]},horizontal:{value:"width",offset:"offsetWidth",stylesValue:["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"]}},s=o.fx.create(i,o.object.extend({orientation:"vertical",initialize:function(){function e(e,t){var n=parseInt(o.dom.getStyle(e,t));return n=isNaN(n)?0:n,n=o.lang.isNumber(n)?n:0}r=a[this.orientation],o.dom.show(i),this.protect(r.value),this.protect("overflow"),this.restoreAfterFinish=!0,n=i[r.offset],o.forEach(r.stylesValue,function(t){n-=e(i,t)}),i.style.overflow="hidden",i.style[r.value]="1px"},transition:function(e){return Math.sqrt(e)},render:function(e){i.style[r.value]=Math.floor(e*n)+"px"}},t||{}),"baidu.fx.expand_collapse");return s.launch()},o.fx.opacity=function(e,t){if(!(e=o.dom.g(e)))return null;t=o.object.extend({from:0,to:1},t||{});var n=e,r=o.fx.create(n,o.object.extend({initialize:function(){o.dom.show(e),o.browser.ie?this.protect("filter"):(this.protect("opacity"),this.protect("KHTMLOpacity")),this.distance=this.to-this.from},render:function(e){var t=this.distance*e+this.from;o.browser.ie?n.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(100*t)+")":(n.style.opacity=t,n.style.KHTMLOpacity=t)}},t),"baidu.fx.opacity");return r.launch()},o.fx.fadeIn=function(e,t){if(!(e=o.dom.g(e)))return null;var n=o.fx.opacity(e,o.object.extend({from:0,to:1,restoreAfterFinish:!0},t||{}));return n.__type="baidu.fx.fadeIn",n},o.fx.fadeOut=function(e,t){if(!(e=o.dom.g(e)))return null;var n=o.fx.opacity(e,o.object.extend({from:1,to:0,restoreAfterFinish:!0},t||{}));return n.addEventListener("onafterfinish",function(){o.dom.hide(this.element)}),n.__type="baidu.fx.fadeOut",n},o.fx.getTransition=function(e){var t=o.fx.transitions;return e&&"string"==typeof t[e]||(e="linear"),new Function("percent",t[e])},o.fx.transitions={none:"return 0",full:"return 1",linear:"return percent",reverse:"return 1 - percent",parabola:"return Math.pow(percent, 2)",antiparabola:"return 1 - Math.pow(1 - percent, 2)",sinoidal:"return (-Math.cos(percent * Math.PI)/2) + 0.5",wobble:"return (-Math.cos(percent * Math.PI * (9 * percent))/2) + 0.5",spring:"return 1 - (Math.cos(percent * 4.5 * Math.PI) * Math.exp(-percent * 6))"},o.string.extend({formatColor:function(){var e=/^\#[\da-f]{6}$/i,t=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/i,n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"};return function(){var r=this.valueOf();if(e.test(r))return r;if(t.test(r)){for(var o,i=1,r="#";4>i;i++)o=parseInt(RegExp["$"+i]).toString(16),r+=("00"+o).substr(o.length);return r}if(/^\#[\da-f]{3}$/.test(r)){var a=r.charAt(1),s=r.charAt(2),l=r.charAt(3);return"#"+a+a+s+s+l+l}return n[r]?n[r]:""}}()}),o.fx.highlight=function(e,t){if(!(e=o.dom.g(e)))return null;var n=e,r=o.fx.create(n,o.object.extend({initialize:function(){var e=this,t=o.dom.getStyle,r=o.string.formatColor,i=r(t(n,"color"))||"#000000",a=r(t(n,"backgroundColor"));e.beginColor=e.beginColor||a||"#FFFF00",e.endColor=e.endColor||a||"#FFFFFF",e.finalColor=e.finalColor||e.endColor||e.element.style.backgroundColor,e.textColor==i&&(e.textColor=""),this.protect("color"),this.protect("backgroundColor"),e.c_b=[],e.c_d=[],e.t_b=[],e.t_d=[];for(var s,l=0;3>l;l++)s=2*l+1,e.c_b[l]=parseInt(e.beginColor.substr(s,2),16),e.c_d[l]=parseInt(e.endColor.substr(s,2),16)-e.c_b[l],e.textColor&&(e.t_b[l]=parseInt(i.substr(s,2),16),e.t_d[l]=parseInt(e.textColor.substr(s,2),16)-e.t_b[l])},render:function(e){for(var t,r=this,o="#",i="#",a=0;3>a;a++)t=Math.round(r.c_b[a]+r.c_d[a]*e).toString(16),o+=("00"+t).substr(t.length),r.textColor&&(t=Math.round(r.t_b[a]+r.t_d[a]*e).toString(16),i+=("00"+t).substr(t.length));n.style.backgroundColor=o,r.textColor&&(n.style.color=i)},finish:function(){this.textColor&&(n.style.color=this.textColor),n.style.backgroundColor=this.finalColor}},t||{}),"baidu.fx.highlight");return r.launch()},o.fx.mask=function(e,t){if(!(e=o.dom.g(e))||"absolute"!=o.dom.getStyle(e,"position"))return null;var n=e,r={};t=t||{};var i=/^(\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!i.test(t.startOrigin)&&(t.startOrigin="0px 0px");var t=o.object.extend({restoreAfterFinish:!0,from:0,to:1},t||{}),a=o.fx.create(n,o.object.extend({initialize:function(){n.style.display="",this.protect("clip"),r.width=n.offsetWidth,r.height=n.offsetHeight,i.test(this.startOrigin);var e,t,o=RegExp.$1.toLowerCase(),a=RegExp.$4.toLowerCase(),s=this.element.offsetWidth,l=this.element.offsetHeight;/\d+%/.test(o)?e=parseInt(o,10)/100*s:/\d+px/.test(o)?e=parseInt(o):"left"==o?e=0:"center"==o?e=s/2:"right"==o&&(e=s),a?/\d+%/.test(a)?t=parseInt(a,10)/100*l:/\d+px/.test(a)?t=parseInt(a):"top"==a?t=0:"center"==a?t=l/2:"bottom"==a&&(t=l):t=l/2,r.x=e,r.y=t},render:function(e){var t=this.to*e+this.from*(1-e),o=r.y*(1-t)+"px ",i=r.x*(1-t)+"px ",a=r.x*(1-t)+r.width*t+"px ",s=r.y*(1-t)+r.height*t+"px ";n.style.clip="rect("+o+a+s+i+")"},finish:function(){this.to<this.from&&(n.style.display="none")}},t),"baidu.fx.mask");return a.launch()},o.fx.move=function(e,t){if(!(e=o.dom.g(e))||"static"==o.dom.getStyle(e,"position"))return null;if(t=o.object.extend({x:0,y:0},t||{}),0==t.x&&0==t.y)return null;var n=o.fx.create(e,o.object.extend({initialize:function(){this.protect("top"),this.protect("left"),this.originX=parseInt(o.dom.getStyle(e,"left"))||0,this.originY=parseInt(o.dom.getStyle(e,"top"))||0},transition:function(e){return 1-Math.pow(1-e,2)},render:function(t){e.style.top=this.y*t+this.originY+"px",e.style.left=this.x*t+this.originX+"px"}},t),"baidu.fx.move");return n.launch()},o.fx.moveBy=function(e,t,n){if(!(e=o.dom.g(e))||"static"==o.dom.getStyle(e,"position")||"object"!=typeof t)return null;var r={};r.x=t[0]||t.x||0,r.y=t[1]||t.y||0;var i=o.fx.move(e,o.object.extend(r,n||{}));return i},o.fx.moveTo=function(e,t,n){if(!(e=o.dom.g(e))||"static"==o.dom.getStyle(e,"position")||"object"!=typeof t)return null;var r=[t[0]||t.x||0,t[1]||t.y||0],i=parseInt(o.dom.getStyle(e,"left"))||0,a=parseInt(o.dom.getStyle(e,"top"))||0,s=o.fx.move(e,o.object.extend({x:r[0]-i,y:r[1]-a},n||{}));return s},o.fx.scale=function(e,t){if(!(e=o.dom.g(e)))return null;t=o.object.extend({from:.1,to:1},t||{});var n=/^(-?\d+px|\d?\d(\.\d+)?%|100%|left|center|right)(\s+(-?\d+px|\d?\d(\.\d+)?%|100%|top|center|bottom))?/i;!n.test(t.transformOrigin)&&(t.transformOrigin="0px 0px");var r={},i=o.fx.create(e,o.object.extend({fade:!0,initialize:function(){o.dom.show(e);var t=this,i=r,a=e.style,s=function(e){t.protect(e)};if(o.browser.ie){s("top"),s("left"),s("position"),s("zoom"),s("filter"),this.offsetX=parseInt(o.dom.getStyle(e,"left"))||0,this.offsetY=parseInt(o.dom.getStyle(e,"top"))||0,"static"==o.dom.getStyle(e,"position")&&(a.position="relative"),n.test(this.transformOrigin);var l,u,c=RegExp.$1.toLowerCase(),d=RegExp.$4.toLowerCase(),f=this.element.offsetWidth,p=this.element.offsetHeight;/\d+%/.test(c)?l=parseInt(c,10)/100*f:/\d+px/.test(c)?l=parseInt(c):"left"==c?l=0:"center"==c?l=f/2:"right"==c&&(l=f),d?/\d+%/.test(d)?u=parseInt(d,10)/100*p:/\d+px/.test(d)?u=parseInt(d):"top"==d?u=0:"center"==d?u=p/2:"bottom"==d&&(u=p):u=p/2,a.zoom=this.from,i.cx=l,i.cy=u}else s("WebkitTransform"),s("WebkitTransformOrigin"),s("MozTransform"),s("MozTransformOrigin"),s("OTransform"),s("OTransformOrigin"),s("transform"),s("transformOrigin"),s("opacity"),s("KHTMLOpacity"),a.WebkitTransform=a.MozTransform=a.OTransform=a.transform="scale("+this.from+")",a.WebkitTransformOrigin=a.MozTransformOrigin=a.OTransformOrigin=a.transformOrigin=this.transformOrigin},render:function(t){var n=e.style,i=1==this.to,i="boolean"==typeof this.opacityTrend?this.opacityTrend:i,a=i?this.percent:1-this.percent,s=this.to*t+this.from*(1-t);o.browser.ie?(n.zoom=s,this.fade&&(n.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(100*a)+")"),n.top=this.offsetY+r.cy*(1-s),n.left=this.offsetX+r.cx*(1-s)):(n.WebkitTransform=n.MozTransform=n.OTransform=n.transform="scale("+s+")",this.fade&&(n.KHTMLOpacity=n.opacity=a))}},t),"baidu.fx.scale");return i.launch()},o.fx.zoomOut=function(e,t){if(!(e=o.dom.g(e)))return null;t=o.object.extend({to:.1,from:1,opacityTrend:!1,restoreAfterFinish:!0,transition:function(e){return 1-Math.pow(1-e,2)}},t||{});var n=o.fx.scale(e,t);return n.addEventListener("onafterfinish",function(){o.dom.hide(this.element)}),n},o.fx.puff=function(e,t){return o.fx.zoomOut(e,o.object.extend({to:1.8,duration:800,transformOrigin:"50% 50%"},t||{}))},o.fx.pulsate=function(e,t,n){if(!(e=o.dom.g(e)))return null;if(isNaN(t)||0==t)return null;var r=e,i=o.fx.create(r,o.object.extend({initialize:function(){this.protect("visibility")},transition:function(e){return Math.cos(2*Math.PI*e)},render:function(e){r.style.visibility=e>0?"visible":"hidden"},finish:function(){setTimeout(function(){o.fx.pulsate(e,--t,n)},10)}},n),"baidu.fx.pulsate");return i.launch()},o.fx.remove=function(e,t){var n=t.onafterfinish?t.onafterfinish:new Function;return o.fx.fadeOut(e,o.object.extend(t||{},{onafterfinish:function(){o.dom.remove(this.element),n.call(this)}}))},o.fx.scrollBy=function(e,t,n){if(!(e=o.dom.g(e))||"object"!=typeof t)return null;var r={},i={};r.x=t[0]||t.x||0,r.y=t[1]||t.y||0;var a=o.fx.create(e,o.object.extend({initialize:function(){var t=i.sTop=e.scrollTop,n=i.sLeft=e.scrollLeft;i.sx=Math.min(e.scrollWidth-e.clientWidth-n,r.x),i.sy=Math.min(e.scrollHeight-e.clientHeight-t,r.y)},transition:function(e){return 1-Math.pow(1-e,2)},render:function(t){e.scrollTop=i.sy*t+i.sTop,e.scrollLeft=i.sx*t+i.sLeft},restore:function(){e.scrollTop=i.sTop,e.scrollLeft=i.sLeft}},n),"baidu.fx.scroll");return a.launch()},o.fx.scrollTo=function(e,t,n){if(!(e=o.dom.g(e))||"object"!=typeof t)return null;var r={};return r.x=(t[0]||t.x||0)-e.scrollLeft,r.y=(t[1]||t.y||0)-e.scrollTop,o.fx.scrollBy(e,r,n)},o.fx.shake=function(e,t,n){function r(){for(var e=0;e<arguments.length;e++)if(!isNaN(arguments[e]))return arguments[e]}if(!(e=o.dom.g(e)))return null;var i=e;t=t||[];var a=o.fx.create(i,o.object.extend({initialize:function(){this.protect("top"),this.protect("left"),this.protect("position"),this.restoreAfterFinish=!0,"static"==o.dom.getStyle(i,"position")&&(i.style.position="relative");var e=this["original"];this.originX=parseInt(e.left||0),this.originY=parseInt(e.top||0),this.offsetX=r(t[0],t.x,16),this.offsetY=r(t[1],t.y,5)},transition:function(e){var t=1-e;return Math.floor(16*t)%2==1?t:e-1},render:function(e){i.style.top=this.offsetY*e+this.originY+"px",i.style.left=this.offsetX*e+this.originX+"px"}},n||{}),"baidu.fx.shake");return a.launch()},o.fx.zoomIn=function(e,t){return(e=o.dom.g(e))?(t=o.object.extend({to:1,from:.1,restoreAfterFinish:!0,transition:function(e){return Math.pow(e,2)}},t||{}),o.fx.scale(e,t)):null},o._util_.smartAjax=o._util_.smartAjax||function(e){return function(t,n,r,i){"function"===o.type(n)&&(i=i||r,r=n,n=void 0),o.ajax({type:e,url:t,data:n,success:r,dataType:i})}},o.get=o.get||o._util_.smartAjax("get"),o.global.get=function(e){return o.global(e)},o.global.set=function(e,t,n){return o.global(e,t,n)},o.global.getZIndex=function(e,t){var n=o.global.get("zIndex");return e&&(n[e]=n[e]+(t||1)),n[e]},o.global.set("zIndex",{popup:5e4,dialog:1e3},!0),o.i18n=o.i18n||{},o.i18n.cultures=o.i18n.cultures||{},o.i18n.cultures["en-US"]=o.object.extend(o.i18n.cultures["en-US"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{MM}&nbsp;#{yyyy}",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:{mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"}},timeZone:-5,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(e,t){return o.i18n.number._format(e,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:t?this.negative:this.positive})}},currency:{symbol:"$"},language:{ok:"ok",cancel:"cancel",signin:"signin",signup:"signup"}}),o.i18n.currentLocale="en-US",o.i18n.cultures["zh-CN"]=o.object.extend(o.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}年&nbsp;#{MM}月",monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],dayNames:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(e,t){return o.i18n.number._format(e,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:t?this.negative:this.positive})}},currency:{symbol:"￥"},language:{ok:"确定",cancel:"取消",signin:"注册",signup:"登录"}}),o.i18n.currentLocale="zh-CN",o.i18n.number=o.i18n.number||{format:function(e,t,n){var r=this,i=t&&o.i18n.cultures[t].number,a=o.i18n.cultures[n||o.i18n.currentLocale].number,s=!1;return"string"==typeof e?(e.indexOf(i.negative)>-1?(s=!0,e=e.replace(i.negative,"")):e.indexOf(i.positive)>-1&&(e=e.replace(i.positive,"")),e=e.replace(new RegExp(i.group,"g"),"")):0>e&&(s=!0,e*=-1),e=parseFloat(e),isNaN(e)?"NAN":a._format?a._format(e,s):r._format(e,{group:a.group||",",decimal:a.decimal||".",groupLength:a.groupLength,symbol:s?a.negative:a.positive})},_format:function(e,t){var n=String(e).split(t.decimal),r=n[0].split("").reverse(),o=n[1]||"",i=0,a=0,s="";i=parseInt(r.length/t.groupLength),a=r.length%t.groupLength,i=0==a?i-1:i;for(var l=1;i>=l;l++)r.splice(t.groupLength*l+(l-1),0,t.group);return r=r.reverse(),s=t.symbol+r.join("")+(o.length>0?t.decimal+o:"")}},o.i18n.currency=o.i18n.currency||{format:function(e,t,n){var r=t&&o.i18n.cultures[t].currency,i=o.i18n.cultures[n||o.i18n.currentLocale].currency;return"string"==typeof e&&(e=e.replace(r.symbol)),i.symbol+this._format(e,t,n)},_format:function(e,t,n){return o.i18n.number.format(e,t,n||o.i18n.currentLocale)}},o.i18n.date=o.i18n.date||{getDaysInMonth:function(e,t){var n=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==t&&o.i18n.date.isLeapYear(e)?29:n[t]},isLeapYear:function(e){return!(e%400&&(e%4||!(e%100)))},toLocaleDate:function(e,t,n){return this._basicDate(e,t,n||o.i18n.currentLocale)},_basicDate:function(e,t,n){var r,i,a=o.i18n.cultures[n||o.i18n.currentLocale].timeZone,s=60*a,l=e.getTime();return t?(r=o.i18n.cultures[t].timeZone,i=60*r):(i=-1*e.getTimezoneOffset(),r=i/60),new Date(r!=a?l+6e4*(s-i):l)},format:function(e,t){var n=o.i18n.cultrues[t||o.i18n.currentLocale];return o.date.format(o.i18n.date.toLocaleDate(e,"",t),n.calendar.dateFormat)}},o.i18n.string=o.i18n.string||{trim:function(e,t){var n=o.i18n.cultures[t||o.i18n.currentLocale].whitespace;return String(e).replace(n,"")},translation:function(e,t){var n=o.i18n.cultures[t||o.i18n.currentLocale].language;return n[e]||""}},o.json.decode=o.json.parse,o.json.stringify=function(){function e(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=i[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}function t(e){var t,n,r,i=["["],a=e.length;for(n=0;a>n;n++)switch(r=e[n],typeof r){case"undefined":case"function":case"unknown":break;default:t&&i.push(","),i.push(o.json.stringify(r)),t=1}return i.push("]"),i.join("")}function n(e){return 10>e?"0"+e:e}function r(e){return'"'+e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())+'"'}var i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(n){switch(typeof n){case"undefined":return"undefined";case"number":return isFinite(n)?String(n):"null";case"string":return e(n);case"boolean":return String(n);default:if(null===n)return"null";if("array"===o.type(n))return t(n);if("date"===o.type(n))return r(n);var i,a,s=["{"],l=o.json.stringify;for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u))switch(a=n[u],typeof a){case"undefined":case"unknown":case"function":break;default:i&&s.push(","),i=1,s.push(l(u)+":"+l(a))}return s.push("}"),s.join("")}}}(),o.json.encode=o.json.stringify,o.lang.Class.prototype.addEventListeners=function(e,t){if("undefined"==typeof t)for(var n in e)this.addEventListener(n,e[n]);else{e=e.split(",");for(var n=0,r=e.length;r>n;n++)this.addEventListener(o.trim(e[n]),t)}},o.lang.createClass=function(e,t){t=t||{};var n=t.superClass||o.lang.Class,r=function(){var o=this;t.decontrolled&&(o.__decontrolled=!0),n.apply(o,arguments);for(i in r.options)o[i]=r.options[i];e.apply(o,arguments);for(var i=0,a=r["r"];a&&i<a.length;i++)a[i].apply(o,arguments)};r.options=t.options||{};var i=function(){},a=e.prototype;i.prototype=n.prototype;var s=r.prototype=new i;for(var l in a)s[l]=a[l];var u=t.className||t.type;return"string"==typeof u&&(s.__type=u),s.constructor=a.constructor,r.extend=function(e){for(var t in e)r.prototype[t]=e[t];return r},r},o.lang.decontrol=function(){var e=o.global("_maps_id");return function(t){delete e[t]}}(),o.lang.eventCenter=o.lang.eventCenter||o.lang.createSingle(),o.lang.getModule=function(e,t){for(var n,r=e.split("."),o=t||window;n=r.shift();){if(null==o[n])return null;o=o[n]}return o},o.lang.isBoolean=o.isBoolean,o.lang.isDate=o.isDate,o.lang.isElement=o.isElement,o.lang.isObject=o.isObject,o.lang.isWindow=function(e){return"Window"==o.type(e)},o.lang.module=function(e,t,n){var r,o=e.split("."),i=o.length-1,a=0;if(!n)try{if(!new RegExp("^[a-zA-Z_$][a-zA-Z0-9_$]*$").test(o[0]))throw"";n=window.eval(o[0]),a=1}catch(s){n=window}for(;i>a;a++)r=o[a],n[r]||(n[r]={}),n=n[r];n[o[i]]||(n[o[i]]=t)},o.lang.register=function(e,t,n){var r=e["r"]||(e["r"]=[]);r[r.length]=t;for(var o in n)e.prototype[o]=n[o]},o.global("_maps_id"),o.number.extend({comma:function(e){var t=this;return(!e||1>e)&&(e=3),t=String(t).split("."),t[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{"+e+"})+$)","ig"),"$1,"),t.join(".")}}),o.number.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},o.object.clone=function(e){var t,n,r=e;if(!e||e instanceof Number||e instanceof String||e instanceof Boolean)return r;if(o.lang.isArray(e)){r=[];var i=0;for(t=0,n=e.length;n>t;t++)r[i++]=o.object.clone(e[t])}else if(o.object.isPlain(e)){r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=o.object.clone(e[t]))}return r},o.object.keys=function(e){var t,n=[],r=0;for(t in e)e.hasOwnProperty(t)&&(n[r++]=t);return n},o.object.map=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n},function(){function e(e,n,r,i,a){n.hasOwnProperty(r)&&(a&&t(e[r])?o.object.merge(e[r],n[r],{overwrite:i,recursive:a}):!i&&r in e||(e[r]=n[r]))}var t=function(e){return o.lang.isObject(e)&&!o.lang.isFunction(e)};o.object.merge=function(t,n,r){var o,i=0,a=r||{},s=a.overwrite,l=a.whiteList,u=a.recursive;if(l&&l.length)for(o=l.length;o>i;++i)e(t,n,l[i],s,u);else for(i in n)e(t,n,i,s,u);return t}}(),o.page.createStyleSheet=function(e){var t,n=e||{},r=n.document||document;if(o.browser.ie)return n.url||(n.url=""),r.createStyleSheet(n.url,n.index);if(t="<style type='text/css'></style>",n.url&&(t="<link type='text/css' rel='stylesheet' href='"+n.url+"'/>"),o.dom.insertHTML(r.getElementsByTagName("HEAD")[0],"beforeEnd",t),n.url)return null;var i=r.styleSheets[r.styleSheets.length-1],a=i.rules||i.cssRules;return{self:i,rules:i.rules||i.cssRules,addRule:function(e,t,n){return i.addRule?i.addRule(e,t,n):i.insertRule?(isNaN(n)&&(n=a.length),i.insertRule(e+"{"+t+"}",n)):void 0},removeRule:function(e){i.removeRule?i.removeRule(e):i.deleteRule&&(isNaN(e)&&(e=0),i.deleteRule(e))}}},o.page.getHeight=function(){var e=document,t=e.body,n=e.documentElement,r="BackCompat"==e.compatMode?t:e.documentElement;return Math.max(n.scrollHeight,t.scrollHeight,r.clientHeight)},o.page.getViewHeight=function(){var e=document,t="BackCompat"==e.compatMode?e.body:e.documentElement;return t.clientHeight},o.page.getViewWidth=function(){var e=document,t="BackCompat"==e.compatMode?e.body:e.documentElement;return t.clientWidth},o.page.getWidth=function(){var e=document,t=e.body,n=e.documentElement,r="BackCompat"==e.compatMode?t:e.documentElement;return Math.max(n.scrollWidth,t.scrollWidth,r.clientWidth)},o.page.lazyLoadImage=function(e){e=e||{},e.preloadHeight=e.preloadHeight||0,o.dom.ready(function(){function t(){return o.page.getScrollTop()+o.page.getViewHeight()+e.preloadHeight}var n,r=document.getElementsByTagName("IMG"),i=r,a=r.length,s=0,l=t(),u="data-tangram-ori-src";if(e.className)for(i=[];a>s;++s)o.dom.hasClass(r[s],e.className)&&i.push(r[s]);for(s=0,a=i.length;a>s;++s)n=i[s],o.dom.getPosition(n).top>l&&(n.setAttribute(u,n.src),e.placeHolder?n.src=e.placeHolder:n.removeAttribute("src"));var c=function(){for(var r,a=t(),s=!0,l=0,d=i.length;d>l;++l)n=i[l],r=n.getAttribute(u),r&&(s=!1),o.dom.getPosition(n).top<a&&r&&(n.src=r,n.removeAttribute(u),o.lang.isFunction(e.onlazyload)&&e.onlazyload(n));s&&o.dom(window).off("scroll",c)};o.dom(window).on("scroll",c)})},o.page.load=function(e,t,n){function r(){for(var n=0,r=e.length;r>n;++n)if(!l[e[n].url])return void setTimeout(arguments.callee,10);t.onload()}function i(e,t){var n,r,i;switch(e.type.toLowerCase()){case"css":n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css");break;case"js":n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("charset",e.charset||s.charset);break;case"html":n=document.createElement("iframe"),n.frameBorder="none";break;default:return}var a=o.dom(n);i=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,a.off("load",i),a.off("readystatechange",i),t.call(window,n))},a.on("load",i),a.on("readystatechange",i),"css"==e.type&&!function(){if(!r){try{n.sheet.cssRule}catch(e){return void setTimeout(arguments.callee,20)}r=!0,t.call(window,n)}}(),n.href=n.src=e.url,document.getElementsByTagName("head")[0].appendChild(n)}function a(d){var f,p=d.url,h=!!c,g=function(i){l[d.url]=i,delete u[d.url],o.lang.isFunction(d.onload)&&!1===d.onload.call(window,i)||(!c&&s(e.slice(1),t,!0),!n&&o.lang.isFunction(t.onload)&&r())};return d.type=d.type||p.replace(/^[^\?#]+\.(css|js|html)(\?|#| |$)[^\?#]*/i,"$1"),d.requestType=d.requestType||("html"==d.type?"ajax":"dom"),(f=l[d.url])?(g(f),h):!t.refresh&&u[d.url]?(setTimeout(function(){a(d)},10),h):(u[d.url]=!0,"dom"==d.requestType.toLowerCase()?i(d,g):o.ajax.get(d.url,function(e,t){g(t)}),h)}t=t||{};var s=o.page.load,l=s._cache=s._cache||{},u=s._loadingCache=s._loadingCache||{},c=t.parallel;o.lang.isString(e)&&(e=[{url:e}]),e&&e.length&&o.forEach(e,a)},o.page.load.charset="UTF8",o.page.loadCssFile=function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},o.page.loadJsFile=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.setAttribute("defer","defer"),document.getElementsByTagName("head")[0].appendChild(t)},o.param=function(e){e=e||arguments.callee.caller.arguments;for(var t="",n=e.length,r=0;n>r;r++)t+=","+o.type(e[r]);return t?t.substr(1):""},o.platform=o.platform||function(){var e=navigator.userAgent,t=function(){};return o.forEach("Android iPad iPhone Linux Macintosh Windows X11".split(" "),function(n){var r=n.charAt(0).toUpperCase()+n.toLowerCase().substr(1);o["is"+r]=t["is"+r]=e.indexOf(n)>-1}),t}(),o.post=o.post||o._util_.smartAjax("post"),o.regexp=o.regexp||{},o.regexp.compile=function(e){return function(t,n){var r,o=t+"$$"+n;return!(r=e[o])&&(r=e[o]=new RegExp(t,n)),r.lastIndex>0&&(r.lastIndex=0),r}}(o.global("_maps_RegExp")),o.createChain("sio",function(e){switch(typeof e){case"string":return new o.sio.$Sio(e)}},function(e){this.url=e}),o.sio._createScriptTag=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},o.sio._removeScriptTag=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},o.sio.extend({callByBrowser:function(e,t){var n,r=this.url,i=document.createElement("SCRIPT"),a=0,s=t||{},l=s.charset,u=e||function(){},c=s.timeOut||0;i.onload=i.onreadystatechange=function(){if(!a){var e=i.readyState;if("undefined"==typeof e||"loaded"==e||"complete"==e){a=1;try{u(),clearTimeout(n)}finally{i.onload=i.onreadystatechange=null,o.sio._removeScriptTag(i)}}}},c&&(n=setTimeout(function(){i.onload=i.onreadystatechange=null,o.sio._removeScriptTag(i),s.onfailure&&s.onfailure()},c)),o.sio._createScriptTag(i,r,l)}}),o.sio.extend({callByServer:function(e,t){function n(t){return function(){try{t?c.onfailure&&c.onfailure():(e.apply(window,arguments),clearTimeout(i)),window[r]=null,delete window[r]}catch(n){}finally{o.sio._removeScriptTag(l)}}}var r,i,a,s=this.url,l=document.createElement("SCRIPT"),u="bd__cbs__",c=t||{},d=c.charset,f=c.queryField||"callback",p=c.timeOut||0,h=new RegExp("(\\?|&)"+f+"=([^&]*)");o.lang.isFunction(e)?(r=u+Math.floor(2147483648*Math.random()).toString(36),window[r]=n(0)):o.lang.isString(e)?r=e:(a=h.exec(s))&&(r=a[2]),p&&(i=setTimeout(n(1),p)),s=s.replace(h,"$1"+f+"="+r),s.search(h)<0&&(s+=(s.indexOf("?")<0?"?":"&")+f+"="+r),o.sio._createScriptTag(l,s,d)}}),o.sio.extend({log:function(){url=this.url;var e=new Image,t="tangram_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[t]=e,e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,window[t]=null,e=null},e.src=url}}),function(e,t){function n(e,t,n,r){var o,i,l,u,c=s++,d=0,f=t.length;for("string"!=typeof n||g.test(n)||(n=n.toLowerCase(),u=n);f>d;d++)if(o=t[d]){for(i=!1,o=o[e];o;){if(o[a]===c){i=t[o.sizset];break}if(l=1===o.nodeType,l&&!r&&(o[a]=c,o.sizset=d),u){if(o.nodeName.toLowerCase()===n){i=o;break}}else if(l)if("string"!=typeof n){if(o===n){i=!0;break}}else if(O.filter(n,[o]).length>0){i=o;break}o=o[e]}t[d]=i}}o.query=function(e,t,n){return o.merge(n||[],o.sizzle(e,t))};var r=e.document,i=r.documentElement,a="sizcache"+(Math.random()+"").replace(".",""),s=0,l=Object.prototype.toString,u="undefined",c=!1,d=!0,f=/^#([\w\-]+$)|^(\w+$)|^\.([\w\-]+$)/,p=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=/\\/g,g=/\W/,m=/^\w/,v=/\D/,y=/(-?)(\d*)(?:n([+\-]?\d*))?/,b=/^\+|\s*/g,x=/h\d/i,w=/input|select|textarea|button/i,E=/[\t\n\f\r]/g,_="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",T={ID:new RegExp("#("+_+"+)"),CLASS:new RegExp("\\.("+_+"+)"),NAME:new RegExp("\\[name=['\"]*("+_+"+)['\"]*\\]"),TAG:new RegExp("^("+_.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("\\[\\s*("+_+"+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?"+_+"*)|)|)\\s*\\]"),PSEUDO:new RegExp(":("+_+"+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?"),CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/},C=T.POS,S=function(){var e,t=function(e,t){return"\\"+(t-0+1)},n={};for(e in T)T[e]=new RegExp(T[e].source+/(?![^\[]*\])(?![^\(]*\))/.source),n[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+T[e].source.replace(/\\(\d+)/g,t));return T.globalPOS=C,n}(),M=function(e){var t=!1,n=r.createElement("div");try{t=e(n)}catch(o){}return n=null,t},L=M(function(e){var t=!0,n="script"+(new Date).getTime();return e.innerHTML="<a name ='"+n+"'/>",i.insertBefore(e,i.firstChild),r.getElementById(n)&&(t=!1),i.removeChild(e),t}),N=M(function(e){return e.appendChild(r.createComment("")),0===e.getElementsByTagName("*").length}),A=M(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==u&&"#"===e.firstChild.getAttribute("href")}),k=M(function(e){return e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length?(e.lastChild.className="e",1!==e.getElementsByClassName("e").length):!1});[0,0].sort(function(){return d=!1,0});var O=function(e,n,o){o=o||[],n=n||r;var i,a,s,l=n.nodeType;if(1!==l&&9!==l)return[];if(!e||"string"!=typeof e)return o;if(s=I(n),!s&&(i=f.exec(e)))if(i[1]){if(9===l){if(a=n.getElementById(i[1]),!a||!a.parentNode)return D([],o);if(a.id===i[1])return D([a],o)}else if(n.ownerDocument&&(a=n.ownerDocument.getElementById(i[1]))&&F(n,a)&&a.id===i[1])return D([a],o)}else{if(i[2])return"body"===e&&n.body?D([n.body],o):D(n.getElementsByTagName(e),o);if(k&&i[3]&&n.getElementsByClassName)return D(n.getElementsByClassName(i[3]),o)}return H(e,n,o,t,s)},H=function(e,t,n,r,o){var i,a,s,u,c,d,f,h,g=t,m=!0,v=[],y=e;do if(p.exec(""),i=p.exec(y),i&&(y=i[3],v.push(i[1]),i[2])){u=i[3];break}while(i);if(v.length>1&&C.exec(e))if(2===v.length&&P.relative[v[0]])a=R(v[0]+v[1],t,r,o);else for(a=P.relative[v[0]]?[t]:O(v.shift(),t);v.length;)e=v.shift(),P.relative[e]&&(e+=v.shift()),a=R(e,a,r,o);else if(!r&&v.length>1&&9===t.nodeType&&!o&&T.ID.test(v[0])&&!T.ID.test(v[v.length-1])&&(c=O.find(v.shift(),t,o),t=c.expr?O.filter(c.expr,c.set)[0]:c.set[0]),t)for(c=r?{expr:v.pop(),set:D(r)}:O.find(v.pop(),v.length>=1&&("~"===v[0]||"+"===v[0])&&t.parentNode||t,o),a=c.expr?O.filter(c.expr,c.set):c.set,v.length>0?s=D(a):m=!1;v.length;)d=v.pop(),f=d,P.relative[d]?f=v.pop():d="",null==f&&(f=t),P.relative[d](s,f,o);else s=v=[];if(s||(s=a),s||O.error(d||e),"[object Array]"===l.call(s))if(m)if(t&&1===t.nodeType)for(h=0;null!=s[h];h++)s[h]&&(s[h]===!0||1===s[h].nodeType&&F(t,s[h]))&&n.push(a[h]);else for(h=0;null!=s[h];h++)s[h]&&1===s[h].nodeType&&n.push(a[h]);else n.push.apply(n,s);else D(s,n);return u&&(H(u,g,n,r,o),j(n)),n},I=O.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},D=function(e,t){t=t||[];var n=0,r=e.length;if("number"==typeof r)for(;r>n;n++)t.push(e[n]);else for(;e[n];n++)t.push(e[n]);return t},j=O.uniqueSort=function(e){if(z&&(c=d,e.sort(z),c))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},F=O.contains=i.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:i.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!1)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;
return!1};O.matches=function(e,t){return H(e,r,[],t,I(r))},O.matchesSelector=function(e,t){return H(t,r,[],[e],I(r)).length>0},O.find=function(e,t,n){var r,o,i,a,s,l;if(!e)return[];for(o=0,i=P.order.length;i>o;o++)if(s=P.order[o],(a=S[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(h,""),r=P.find[s](a,t,n),null!=r))){e=e.replace(T[s],"");break}return r||(r=typeof t.getElementsByTagName!==u?t.getElementsByTagName("*"):[]),{set:r,expr:e}},O.filter=function(e,n,r,o){for(var i,a,s,l,u,c,d,f,p,h=e,g=[],m=n,v=n&&n[0]&&I(n[0]);e&&n.length;){for(s in P.filter)if(null!=(i=S[s].exec(e))&&i[2]){if(c=P.filter[s],d=i[1],a=!1,i.splice(1,1),"\\"===d.substr(d.length-1))continue;if(m===g&&(g=[]),P.preFilter[s])if(i=P.preFilter[s](i,m,r,g,o,v)){if(i===!0)continue}else a=l=!0;if(i)for(f=0;null!=(u=m[f]);f++)u&&(l=c(u,i,f,m),p=o^l,r&&null!=l?p?a=!0:m[f]=!1:p&&(g.push(u),a=!0));if(l!==t){if(r||(m=g),e=e.replace(T[s],""),!a)return[];break}}if(e===h){if(null!=a)break;O.error(e)}h=e}return m},O.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var B=O.getText=function(e){var t,n,r=e.nodeType,o="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=B(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=B(n));return o},P=O.selectors={match:T,leftMatch:S,order:["ID","NAME","TAG"],attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:A?function(e){return e.getAttribute("href")}:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!g.test(t),o=n&&!r;r&&(t=t.toLowerCase());for(var i,a=0,s=e.length;s>a;a++)if(i=e[a]){for(;(i=i.previousSibling)&&1!==i.nodeType;);e[a]=o||i&&i.nodeName.toLowerCase()===t?i||!1:i===t}o&&O.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,o=0,i=e.length;if(r&&!g.test(t)){for(t=t.toLowerCase();i>o;o++)if(n=e[o]){var a=n.parentNode;e[o]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;i>o;o++)n=e[o],n&&(e[o]=r?n.parentNode:n.parentNode===t);r&&O.filter(t,e,!0)}},"":function(e,t,r){n("parentNode",e,t,r)},"~":function(e,t,r){n("previousSibling",e,t,r)}},find:{ID:L?function(e,t,n){if(typeof t.getElementById!==u&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==u&&!r){var o=n.getElementById(e[1]);return o?o.id===e[1]||typeof o.getAttributeNode!==u&&o.getAttributeNode("id").nodeValue===e[1]?[o]:t:[]}},NAME:function(e,t){if(typeof t.getElementsByName!==u){for(var n=[],r=t.getElementsByName(e[1]),o=0,i=r.length;i>o;o++)r[o].getAttribute("name")===e[1]&&n.push(r[o]);return 0===n.length?null:n}},TAG:N?function(e,t){return typeof t.getElementsByTagName!==u?t.getElementsByTagName(e[1]):void 0}:function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],o=0;n[o];o++)1===n[o].nodeType&&r.push(n[o]);n=r}return n}},preFilter:{CLASS:function(e,t,n,r,o,i){if(e=" "+e[1].replace(h,"")+" ",i)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(o^(a.className&&(" "+a.className+" ").replace(E," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(h,"")},TAG:function(e){return e[1].replace(h,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||O.error(e[0]),e[2]=e[2].replace(b,"");var t=y.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!v.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&O.error(e[0]);return e[0]=s++,e},ATTR:function(e,t,n,r,o,i){var a=e[1]=e[1].replace(h,"");return!i&&P.attrMap[a]&&(e[1]=P.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(h,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,o,i,a){if("not"===e[1]){if(!((p.exec(e[3])||"").length>1||m.test(e[3]))){var s=O.filter(e[3],t,n,!i);return n||o.push.apply(o,s),!1}e[3]=H(e[3],r,[],t,a)}else if(T.POS.test(e[0])||T.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!O(n[3],e).length},header:function(e){return x.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(null===t||t.toLowerCase()===n)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return w.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},contains:function(e,t,n){return(e.textContent||e.innerText||B(e)).indexOf(n[3])>=0}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var o=t[1],i=P.filters[o];if(i)return i(e,n,t,r);if("not"===o){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}O.error(o)},CHILD:function(e,t){var n,r,o,i,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(o=t[0],i=e.parentNode,i&&(i[a]!==o||!e.nodeIndex)){for(s=0,c=i.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);i[a]=o}return l=e.nodeIndex-r,0===n?0===l:l%n===0&&l/n>=0}},ID:L?function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t}:function(e,t){var n=typeof e.getAttributeNode!==u&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=O.attr?O.attr(e,n):P.attrHandle[n]?P.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=r+"",i=t[2],a=t[4];return null==r?"!="===i:!i&&O.attr?null!=r:"="===i?o===a:"*="===i?o.indexOf(a)>=0:"~="===i?(" "+o+" ").indexOf(a)>=0:a?"!="===i?o!==a:"^="===i?0===o.indexOf(a):"$="===i?o.substr(o.length-a.length)===a:"|="===i?o===a||o.substr(0,a.length+1)===a+"-":!1:o&&r!==!1},POS:function(e,t,n,r){var o=t[2],i=P.setFilters[o];return i?i(e,n,t,r):void 0}}};k&&(P.order.splice(1,0,"CLASS"),P.find.CLASS=function(e,t,n){return typeof t.getElementsByClassName===u||n?void 0:t.getElementsByClassName(e[1])});var z,W;i.compareDocumentPosition?z=function(e,t){return e===t?(c=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(z=function(e,t){if(e===t)return c=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,o=[],i=[],a=e.parentNode,s=t.parentNode,l=a;if(a===s)return W(e,t);if(!a)return-1;if(!s)return 1;for(;l;)o.unshift(l),l=l.parentNode;for(l=s;l;)i.unshift(l),l=l.parentNode;n=o.length,r=i.length;for(var u=0;n>u&&r>u;u++)if(o[u]!==i[u])return W(o[u],i[u]);return u===n?W(e,i[u],-1):W(o[u],t,1)},W=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),r.querySelectorAll&&!function(){var e=H,t="__sizzle__",n=/^\s*[+~]/,r=/'/g,o=[];M(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||o.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),M(function(e){e.innerHTML="<p class=''></p>",e.querySelectorAll("[class^='']").length&&o.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=o.length&&new RegExp(o.join("|")),H=function(i,a,s,l,u){if(!(l||u||o&&o.test(i)))if(9===a.nodeType)try{return D(a.querySelectorAll(i),s)}catch(c){}else if(1===a.nodeType&&"object"!==a.nodeName.toLowerCase()){var d=a,f=a.getAttribute("id"),p=f||t,h=a.parentNode,g=n.test(i);f?p=p.replace(r,"\\$&"):a.setAttribute("id",p),g&&h&&(a=h);try{if(!g||h)return D(a.querySelectorAll("[id='"+p+"'] "+i),s)}catch(c){}finally{f||d.removeAttribute("id")}}return e(i,a,s,l,u)}}();var R=function(e,t,n,r){for(var o,i=[],a="",s=t.nodeType?[t]:t,l=0,u=s.length;o=T.PSEUDO.exec(e);)a+=o[0],e=e.replace(T.PSEUDO,"");for(P.relative[e]&&(e+="*");u>l;l++)H(e,s[l],i,n,r);return O.filter(a,i)};e.Sizzle=o.sizzle=O}(window),o.string.extend({decodeHTML:function(){var e=this.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return e.replace(/&#([\d]+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})}}),o.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),o.string.filterFormat=function(e,t){var n=Array.prototype.slice.call(arguments,1),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(r.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){var i,a,s,l,u;if(!n)return"";for(i=t.split("|"),a=n[i[0]],"[object Function]"==r.call(a)&&(a=a(i[0])),s=1,l=i.length;l>s;++s)u=o.string.filterFormat[i[s]],"[object Function]"==r.call(u)&&(a=u(a));return"undefined"==typeof a||null===a?"":a})):e},o.string.filterFormat.escapeJs=function(e){if(!e||"string"!=typeof e)return e;var t,n,r,o=[];for(t=0,n=e.length;n>t;++t)r=e.charCodeAt(t),o.push(r>255?e.charAt(t):"\\x"+r.toString(16));return o.join("")},o.string.filterFormat.js=o.string.filterFormat.escapeJs,o.string.filterFormat.escapeString=function(e){return e&&"string"==typeof e?e.replace(/["'<>\\\/`]/g,function(e){return"&#"+e.charCodeAt(0)+";"}):e},o.string.filterFormat.e=o.string.filterFormat.escapeString,o.string.filterFormat.toInt=function(e){return parseInt(e,10)||0},o.string.filterFormat.i=o.string.filterFormat.toInt,o.string.extend({format:function(e){var t=this.valueOf(),n=Array.prototype.slice.call(arguments,0),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(r.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(e,t){var o=n[t];return"[object Function]"==r.call(o)&&(o=o(t)),"undefined"==typeof o?"":o})):t}}),o.string.extend({getByteLength:function(){return this.replace(/[^\x00-\xff]/g,"ci").length}}),o.string.extend({stripTags:function(){return(this||"").replace(/<[^>]+>/g,"")}}),o.string.extend({subByte:function(e,t){o.check("^(?:number(?:,(?:string|number))?)$","baidu.string.subByte");var n=this.valueOf();return t=t||"",0>e||o.string(n).getByteLength()<=e?n+t:(n=n.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"),n+t)}}),o.string.extend({toHalfWidth:function(){return this.replace(/[\uFF01-\uFF5E]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}).replace(/\u3000/g," ")}}),o.string.extend({wbr:function(){return this.replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")}}),o.swf=o.swf||{},o.swf.version=function(){var e=navigator;if(e.plugins&&e.mimeTypes.length){var t=e.plugins["Shockwave Flash"];if(t&&t.description)return t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}else if(window.ActiveXObject&&!window.opera)for(var n=12;n>=2;n--)try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(r){var o=r.GetVariable("$version");return o.replace(/WIN/g,"").replace(/,/g,".")}}catch(i){}}(),o.swf.createHTML=function(e){e=e||{};var t,n,r,i,a,s,l=o.swf.version,u=e.ver||"6.0.0",c={},d=o.string.encodeHTML;for(i in e)c[i]=e[i];if(e=c,!l)return"";for(l=l.split("."),u=u.split("."),r=0;3>r&&(t=parseInt(l[r],10),n=parseInt(u[r],10),!(t>n));r++)if(n>t)return"";var f=e.vars,p=["classid","codebase","id","width","height","align"];if(e.align=e.align||"middle",e.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",e.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",e.movie=e.url||"",delete e.vars,delete e.url,"string"==typeof f)e.flashvars=f;else{var h=[];for(i in f)s=f[i],h.push(i+"="+encodeURIComponent(s));e.flashvars=h.join("&")}var g=["<object "];for(r=0,a=p.length;a>r;r++)s=p[r],g.push(" ",s,'="',d(e[s]),'"');g.push(">");var m={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(i in e)s=e[i],i=i.toLowerCase(),m[i]&&(s||s===!1||0===s)&&g.push('<param name="'+i+'" value="'+d(s)+'" />');e.src=e.movie,e.name=e.id,delete e.id,delete e.movie,delete e.classid,delete e.codebase,e.type="application/x-shockwave-flash",e.pluginspage="http://www.macromedia.com/go/getflashplayer",g.push("<embed");var v;for(i in e)if(s=e[i],s||s===!1||0===s){if(new RegExp("^salign$","i").test(i)){v=s;continue}g.push(" ",i,'="',d(s),'"')}return v&&g.push(' salign="',d(v),'"'),g.push("></embed></object>"),g.join("")},o.swf.create=function(e,t){e=e||{};var n=o.swf.createHTML(e)||e.errorMessage||"";t&&"string"==typeof t&&(t=document.getElementById(t)),o.dom.insertHTML(t||document.body,"beforeEnd",n)},o.swf.getMovie=function(e){var t,n=document[e];return 9==o.browser.ie?n&&n.length?1==(t=o.array.remove(o.lang.toArray(n),function(e){return"embed"!=e.tagName.toLowerCase()})).length?t[0]:t:n:n||window[e]},o.swf.Proxy=function(e,t,n){var r,i=this,a=this._flash=o.swf.getMovie(e);return t?void(r=setInterval(function(){try{a[t]&&(i._initialized=!0,clearInterval(r),n&&n())}catch(e){}},100)):this},o.swf.Proxy.prototype.getFlash=function(){return this._flash},o.swf.Proxy.prototype.isReady=function(){return!!this._initialized},o.swf.Proxy.prototype.call=function(e){try{var t=this.getFlash(),n=Array.prototype.slice.call(arguments);n.shift(),t[e]&&t[e].apply(t,n)}catch(r){}},o.url.getQueryValue=function(e,t){var n=new RegExp("(^|&|\\?|#)"+o.string.escapeReg(t)+"=([^&#]*)(&|$|#)",""),r=e.match(n);return r?r[2]:null},o.url.jsonToQuery=function(e,t){var n,r=[],i=t||function(e){return o.url.escapeSymbol(e)};return o.object.each(e,function(e,t){if(o.lang.isArray(e))for(n=e.length;n--;)r.push(t+"="+i(e[n],t));else r.push(t+"="+i(e,t))}),r.join("&")},o.url.queryToJson=function(e){for(var t,n,r,i=e.substr(e.lastIndexOf("?")+1).split("&"),a=i.length,s=null,l=0;a>l;l++)t=i[l].split("="),t.length<2||(!s&&(s={}),n=t[0],r=t[1],t=s[n],t?o.lang.isArray(t)?t.push(r):s[n]=[t,r]:s[n]=r);return s},function(){function e(e){var t;for(t in e)if(("data"!==t||!o.object.isEmpty(e[t]))&&"toJSON"!==t)return!1;return!0}var t=/^-ms-/,n=/-([\da-z])/gi,r=function(e,t){return(t+"").toUpperCase()};o.extend(o._util_,{camelCase:function(e){return e.replace(t,"ms-").replace(n,r)}}),o.extend(o._util_,{cache:{},deletedIds:[],uuid:0,expando:"baidu"+("2.0.0"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?o._util_.cache[t[o._util_.expando]]:t[o._util_.expando],!!t&&!e(t)},data:function(e,t,n,r){if(o._util_.acceptData(e)){var i,a,s=o._util_.expando,l="string"==typeof t,u=e.nodeType,c=u?o._util_.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||!l||void 0!==n)return d||(u?e[s]=d=o._util_.deletedIds.pop()||++o._util_.uuid:d=s),c[d]||(c[d]={},u||(c[d].toJSON=function(){})),("object"==typeof t||"function"==typeof t)&&(r?c[d]=o.extend(c[d],t):c[d].data=o.extend(c[d].data,t)),i=c[d],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[o._util_.camelCase(t)]=n),l?(a=i[t],null==a&&(a=i[o._util_.camelCase(t)])):a=i,a}},removeData:function(t,n,r){if(o._util_.acceptData(t)){var i,a,s,l=t.nodeType,u=l?o._util_.cache:t,c=l?t[o._util_.expando]:o._util_.expando;if(u[c]){if(n&&(i=r?u[c]:u[c].data)){o.isArray(n)||(n in i?n=[n]:(n=o._util_.camelCase(n),n=n in i?[n]:n.split(" ")));for(a=0,s=n.length;s>a;a++)delete i[n[a]];if(!(r?e:o.object.isEmpty)(i))return}(r||(delete u[c].data,e(u[c])))&&(l?o._util_.cleanData([t],!0):o.support.deleteExpando||u!=u.window?delete u[c]:u[c]=null)}}},_data:function(e,t,n){return o._util_.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&o._util_.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}})}(),n.exports=o,o.array=o.array||{},o.dom=o.dom||{},o.addClass=o.dom.addClass||{},o.g=o.G=o.dom.g||{},o.getAttr=o.dom.getAttr||{},o.getStyle=o.dom.getStyle||{},o.hide=o.dom.hide||{},o.insertHTML=o.dom.insertHTML||{},o.q=o.Q=o.dom.q||{},o.removeClass=o.dom.removeClass||{},o.setAttr=o.dom.setAttr||{},o.setAttrs=o.dom.setAttrs||{},o.dom.setOuterHeight=o.dom.setBorderBoxHeight||{},o.dom.setOuterWidth=o.dom.setBorderBoxWidth||{},o.setStyle=o.dom.setStyle||{},o.setStyles=o.dom.setStyles||{},o.show=o.dom.show||{},o.e=o.element=o.element||{},o.event=o.event||{},o.on=o.event.on||{},o.un=o.event.un||{},o.lang=o.lang||{},o.inherits=o.lang.inherits||{},o.object=o.object||{},o.string=o.string||{},o.decodeHTML=o.string.decodeHTML||{},o.encodeHTML=o.string.encodeHTML||{},o.format=o.string.format||{},o.trim=o.string.trim||{},o.more=o.more||{},o.more.ns=function(e){for(var t=e.split("."),n=window,r=0,o=t.length;o>r;r++){var i=t[r];""!=i&&(n[i]=n[i]||{},n=n[i])}},o.dom.fixable=function(e,t){function n(){return{top:"top"==h?d.y:o.page.getViewHeight()-d.y-c.height,left:"left"==g?d.x:o.page.getViewWidth()-d.x-c.width}}function r(){var e=n();f.style.setExpression("left","eval((document.body.scrollLeft || document.documentElement.scrollLeft) + "+e.left+") + 'px'"),f.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+e.top+") + 'px'")}function i(){var e={position:o.getStyle(f,"position"),height:function(){var e=o.getStyle(f,"height");return"auto"!=e?/\d+/.exec(e)[0]:f.offsetHeight}(),width:function(){var e=o.getStyle(f,"width");return"auto"!=e?/\d+/.exec(e)[0]:f.offsetWidth}()};return a("top",e),a("left",e),a("bottom",e),a("right",e),e}function a(e,t){var n;"static"==t.position?t[e]="":(n=o.getStyle(f,e),t[e]="auto"==n||"0px"==n?"":n)}function s(){if(!v){if(o.setStyles(f,{top:"",left:"",bottom:"",right:""}),p)o.setStyle(f,"position","absolute"),r();else{var e={position:"fixed"};e["top"==h?"top":"bottom"]=d.y+"px",e["left"==g?"left":"right"]=d.x+"px",o.setStyles(f,e)}y(),v=!0}}function l(){if(v){var e={position:c.position,left:""==c.left?"auto":c.left,top:""==c.top?"auto":c.top,bottom:""==c.bottom?"auto":c.bottom,right:""==c.right?"auto":c.right};p&&(f.style.removeExpression("left"),f.style.removeExpression("top")),o.setStyles(f,e),x(),v=!1}}function u(e){e&&(y=e.onrender||y,b=e.onupdate||b,x=e.onrelease||x,h=e.vertival||"top",g=e.horizontal||"left",o.extend(d,e.offset||{}),b())}var c,d,f=o.g(e),p=o.browser.ie&&o.browser.ie<=7?!0:!1,h=t.vertival||"top",g=t.horizontal||"left",m="undefined"!=typeof t.autofix?t.autofix:!0,v=!1,y=t.onrender||new Function,b=t.onupdate||new Function,x=t.onrelease||new Function;if(f)return c=i(),d={y:p?"static"==c.position?o.dom.getPosition(f).top:o.dom.getPosition(f).top-o.dom.getPosition(f.parentNode).top:f.offsetTop,x:p?"static"==c.position?o.dom.getPosition(f).left:o.dom.getPosition(f).left-o.dom.getPosition(f.parentNode).left:f.offsetLeft},o.extend(d,t.offset||{}),m&&s(),{render:s,update:u,release:l}},o.ui=o.ui||{},o.ui.create=function(e,t){var n=t.parent,r=t.element,o=t.autoRender;t.autoRender=t.parent=t.element=null;var i=new e(t);return n&&i.setParent&&i.setParent(n),o&&i.render&&i.render(r),i},o.ui.Base={id:"",getId:function(e){var t,n=this;return t="tangram-"+n.uiType+"--"+(n.id?n.id:n.guid),e?t+"-"+e:t},getClass:function(e){var t=this,n=t.classPrefix,r=t.skin;return e&&(n+="-"+e,r+="-"+e),t.skin&&(n+=" "+r),n},getMain:function(){return o.g(this.mainId)},getBody:function(){return o.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(e){for(var t=0,n=Array.prototype.slice.call(arguments,1),r=n.length;r>t;t++)"string"==typeof n[t]&&(n[t]="'"+n[t]+"'");return this.getCallRef()+"."+e+"("+n.join(",")+");"},renderMain:function(e){var t=this;if(!t.getMain())return e=o.g(e),e||(e=document.createElement("div"),document.body.appendChild(e),e.style.position="absolute",e.className=t.getClass("main")),e.id||(e.id=t.getId("main")),t.mainId=e.id,e.setAttribute("data-guid",t.guid),e},dispose:function(){this.dispatchEvent("dispose"),o.lang.Class.prototype.dispose.call(this)}},o.ui.createUI=function(e,t){t=t||{};var n,r,i=t.superClass||o.lang.Class,a=i==o.lang.Class?1:0,s=function(t){var l=this;t=t||{},i.call(l,a?t.guid||"":t),o.object.extend(l,s.options),o.object.extend(l,t),l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(n in o.ui.behavior)"undefined"!=typeof l[n]&&l[n]&&(o.object.extend(l,o.ui.behavior[n]),o.lang.isFunction(l[n])?l.addEventListener("onload",function(){o.ui.behavior[n].call(l[n].apply(l))}):o.ui.behavior[n].call(l));for(e.apply(l,arguments),n=0,r=s._addons.length;r>n;n++)s._addons[n](l)},l=function(){};l.prototype=i.prototype;var u=s.prototype=new l;for(n in o.ui.Base)u[n]=o.ui.Base[n];return s.extend=function(e){for(n in e)s.prototype[n]=e[n];var t=e.uiType,r=t?o.ui[t]:"";return r&&(r.create=function(e){return o.ui.create(r[t.charAt(0).toUpperCase()+t.slice(1)],e)}),s},s._addons=[],s.register=function(e){"function"==typeof e&&s._addons.push(e)},s.options={},s},o.ui.get=function(e){var t;if(o.lang.isString(e))return o.lang.instance(e);do{if(!e||9==e.nodeType)return null;if(t=o.dom.getAttr(e,"data-guid"))return o.lang.instance(t)}while((e=e.parentNode)!=document.body)},o.ui.Base.getParent=function(){return this._parent||null},o.ui.Base.setParent=function(e){var t=this,n=t._parent;n&&n.dispatchEvent("removechild"),e.dispatchEvent("appendchild",{child:t})&&(t._parent=e)},o.ui.behavior=o.ui.behavior||{},function(){function e(e){return e.x=e[0]||e.x||e.left||0,e.y=e[1]||e.y||e.top||0,e}var t=o.ui.behavior.posable=function(){};t.setPosition=function(e,t,n){t=o.g(t)||this.getMain(),n=n||{};var r=this,i=[t,e,n];r.__execPosFn(t,"_positionByCoordinate",n.once,i)},t._positionByCoordinate=function(t,n,r,i){n=n||[0,0],r=r||{};var a=this,s={},l=o.page.getViewHeight(),u=o.page.getViewWidth(),c=t.offsetWidth,d=t.offsetHeight,f=t.offsetParent,p=f&&f!=document.body?o.dom.getPosition(f):{left:0,top:0};switch(r.position=r.position?r.position.toLowerCase():"bottomright",n=e(n||[0,0]),r.offset=e(r.offset||[0,0]),s.left=n.x+r.offset.x-p.left-(r.position.indexOf("left")>=0?c:0),s.top=n.y+r.offset.y-p.top-(r.position.indexOf("top")>=0?d:0),r.insideScreen){case"surround":s.left=n.x-p.left-(r.position.indexOf("left")>=0?n.x-o.page.getScrollLeft()>c?c:0:u-n.x+o.page.getScrollLeft()>c?0:c),s.top=n.y-p.top-(r.position.indexOf("top")>=0?n.y-o.page.getScrollTop()>d?d:0:l-n.y+o.page.getScrollTop()>d?0:d);break;case"fix":s.left=Math.max(0-parseFloat(o.dom.getStyle(t,"marginLeft"))||0,Math.min(s.left,o.page.getViewWidth()-c-p.left)),s.top=Math.max(0-parseFloat(o.dom.getStyle(t,"marginTop"))||0,Math.min(s.top,o.page.getViewHeight()-d-p.top))}o.dom.setPosition(t,s),i||l==o.page.getViewHeight()&&u==o.page.getViewWidth()||a._positionByCoordinate(t,n,{},!0),i||a.dispatchEvent("onpositionupdate")},t.__execPosFn=function(e,t,n,r){var i=this;"undefined"!=typeof n&&n?i[t].apply(i,r):o.event.on(o.dom.getWindow(e),"resize",o.fn.bind.apply(i,[t,i].concat([].slice.call(r))))}}(),o.ui.smartPosition=o.ui.smartPosition||{},o.ui.smartPosition.setBorderBoxStyles=function(e,t){for(var n=["marginTop","marginLeft","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom"],r={},i=n.length-1;i>=0;i--)r[n[i]]=parseFloat(o.getStyle(e,n[i]))||0;return t.top&&(t.top-=r.marginTop),t.left&&(t.left-=r.marginLeft),"BackCompat"!=document.compatMode&&(t.width&&(t.width-=r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth),t.height&&(t.height-=r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth)),o.dom.setStyles(e,t)},o.ui.smartPosition.SmartPosition=o.ui.createUI(function(){var e=this;this.once||o.event.on(o.dom.getWindow(e.source),"resize",function(){e.update()})}).extend({position:"bottomright",insideScreen:"default",offset:[0,0],update:function(e,t){var n=this,r={},i=n.source,a=o.page.getViewHeight(),s=o.page.getViewWidth(),l=o.page.getScrollLeft(),u=o.page.getScrollTop(),c=i.offsetWidth,d=i.offsetHeight,f=i.offsetParent,p=f&&f!=document.body?o.dom.getPosition(f):{left:0,top:0};switch(o.object.extend(this,e||{}),n.position=n.position.toLowerCase(),n.coordinate.x=n.coordinate[0]||n.coordinate.x||n.coordinate.left||0,n.coordinate.y=n.coordinate[1]||n.coordinate.y||n.coordinate.top||0,n.offset.x=n.offset[0]||n.offset.x||n.offset.left||0,n.offset.y=n.offset[1]||n.offset.y||n.offset.top||0,n.dispatchEvent("onbeforeupdate"),r.left=n.coordinate.x+n.offset.x-p.left-(n.position.indexOf("left")>=0?c:0),r.top=n.coordinate.y+n.offset.y-p.top-(n.position.indexOf("top")>=0?d:0),n.insideScreen){case"surround":r.left+=r.left<l?c:r.left+c>l+s?-c:0,r.top+=r.top<u?d:r.top+d>u+a?-d:0;break;case"fix":r.left=Math.max(0-parseFloat(o.dom.getStyle(i,"marginLeft"))||0,Math.min(r.left,o.page.getViewWidth()-c-p.left)),r.top=Math.max(0-parseFloat(o.dom.getStyle(i,"marginTop"))||0,Math.min(r.top,o.page.getViewHeight()-d-p.top))}o.ui.smartPosition.setBorderBoxStyles(i,r),t||a==o.page.getViewHeight()&&s==o.page.getViewWidth()||n.update({},!0),t||n.dispatchEvent("onupdate")}}),o.ui.smartPosition.set=function(e,t,n){n=n||{},n.source=o.g(e),n.coordinate=t||[0,0];var r=new o.ui.smartPosition.SmartPosition(n);return r.update(),r},function(){function e(e,t){for(var n,r,i=[],a=e.length-1,s=o.g(t)?o.g(t):document;a>=0;a--)for(r=s.getElementsByTagName(e[a]),n=r.length-1;n>=0;n--)r[n]&&"hidden"!=r[n].style.visibility&&i.push([r[n],null]);return i}function t(t,n){l.shownIndex+=1;var r=[],a={container:document};o.object.extend(a,s.options),o.object.extend(a,n||{}),a.hideFlash&&r.push("object"),a.hideSelect&&r.push("select"),l.hideElement[l.shownIndex]=e(r,a.container);var u=t.getMain(),c=(o.dom.getPosition(u),t.getId()),d=s.iframes[c];o.ie&&a.hideSelect&&(d||(d=s.iframes[c]=document.createElement("IFRAME"),t.getMain().appendChild(d),d.style.display="none"),d.src="javascript:void(0)",o.dom.setStyles(d,{zIndex:-1,display:"block",border:"none",position:"absolute",width:u.offsetWidth,height:u.offsetHeight,top:0,left:0,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"})),o.forEach(l.hideElement[l.shownIndex],function(e){o.ui.get(e[0])!=t&&i(e)})}function n(e){if(o.ie){var t=e.getMain(),n=e.getId();if(!s.iframes[n])return;o.dom.setStyles(s.iframes[n],{width:t.offsetWidth,height:t.offsetHeight})}}function r(e){if(0!=l.shownIndex){var t=s.iframes[e.getId()];o.ie&&t&&(t.style.display="none"),o.forEach(l.hideElement[l.shownIndex],function(t){o.ui.get(t[0])!=e&&a(t)}),delete l.hideElement[l.shownIndex],l.shownIndex-=1}}function i(e){null===e[1]&&(e[1]=e[0].style.visibility,e[0].style.visibility="hidden")}function a(e){null!==e[1]&&(e[0].style.visibility=e[1],e[1]=null)}var s={show:t,hide:r,update:n,shownIndex:0,hideElement:{},iframes:[],options:{hideSelect:!0,hideFlash:!0}};o.ui.smartCover=o.ui.smartCover||s;var l=o.ui.smartCover}(),o.ui.tooltip=o.ui.tooltip||{mainId:null},o.ui.smartPosition.mouse=function(e,t){t=t||{},t.source=e,t.coordinate=o.page.getMousePosition(),t.once=!0;var n=new o.ui.smartPosition.SmartPosition(t);return n.update(),n},o.ui.smartPosition.element=function(e,t,n){e=o.g(e),t=o.g(t),n=n||{},n.coordinate=n.coordinate||{},n.source=e;var r=new o.ui.smartPosition.SmartPosition(n);return r.addEventListener("onbeforeupdate",function(){var e=this,n=o.dom.getPosition(t);e.coordinate.x=n.left+(e.position.indexOf("right")>=0?t.offsetWidth:0),e.coordinate.y=n.top+(e.position.indexOf("bottom")>=0?t.offsetHeight:0)}),r.update(),r},o.ui.tooltip.Tooltip=o.ui.createUI(new Function).extend({uiType:"tooltip",width:"",height:"",content:"",zIndex:3e3,positionBy:"element",offsetPosition:"bottomRight",offset:[0,0],tplBody:'<div id="#{id}" class="#{class}"></div>',insideScreen:"surround",toggle:function(){return!0},getString:function(){var e=this;return o.format(e.tplBody,{id:e.getId(),"class":e.getClass()})},open:function(){var e,t=this;("function"!=typeof t.toggle||t.toggle())&&t.dispatchEvent("onbeforeopen")&&((e=o.ui.tooltip.showing)&&e.close(),t.update(t),o.ui.tooltip.showing=t,t.dispatchEvent("onopen"))},render:function(e){var t,n=this;return n.targetId=e.id?e.id:e.id=n.getId("target"),n.content=n.content||e.title||"",e.title="",o.ui.tooltip.mainId?(n.mainId=o.ui.tooltip.mainId,void n.dispatchEvent("onload")):(t=n.renderMain(n.container),o.ui.tooltip.mainId=n.mainId,void n.dispatchEvent("onload"))},update:function(e){var t,n=this,r=n.getMain();r.innerHTML=n.getString(),t=n.getBody(),e=e||{},o.object.extend(this,e),o.dom.setStyles(r,{zIndex:n.zIndex,width:n.width,height:n.height,display:""}),e.contentElement?(t.innerHTML="",t.appendChild(e.contentElement)):e.content&&(t.innerHTML=n.content),n._setPosition()},_setPosition:function(){var e=this,t=o.ui.smartPosition,n={once:!0,offset:e.offset,position:e.offsetPosition,insideScreen:e.insideScreen};switch(e.positionBy){case"element":t.element(e.getMain(),e.getTarget(),n);break;case"mouse":t.mouse(e.getMain(),n)}},close:function(){var e=this;e.getBody()&&e.dispatchEvent("onbeforeclose")&&(e._close(),e.dispatchEvent("onclose"))},_close:function(){this.getMain().style.left="-100000px",o.ui.tooltip.showing=null},dispose:function(){var e=this;e.dispatchEvent("ondispose"),e.getBody()&&o.dom.remove(e.getBody()),o.lang.Class.prototype.dispose.call(e)},getTarget:function(){return o.g(this.targetId)}}),o.ui.tooltip.create=function(e,t){if(!e)return null;var n,r=[],i=o.lang.toArray(e);return t=t||{},o.array.each(i,function(e){n=new o.ui.tooltip.Tooltip(t),n.render(o.g(e)),n.addEventListener("open",function(){this.contentElement&&(this.contentElement.style.display="")}),r.push(n)}),e.splice||e.item?r:r[0]},o.ui.tooltip.Tooltip.prototype.offset=[0,0],o.ui.tooltip.click=function(e,t){var n=o.ui.tooltip.create(e,t),r=o.lang.isArray(n)?n:[n];return o.array.each(r,function(e){var t=function(){e.open()},n=function(t){if(e.getBody()){var n=o.event.getTarget(t||window.event),r=function(t){return t==e.getTarget()};r(n)||o.dom.getAncestorBy(n,r)||o.ui.get(n)==e||e.close()}};o.on(e.getTarget(),"click",t),o.on(document,"click",n),e.addEventListener("ondispose",function(){o.un(e.getTarget(),"click",t),o.un(document,"click",n)})}),n},o.fx=o.fx||{},o.fx.Timeline=o.lang.createClass(function(e){o.object.extend(this,o.fx.Timeline.options),o.object.extend(this,e)},{className:"baidu.fx.Timeline",options:{interval:16,duration:500,dynamic:!0}}).extend({launch:function(){var e=this;return e.dispatchEvent("onbeforestart"),"function"==typeof e.initialize&&e.initialize(),e["btime"]=(new Date).getTime(),e["etime"]=e["btime"]+(e.dynamic?e.duration:0),e["pulsed"](),e
},"pulsed":function(){var e=this,t=(new Date).getTime();return e.percent=(t-e["btime"])/e.duration,e.dispatchEvent("onbeforeupdate"),t>=e["etime"]?("function"==typeof e.render&&e.render(e.transition(e.percent=1)),"function"==typeof e.finish&&e.finish(),e.dispatchEvent("onafterfinish"),void e.dispose()):("function"==typeof e.render&&e.render(e.transition(e.percent)),e.dispatchEvent("onafterupdate"),void(e["timer"]=setTimeout(function(){e["pulsed"]()},e.interval)))},transition:function(e){return e},cancel:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],"function"==typeof this.restore&&this.restore(),this.dispatchEvent("oncancel"),this.dispose()},end:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],this["pulsed"]()}}),o.fx.create=function(e,t,n){var r=new o.fx.Timeline(t);r.element=e,r._className=n||r._className,r["original"]={};var i="baidu_current_effect";return r.addEventListener("onbeforestart",function(){var e,t=this;t.attribName="att_"+t._className.replace(/\W/g,"_"),e=t.element.getAttribute(i),t.element.setAttribute(i,(e||"")+"|"+t.guid+"|",0),t.overlapping||((e=t.element.getAttribute(t.attribName))&&window[o.guid]._instances[e].cancel(),t.element.setAttribute(t.attribName,t.guid,0))}),r["clean"]=function(e){var t,n=this;(e=n.element)&&(e.removeAttribute(n.attribName),t=e.getAttribute(i),t=t.replace("|"+n.guid+"|",""),t?e.setAttribute(i,t,0):e.removeAttribute(i))},r.addEventListener("oncancel",function(){this["clean"](),this["restore"]()}),r.addEventListener("onafterfinish",function(){this["clean"](),this.restoreAfterFinish&&this["restore"]()}),r.protect=function(e){this["original"][e]=this.element.style[e]},r["restore"]=function(){var e,t=this["original"],n=this.element.style;for(var r in t)e=t[r],"undefined"!=typeof e&&(n[r]=e,!e&&n.removeAttribute?n.removeAttribute(r):!e&&n.removeProperty&&n.removeProperty(r))},r},o.fx.opacity=function(e,t){if(!(e=o.dom.g(e)))return null;t=o.object.extend({from:0,to:1},t||{});var n=e,r=o.fx.create(n,o.object.extend({initialize:function(){o.dom.show(e),o.browser.ie?this.protect("filter"):(this.protect("opacity"),this.protect("KHTMLOpacity")),this.distance=this.to-this.from},render:function(e){var t=this.distance*e+this.from;o.browser.ie?n.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(100*t)+")":(n.style.opacity=t,n.style.KHTMLOpacity=t)}},t),"baidu.fx.opacity");return r.launch()},o.fx.fadeIn=function(e,t){if(!(e=o.dom.g(e)))return null;var n=o.fx.opacity(e,o.object.extend({from:0,to:1,restoreAfterFinish:!0},t||{}));return n._className="baidu.fx.fadeIn",n},o.fx.fadeOut=function(e,t){if(!(e=o.dom.g(e)))return null;var n=o.fx.opacity(e,o.object.extend({from:1,to:0,restoreAfterFinish:!0},t||{}));return n.addEventListener("onafterfinish",function(){o.dom.hide(this.element)}),n._className="baidu.fx.fadeOut",n},o.object.extend(o.ui.tooltip.Tooltip.prototype,{enableFx:!0,showFx:o.fx.fadeIn,showFxOptions:{duration:500},hideFx:o.fx.fadeOut,hideFxOptions:{duration:500}}),o.ui.tooltip.Tooltip.register(function(e){e.enableFx&&(e.addEventListener("onopen",function(){"function"==typeof e.showFx&&e.showFx(e.getMain(),e.showFxOptions)}),e.addEventListener("beforeclose",function(t){e.hideFx(e.getMain(),e.hideFxOptions).addEventListener("onafterfinish",function(){e._close()}),t.returnValue=!1}))}),o.extend(o.ui.tooltip.Tooltip.prototype,{showDelay:100,hideDelay:500,offset:[0,0]}),o.ui.tooltip.hover=function(e,t){var n=o.ui.tooltip.create(e,t),r=o.lang.isArray(n)?n:[n];return o.array.each(r,function(e){function t(){clearTimeout(e.showHandler),clearTimeout(e.hideHandler),e.hideHandler=setTimeout(function(){e.close()},e.hideDelay)}o.on(e.getTarget(),"mouseover",function(){clearTimeout(e.hideHandler),e.showHandler=setTimeout(function(){e.open()},e.showDelay)}),e.addEventListener("onopen",function(){o.on(e.getBody(),"mouseover",function(){clearTimeout(e.hideHandler)})}),o.on(e.getTarget(),"mouseout",t),e.addEventListener("onopen",function(){o.on(e.getBody(),"mouseout",t)})}),n},o.ui.Base.setParent=function(e){var t=this,n=t._parent;n&&n.dispatchEvent("removechild"),e.dispatchEvent("appendchild",{child:t})&&(t._parent=e)},o.ui.Base.getParent=function(){return this._parent||null},o.ui.button=o.ui.button||{},function(){var e=o.ui.behavior.statable=function(){var e=this;e.addEventListeners("ondisable,onenable",function(t,n){var r;n=n||{},elementId=(n.element||e.getMain()).id,r=n.group,"ondisable"!=t.type||e.getState(elementId,r).disabled?"onenable"==t.type&&e.getState(elementId,r).disabled&&e.removeState("disabled",elementId,r):(e.removeState("press",elementId,r),e.removeState("hover",elementId,r),e.setState("disabled",elementId,r))})};e._states={},e._allStates=["hover","press","disabled"],e._allEventsName=["mouseover","mouseout","mousedown","mouseup"],e._eventsHandler={mouseover:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("hover",e,t),!0)},mouseout:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("hover",e,t),n.removeState("press",e,t),!0)},mousedown:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("press",e,t),!0)},mouseup:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("press",e,t),!0)}},e._getStateHandlerString=function(e,t){var n,r=this,o=0,i=r._allEventsName.length,a=[];for("undefined"==typeof e&&(e=t="");i>o;o++)n=r._allEventsName[o],a[o]="on"+n+'="'+r.getCallRef()+"._fireEvent('"+n+"', '"+e+"', '"+t+"', event)\"";return a.join(" ")},e._fireEvent=function(e,t,n,r){var o=this,i=o.getId(t+n);o._eventsHandler[e].call(o,i,t)&&o.dispatchEvent(e,{element:i,group:t,key:n,DOMEvent:r})},e.addState=function(e,t,n){var r=this;r._allStates.push(e),t&&(r._allEventsName.push(t),n||(n=function(){return!0}),r._eventsHandler[t]=n)},e.getState=function(e,t){var n,r=this;return t=t?t+"-":"",e=e?e:r.getId(),n=r._states[t+e],n?n:{}},e.setState=function(e,t,n){var r,i,a=this;n=n?n+"-":"",t=t?t:a.getId(),r=n+t,a._states[r]=a._states[r]||{},i=a._states[r][e],i||(a._states[r][e]=1,o.addClass(t,a.getClass(n+e)))},e.removeState=function(e,t,n){var r,i=this;n=n?n+"-":"",t=t?t:i.getId(),r=n+t,i._states[r]&&(i._states[r][e]=0,o.removeClass(t,i.getClass(n+e)))}}(),o.ui=o.ui||{version:"1.3.9"},o.ui.getUI=function(e){for(var e=e.split("-"),t=o.ui,n=e.length,r=0;n>r;r++)t=t[e[r].charAt(0).toUpperCase()+e[r].slice(1)];return t},o.ui.create=function(e,t){return o.lang.isString(e)&&(e=o.ui.getUI(e)),new e(t)},o.ui.Base={id:"",getId:function(e){var t,n=this;return t="tangram-"+n.uiType+"--"+(n.id?n.id:n.guid),e?t+"-"+e:t},getClass:function(e){var t=this,n=t.classPrefix,r=t.skin;return e&&(n+="-"+e,r+="-"+e),t.skin&&(n+=" "+r),n},getMain:function(){return o.g(this.mainId)},getBody:function(){return o.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(e){for(var t=0,n=Array.prototype.slice.call(arguments,1),r=n.length;r>t;t++)"string"==typeof n[t]&&(n[t]="'"+n[t]+"'");return this.getCallRef()+"."+e+"("+n.join(",")+");"},on:function(e,t,n){o.on(e,t,n),this.addEventListener("ondispose",function(){o.un(e,t,n)})},renderMain:function(e){var t=this;if(!t.getMain())return e=o.g(e),e||(e=document.createElement("div"),document.body.appendChild(e),e.style.position="absolute",e.className=t.getClass("main")),e.id||(e.id=t.getId("main")),t.mainId=e.id,e.setAttribute("data-guid",t.guid),e},dispose:function(){this.dispatchEvent("dispose"),o.lang.Class.prototype.dispose.call(this)}},o.ui.createUI=function(e,t){t=t||{};var n,r,i=t.superClass||o.lang.Class,a=i==o.lang.Class?1:0,s=function(t,l){var u=this;t=t||{},i.call(u,a?t.guid||"":t,!0),o.object.extend(u,s.options),o.object.extend(u,t),u.classPrefix=u.classPrefix||"tangram-"+u.uiType.toLowerCase();for(n in o.ui.behavior)"undefined"!=typeof u[n]&&u[n]&&(o.object.extend(u,o.ui.behavior[n]),o.lang.isFunction(u[n])?u.addEventListener("onload",function(){o.ui.behavior[n].call(u[n].apply(u))}):o.ui.behavior[n].call(u));for(e.apply(u,arguments),n=0,r=s._addons.length;r>n;n++)s._addons[n](u);t.parent&&u.setParent&&u.setParent(t.parent),!l&&t.autoRender&&u.render(t.element)},l=function(){};l.prototype=i.prototype;var u=s.prototype=new l;for(n in o.ui.Base)u[n]=o.ui.Base[n];return s.extend=function(e){for(n in e)s.prototype[n]=e[n];return s},s._addons=[],s.register=function(e){"function"==typeof e&&s._addons.push(e)},s.options={},s},o.ui.Dialog=o.ui.createUI(function(){var e=this;e._content="initElement",e.content=e.content||null,e._contentText="initText",e.contentText=e.contentText||"",e._titleText="initText",e.titleText=e.titleText||""}).extend({uiType:"dialog",width:"",height:"",top:"auto",left:"auto",zIndex:1e3,tplDOM:"<div id='#{id}' class='#{class}' style='position:relative'>#{title}#{content}#{footer}</div>",tplTitle:"<div id='#{id}' class='#{class}'><span id='#{inner-id}' class='#{inner-class}'>#{content}</span></div>",tplContent:"<div id='#{id}' class='#{class}' style='overflow:hidden; position:relative'>#{content}</div>",tplFooter:"<div id='#{id}' class='#{class}'></div>",isShown:function(){return"show"==o.ui.Dialog.instances[this.guid]},getString:function(){var e=this,t="title",n="title-inner",r="content",i="footer";return o.format(e.tplDOM,{id:e.getId(),"class":e.getClass(),title:o.format(e.tplTitle,{id:e.getId(t),"class":e.getClass(t),"inner-id":e.getId(n),"inner-class":e.getClass(n),content:e.titleText||""}),content:o.format(e.tplContent,{id:e.getId(r),"class":e.getClass(r),content:e.contentText||""}),footer:o.format(e.tplFooter,{id:e.getId(i),"class":e.getClass(i)})})},render:function(){var e,t=this;if(!t.getMain())return e=t.renderMain(),e.innerHTML=t.getString(),t._update(),t._updatePosition(),o.dom.setStyles(t.getMain(),{position:"absolute",zIndex:t.zIndex,marginLeft:"-100000px"}),t.windowResizeHandler=t.getWindowResizeHandler(),o.on(window,"resize",t.windowResizeHandler),t.dispatchEvent("onload"),e},_update:function(e){var t=this,n=t.getContent(),e=e||{},r=t.getTitleInner(),i=!1;if("undefined"!=typeof e.titleText?(r.innerHTML=e.titleText,t.titleText=t._titleText=e.titleText):t.titleText!=t._titleText&&(r.innerHTML=t.titleText,t._titleText=t.titleText),"undefined"!=typeof e.content){if(n.innerHTML="",t.content=e.content,null!==e.content)return n.appendChild(e.content),t.content=t._content=n.firstChild,void(t.contentText=t._contentText=n.innerHTML);i=!0}else if(t.content!==t._content){if(n.innerHTML="",null!==t.content)return n.appendChild(t.content),t.content=t._content=n.firstChild,void(t.contentText=t._contentText=n.innerHTML);i=!0}"undefined"!=typeof e.contentText?(n.innerHTML=e.contentText,t.contentText=t._contentText=e.contentText,t.content=t._content=n.firstChild):(t.contentText!=t._contentText||i)&&(n.innerHTML=t.contentText,t._contentText=t.contentText,t.content=t._content=n.firstChild),delete e.content,delete e.contentText,delete e.titleText,o.extend(t,e)},getWindowResizeHandler:function(){var e=this;return function(){e._updatePosition()}},open:function(){var e=this;e._updatePosition(),e.getMain().style.marginLeft="auto",o.ui.Dialog.instances[e.guid]="show",e.dispatchEvent("onopen")},close:function(){var e=this;e.dispatchEvent("onbeforeclose")&&(e.getMain().style.marginLeft="-100000px",o.ui.Dialog.instances[e.guid]="hide",e.dispatchEvent("onclose"))},update:function(e){var t=this;t._update(e),t._updatePosition(),t.dispatchEvent("onupdate")},_getBodyOffset:function(){function e(e,t){var n=parseFloat(o.getStyle(e,t));return n=isNaN(n)?0:n,n=o.lang.isNumber(n)?n:0}var t,n=this,r=(n.getBody(),n.getContent()),i=n.getTitle(),a=n.getFooter();t={width:0,height:0},o.forEach(["marginLeft","marginRight"],function(n){t.width+=e(r,n)}),t.height+=i.offsetHeight+e(i,"marginTop"),t.height+=a.offsetHeight+e(a,"marginBottom");var s=e(r,"marginTop"),l=e(i,"marginBottom");return t.height+=s>=l?s:l,s=e(a,"marginTop"),l=e(r,"marginBottom"),t.height+=s>=l?s:l,t},_updatePosition:function(){var e,t,n,r=this,i="",a="",s="",l="",u=r.getContent(),c=r.getBody();t=parseFloat(r.width),n=parseFloat(r.height),e=r._getBodyOffset(),o.lang.isNumber(t)&&o.dom.setOuterWidth(u,t),o.lang.isNumber(n)&&o.dom.setOuterHeight(u,n),e.width+=u.offsetWidth,e.height+=u.offsetHeight,r.width&&o.setStyle(c,"width",e.width),r.height&&o.setStyle(c,"height",e.height),r.left&&"auto"!=r.left||r.right&&"auto"!=r.right?(l=r.left||"",a=r.right||""):l=Math.max((o.page.getViewWidth()-parseFloat(r.getMain().offsetWidth))/2+o.page.getScrollLeft(),0),r.top&&"auto"!=r.top||r.bottom&&"auto"!=r.bottom?(i=r.top||"",s=r.bottom||""):i=Math.max((o.page.getViewHeight()-parseFloat(r.getMain().offsetHeight))/2+o.page.getScrollTop(),0),o.dom.setStyles(r.getMain(),{top:i,right:a,bottom:s,left:l})},getTitle:function(){return o.g(this.getId("title"))},getTitleInner:function(){return o.g(this.getId("title-inner"))},getContent:function(){return o.g(this.getId("content"))},getFooter:function(){return o.g(this.getId("footer"))},dispose:function(){var e=this;delete o.ui.Dialog.instances[e.guid],e.dispatchEvent("dispose"),o.un(window,"resize",e.windowResizeHandler),o.dom.remove(e.getMain()),o.lang.Class.prototype.dispose.call(e)}}),o.ui.Dialog.instances=o.ui.Dialog.instances||{},o.ui.Dialog.register(function(e){e.addEventListener("onload",function(){("undefined"==typeof e.autoDispose||e.autoDispose)&&e.addEventListener("onclose",function(){e.dispose()})})}),o.ui.Base.setParent=function(e){var t=this,n=t._parent;n&&n.dispatchEvent("removechild"),e.dispatchEvent("appendchild",{child:t})&&(t._parent=e)},o.ui.Base.getParent=function(){return this._parent||null},o.ui.behavior=o.ui.behavior||{},function(){var e=o.ui.behavior.statable=function(){var e=this;e.addEventListeners("ondisable,onenable",function(t,n){var r;n=n||{},elementId=(n.element||e.getMain()).id,r=n.group,"ondisable"!=t.type||e.getState(elementId,r).disabled?"onenable"==t.type&&e.getState(elementId,r).disabled&&e.removeState("disabled",elementId,r):(e.removeState("press",elementId,r),e.removeState("hover",elementId,r),e.setState("disabled",elementId,r))})};e._states={},e._allStates=["hover","press","disabled"],e._allEventsName=["mouseover","mouseout","mousedown","mouseup"],e._eventsHandler={mouseover:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("hover",e,t),!0)},mouseout:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("hover",e,t),n.removeState("press",e,t),!0)},mousedown:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.setState("press",e,t),!0)},mouseup:function(e,t){var n=this;return n.getState(e,t).disabled?void 0:(n.removeState("press",e,t),!0)}},e._getStateHandlerString=function(e,t){var n,r=this,o=0,i=r._allEventsName.length,a=[];for("undefined"==typeof e&&(e=t="");i>o;o++)n=r._allEventsName[o],a[o]="on"+n+'="'+r.getCallRef()+"._fireEvent('"+n+"', '"+e+"', '"+t+"', event)\"";return a.join(" ")},e._fireEvent=function(e,t,n,r){var o=this,i=o.getId(t+n);o._eventsHandler[e].call(o,i,t)&&o.dispatchEvent(e,{element:i,group:t,key:n,DOMEvent:r})},e.addState=function(e,t,n){var r=this;r._allStates.push(e),t&&(r._allEventsName.push(t),n||(n=function(){return!0}),r._eventsHandler[t]=n)},e.getState=function(e,t){var n,r=this;return t=t?t+"-":"",e=e?e:r.getId(),n=r._states[t+e],n?n:{}},e.setState=function(e,t,n){var r,i,a=this;n=n?n+"-":"",t=t?t:a.getId(),r=n+t,a._states[r]=a._states[r]||{},i=a._states[r][e],i||(a._states[r][e]=1,o.addClass(t,a.getClass(n+e)))},e.removeState=function(e,t,n){var r,i=this;n=n?n+"-":"",t=t?t:i.getId(),r=n+t,i._states[r]&&(i._states[r][e]=0,o.removeClass(t,i.getClass(n+e)))}}(),o.ui.Button=o.ui.createUI(new Function).extend({uiType:"button",tplBody:'<div id="#{id}" #{statable} class="#{class}">#{content}</div>',disabled:!1,statable:!0,_getString:function(){var e=this;return o.format(e.tplBody,{id:e.getId(),statable:e._getStateHandlerString(),"class":e.getClass(),content:e.content})},render:function(e){var t,n=this;n.addState("click","click"),o.dom.insertHTML(n.renderMain(e),"beforeEnd",n._getString()),t=o.g(e).lastChild,n.title&&(t.title=n.title),n.disabled&&n.setState("disabled"),n.dispatchEvent("onload")},isDisabled:function(){{var e=this;e.getId()}return e.getState().disabled},dispose:function(){var e=this,t=e.getBody();e.dispatchEvent("dispose"),o.forEach(e._allEventsName,function(e){t["on"+e]=null}),o.dom.remove(t),e.dispatchEvent("ondispose"),o.lang.Class.prototype.dispose.call(e)},disable:function(){var e=this,t=e.getBody();e.dispatchEvent("ondisable",{element:t})},enable:function(){var e=this;body=e.getBody(),e.dispatchEvent("onenable",{element:body})},fire:function(e,t){var n=this,e=e.toLowerCase();n.getState().disabled||n._fireEvent(e,null,null,t)},update:function(e){var t=this;o.extend(t,e),e.content&&(t.getBody().innerHTML=e.content),t.dispatchEvent("onupdate")}}),o.i18n=o.i18n||{},o.i18n.string=o.i18n.string||{trim:function(e,t){var n=o.i18n.cultures[t||o.i18n.currentLocale].whitespace;return String(e).replace(n,"")},translation:function(e,t){var n=o.i18n.cultures[t||o.i18n.currentLocale].language;return n[e]||""}},o.i18n.cultures=o.i18n.cultures||{},o.i18n.cultures["zh-CN"]=o.object.extend(o.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}年&nbsp;#{MM}月",monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:{mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六",sun:"日"}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(e,t){return o.i18n.number._format(e,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:t?this.negative:this.positive})}},currency:{symbol:"￥"},language:{ok:"确定",cancel:"取消",signin:"注册",signup:"登录"}}),o.i18n.currentLocale=o.i18n.currentLocale||"zh-CN",o.extend(o.ui.Dialog.prototype,{createButton:function(e,t){var n=this;o.extend(e,{classPrefix:n.classPrefix+"-"+t,skin:n.skin?n.skin+"-"+t:"",element:n.getFooter(),autoRender:!0,parent:n});var r=new o.ui.Button(e);n.buttonInstances[t]=r},removeButton:function(e){var t=this,n=t.buttonInstances[e];n&&(n.dispose(),delete t.buttonInstances[e],delete t.buttons[e])}}),o.ui.Dialog.register(function(e){e.buttonInstances={},e.language=e.language||"zh-CN";var t,n,r={},i=o.i18n.cultures[e.language].language;t={content:i.ok,onclick:function(){var e=this,t=e.getParent();t.dispatchEvent("onaccept")&&t.close()}},n={content:i.cancel,onclick:function(){var e=this,t=e.getParent();t.dispatchEvent("oncancel")&&t.close()}},e.addEventListener("onload",function(){switch(e.type){case"alert":e.submitOnEnter=e.submitOnEnter||!0,r={accept:t};break;case"confirm":e.submitOnEnter=e.submitOnEnter||!0,r={accept:t,cancel:n}}e.buttons=o.extend(r,e.buttons||{}),o.object.each(e.buttons,function(t,n){e.createButton(t,n)}),e.submitOnEnter&&e.addEventListener("onenter",function(t){e.buttonInstances.accept.fire("click",t)})}),e.addEventListener("ondispose",function(){o.object.each(e.buttons,function(t,n){e.removeButton(n)})}),e.addEventListener("onupdate",function(){o.object.each(e.buttons,function(t,n){e.buttonInstances[n]?e.buttonInstances[n].update(t):e.createButton(t,n)})})}),o.extend(o.ui.Dialog.prototype,{closeText:"",closeButton:!0}),o.ui.Dialog.register(function(e){e.closeButton&&e.addEventListener("onload",function(){var t=new o.ui.Button({parent:e,classPrefix:e.classPrefix+"-close",skin:e.skin?e.skin+"-close":"",onclick:function(){e.close()},onmousedown:function(e){o.event.stopPropagation(e.DOMEvent)},element:e.getTitle(),autoRender:!0});e.closeButtonInstance=t,e.addEventListener("ondispose",function(){t.dispose()})})}),function(){var e=o.ui.behavior.coverable=function(){};e.Coverable_isShowing=!1,e.Coverable_iframe,e.Coverable_container,e.Coverable_iframeContainer,e.Coverable_show=function(){var e=this;if(e.Coverable_iframe)return e.Coverable_update(),void o.setStyle(e.Coverable_iframe,"display","block");var t=e.coverableOptions||{},n=e.Coverable_container=t.container||e.getMain(),r=t.opacity||"0",i=t.color||"",a=e.Coverable_iframe=document.createElement("iframe"),s=e.Coverable_iframeContainer=document.createElement("div");o.dom.children(n).length>0?o.dom.insertBefore(s,n.firstChild):n.appendChild(s),o.setStyles(s,{position:"absolute",top:"0px",left:"0px"}),o.dom.setBorderBoxSize(s,{width:n.offsetWidth,height:n.offsetHeight}),o.dom.setBorderBoxSize(a,{width:s.offsetWidth}),o.dom.setStyles(a,{zIndex:-1,display:"block",border:0,backgroundColor:i,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+r+")"}),s.appendChild(a),a.src="javascript:void(0)",a.frameBorder="0",a.scrolling="no",a.height="97%",e.Coverable_isShowing=!0},e.Coverable_hide=function(){var e=this,t=e.Coverable_iframe;e.Coverable_isShowing&&(o.setStyle(t,"display","none"),e.Coverable_isShowing=!1)},e.Coverable_update=function(e){var t=this,e=e||{},n=t.Coverable_container,r=t.Coverable_iframeContainer,i=t.Coverable_iframe;o.dom.setBorderBoxSize(r,{width:n.offsetWidth,height:n.offsetHeight}),o.dom.setBorderBoxSize(i,o.extend({width:o.getStyle(r,"width")},e))}}(),o.extend(o.ui.Dialog.prototype,{coverable:!0,coverableOptions:{}}),o.ui.Dialog.register(function(e){e.coverable&&(e.addEventListeners("onopen,onload",function(){e.Coverable_show()}),e.addEventListener("onclose",function(){e.Coverable_hide()}),e.addEventListener("onupdate",function(){e.Coverable_update()}))}),function(){var e=o.ui.behavior.draggable=function(){this.addEventListener("onload",function(){var e=this;e.dragUpdate()}),this.addEventListener("ondispose",function(){var e=this;o.un(e._dragOption.handler,"mousedown",e._dragFn),e._dragOption.handler=e.dragHandler=e._lastDragHandler=null})};e.dragUpdate=function(e){var t=this;e=e||{},t.draggable&&(t._lastDragHandler&&t._dragFn&&o.event.un(t._lastDragHandler,"onmousedown",t._dragFn),o.object.extend(t,e),t._dragOption={ondragstart:function(){t.dispatchEvent("ondragstart")},ondrag:function(){t.dispatchEvent("ondrag")},ondragend:function(){t.dispatchEvent("ondragend")},autoStop:!0},t._dragOption.range=t.dragRange||[],t._dragOption.handler=t._lastDragHandler=t.dragHandler||t.getMain(),t._dragOption.handler&&o.event.on(t._dragOption.handler,"onmousedown",t._dragFn=function(){o.dom.drag(t.dragTarget||t.getMain(),t._dragOption)}))}}(),o.ui.Dialog.prototype.draggable=!0,o.ui.Dialog.register(function(e){function t(){e.dragRange=[0,o.page.getWidth(),o.page.getHeight(),0],e.dragUpdate()}e.draggable&&(e.addEventListener("onload",function(){e.dragHandler=e.dragHandler||e.getTitle(),e.dragRange?e.dragUpdate():(t(),o.on(window,"resize",t))}),e.addEventListener("ondragend",function(){e.left=o.dom.getStyle(e.getMain(),"left"),e.top=o.dom.getStyle(e.getMain(),"top")}),e.addEventListener("ondispose",function(){o.un(window,"resize",t)}))}),o.ui.Dialog.register(function(e){if("iframe"==e.type){o.extend(e,{autoRender:!0,tplIframe:"<iframe width='100%' height='97%' frameborder='0' scrolling='no' name='#{name}' id='#{id}' class='#{class}'></iframe>",getIframe:function(){return o.g(this.getId("iframe"))}});var t,n,r=e.getId("iframe"),i=e.iframeName||r,t=o.format(e.tplIframe,{name:i,id:r,"class":e.getClass("iframe")});e.addEventListener("onload",function(){e._update({contentText:t}),e._updatePosition(),n=o.g(r),o.on(n,"onload",function(){e._updatePosition(),e.dispatchEvent("onupdate")}),n.src=e.iframeSrc})}}),o.extend(o.ui.Dialog.prototype,{enableKeyboard:!0,closeOnEscape:!0}),o.ui.Dialog.register(function(e){o.ui.Dialog.keyboardHandler=o.ui.Dialog.keyboardHandler||function(e){e=window.event||e;var t,n,r=e.keyCode||e.which;if(o.object.each(o.ui.Dialog.instances,function(e,r){"show"==e&&(n=o.lang.instance(r),(!t||n.zIndex>t.zIndex)&&(t=n))}),t)switch(r){case 27:t.closeOnEscape&&t.close();break;case 13:t.dispatchEvent("onenter")}},e.enableKeyboard&&!o.ui.Dialog.keyboardEventReady&&(o.on(document,"keyup",o.ui.Dialog.keyboardHandler),o.ui.Dialog.keyboardEventReady=!0),e.addEventListener("ondispose",function(){var e=!0;o.object.each(o.ui.Dialog.instances,function(){return e=!1,!1}),e&&(o.event.un(document,"keyup",o.ui.Dialog.keyboardHandler),o.ui.Dialog.keyboardEventReady=!1)})}),o.ui.Modal=o.ui.createUI(function(e){var t=this,n=e&&e.container?o.g(e.container):null;!n&&(n=document.body),n.id||(n.id=t.getId("container")),t.containerId=n.id,t.styles={color:"#000000",opacity:.6,zIndex:1e3}}).extend({uiType:"modal",_showing:!1,getContainer:function(){var e=this;return o.g(e.containerId)},render:function(){var e,t,n,r=this,i=r.containerId,a=o.g(r.containerId);(e=o.ui.Modal.collection[i])?(r.mainId=e.mainId,n=r.getMain()):(n=r.renderMain(),a!==document.body?a.appendChild(n):t=o.dom.fixable(n,{autofix:!1,vertival:"top",horizontal:"left",offset:{x:0,y:0}}),o.ui.Modal.collection[i]={mainId:r.mainId,instance:[],flash:{},fixableInstance:t}),r.dispatchEvent("onload")},show:function(e){var t,n=this,r=(n.getContainer(),n.getMain()),i=n.containerId,a=o.ui.Modal.collection[i],s=a.fixableInstance,l=a.instance.length;n._showing||(l>0&&(t=o.lang.instance(a.instance[l-1]),t&&t._removeHandler()),e=e||{},n._show(e.styles||{}),s&&s.render(),r.style.display="block",a.flash[n.guid]=n._hideFlash(),a.instance.push(n.guid),n._showing=!0,n.dispatchEvent("onshow"))},_show:function(e){var t=this;t._getModalStyles(e||{}),t._update(),t.getContainer()===document.body&&o.browser.ie&&o.browser.ie<=7&&(t.windowHandler=t.getWindowHandle(),o.on(window,"resize",t.windowHandler))},hide:function(){var e=this;e._hide(),e.dispatchEvent("onhide")},_hide:function(){var e,t=this,n=t.containerId,r=o.ui.Modal.collection[n],i=r.flash[t.guid],a=t.getMain(),s=r.instance.length;if(t._showing){for(var l=0;s>l;l++)if(r.instance[l]==t.guid){r.instance.splice(l,1);break}s=r.instance.length,l==s?(t._removeHandler(),s>0?(e=o.lang.instance(r.instance[s-1]),e&&e._show()):a.style.display="none",t._restoreFlash(i)):(e=o.lang.instance(r.instance[s-1]),r.flash[e.guid]=r.flash[e.guid].concat(i)),r.flash[t.guid]=[],t._showing=!1}},_removeHandler:function(){var e=this;e.getContainer()===document.body&&o.browser.ie&&o.browser.ie<=7&&o.un(window,"resize",e.windowHandler)},getWindowHandle:function(){var e=this,t=e.getMain();return function(){o.setStyles(t,{width:o.page.getViewWidth(),height:o.page.getViewHeight()}),e.getContainer()===document.body&&o.browser.ie&&o.browser.ie<=7&&window.top!==window.self&&setTimeout(function(){e._getModalStyles({}),e._update()},16)}},update:function(e){e=e||{};{var t=this;t.getMain(),o.ui.Modal.collection[t.containerId]}e=e||{},o.extend(t,e),t._getModalStyles(e.styles||{}),t._update(),delete e.styles,o.extend(t,e),t.dispatchEvent("onupdate")},_update:function(){var e=this,t=e.getMain();o.dom.setStyles(t,e.styles)},_getModalStyles:function(e){function t(e,t){var n=parseInt(o.getStyle(e,t));return n=isNaN(n)?0:n,n=o.lang.isNumber(n)?n:0}var n,r,i,a=this,s=a.getMain(),l=a.getContainer();l!==document.body?(e.width=l.offsetWidth,e.height=l.offsetHeight,"static"==o.getStyle(l,"position")&&(i=s.offsetParent||document.body,n=o.dom.getPosition(i),r=o.dom.getPosition(l),e.top=r.top-n.top+t(i,"marginTop"),e.left=r.left-n.left+t(i,"marginLeft"))):o.browser.ie>7||!o.browser.ie?(e.width="100%",e.height="100%"):(e.width=o.page.getViewWidth(),e.height=o.page.getViewHeight()),o.extend(a.styles,e),a.styles.backgroundColor=a.styles.color||a.styles.backgroundColor,delete a.styles.color,a.styles.opacity&&(o.browser.ie&&o.browser.ie<9?document.getElementById(a.mainId).style.filter="alpha(opacity:"+10*parseInt(a.styles.opacity)+")":document.getElementById(a.mainId).style.opacity=a.styles.opacity)},_hideFlash:function(){var e=this,t=e.getContainer(),n=t.getElementsByTagName("object"),r=[];return o.forEach(n,function(t){var n=!0;o.dom.getAncestorBy(t,function(t){return o.getStyle(t,"zIndex")>e.styles.zIndex?!0:!1})||(o.forEach(o.dom.children(t),function(e){"wmode"==o.getAttr(e,"name")&&"window"!=o.getAttr(e,"value")&&(n=!1)}),n&&(r.push([t,o.getStyle(t,"visibility")]),t.style.visibility="hidden"))}),r},_restoreFlash:function(e){o.forEach(e,function(e){null!=e[0]&&(e[0].style.visibility=e[1])})},dispose:function(){var e=this;e._hide(),e.dispatchEvent("ondispose"),o.lang.Class.prototype.dispose.call(e)}}),o.ui.Modal.collection={},o.extend(o.ui.Modal.prototype,{coverable:!0,coverableOptions:{}}),o.ui.Modal.register(function(e){e.coverable&&(o.browser.isWebkit||o.browser.isGecko||(e.addEventListener("onload",function(){e.Coverable_show()}),e.addEventListeners("onshow,onupdate",function(){e.Coverable_update()}),e.addEventListener("onhide",function(){e.Coverable_hide()})))}),o.extend(o.ui.Dialog.prototype,{modal:!0,modalColor:"#000000",modalOpacity:.4,hideModal:function(){var e=this;e.modal&&e.modalInstance&&e.modalInstance.hide()}}),o.ui.Dialog.register(function(e){e.modal&&(e.addEventListener("onopen",function(){e.modalInstance||(e.modalInstance=new o.ui.Modal({autoRender:!0})),e.modalInstance.show({targetUI:e,styles:{color:e.modalColor,opacity:e.modalOpacity,zIndex:e.modalZIndex?e.modalZIndex:e.zIndex-1}})}),e.addEventListener("onclose",e.hideModal),e.addEventListener("ondispose",e.hideModal))}),function(){var e=o.ui.behavior.resizable=function(){};e.resizeableHandle=null,e.resizeCreate=function(e){var t,n=this;e=e||{},n.resizable&&(o.object.extend(n,e),n._resizeOption={onresizestart:function(){n.dispatchEvent("onresizestart")},onresize:function(e){n.dispatchEvent("onresize",e)},onresizeend:function(){n.dispatchEvent("onresizeend")}},o.forEach(["minWidth","minHeight","maxWidth","maxHeight"],function(e){n[e]&&(n._resizeOption[e]=n[e])}),n._resizeOption.classPrefix=e.classPrefix||n.classPrefix,t=e.target||n.getBody(),n.direction&&(n._resizeOption.direction=n.direction),n.resizeableHandle=o.dom.resizable(t,n._resizeOption))},e.resizeUpdate=function(e){this.resizeableHandle.update(e)},e.resizeCancel=function(){this.resizeableHandle.cancel()},e.resizeEnable=function(){this.resizeableHandle.enable()}}(),o.extend(o.ui.Dialog.prototype,{resizable:!0,minWidth:100,minHeight:100,direction:["s","e","se"]}),o.ui.Dialog.register(function(e){function t(){l=n.offsetWidth,u=n.offsetHeight,a=r.offsetWidth,s=r.offsetHeight}if(e.resizable){var n,r,i,a,s,l,u;e.addEventListener("onload",function(){n=e.getBody(),i=e.getMain(),r=e.getContent(),t(),e.resizeCreate({target:i,classPrefix:e.classPrefix})}),e.addEventListener("onresize",function(t){o.dom.setOuterWidth(r,a+t.current.width-t.original.width),o.dom.setOuterHeight(r,s+t.current.height-t.original.height),o.dom.setOuterWidth(n,l+t.current.width-t.original.width),o.dom.setOuterHeight(n,u+t.current.height-t.original.height),e.coverable&&e.Coverable_update()}),e.addEventListener("onresizeend",function(){t(),e.width=a,e.height=s,o.setStyles(i,{height:"",width:""})}),e.addEventListener("onupdate",function(){t(),e.resizeUpdate()}),e.addEventListener("onopen",function(){t(),e.resizeUpdate()})}})});