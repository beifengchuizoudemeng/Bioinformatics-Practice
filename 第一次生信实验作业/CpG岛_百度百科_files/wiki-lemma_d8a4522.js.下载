;/*!wiki-lemma:widget/tools/bkshare/share.js*/
define("wiki-lemma:widget/tools/bkshare/share",function(){window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:"2.0",jscfg:{domain:{staticUrl:"https://gss0.baidu.com/9rA4cT8aBw9FktbgoI7O1ygwehsv/"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function n(e,t){if(e instanceof Array){for(var n=0,s=e.length;s>n;n++)if(t.call(e[n],e[n],n)===!1)return}else for(var n in e)if(e.hasOwnProperty(n)&&t.call(e[n],e[n],n)===!1)return}function s(e,t){if(this.svnMod="",this.name=null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],s.cache[this.path]=this,t&&"."!==t.charAt(0)){var n=t.split(":");n.length>1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split("/js/")[0].substr(1)),this.type="js",this.getKey=function(){return this.svnMod+":"+this.name},this._info={}}function i(e,t){var n="css"==t,s=document.createElement(n?"link":"script");return s}function a(t,n,s){function a(){a.isCalled||(a.isCalled=!0,clearTimeout(d),s&&s())}var c=i(t,n);"SCRIPT"===c.nodeName?r(c,a):o(c,a);var d=setTimeout(function(){throw new Error("load "+n+" timeout : "+t)},e._loadScriptTimeout||1e4),h=document.getElementsByTagName("head")[0];"css"==n?(c.rel="stylesheet",c.href=t,h.appendChild(c)):(c.type="text/javascript",c.src=t,h.insertBefore(c,h.firstChild))}function r(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){if(e.onload=e.onerror=e.onreadystatechange=null,e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(s){}}e=void 0,t&&t()}}}function o(e,t){e.attachEvent?e.attachEvent("onload",t):setTimeout(function(){c(e,t)},0)}function c(e,t){if(!t||!t.isCalled){var n,s=navigator.userAgent,i=~s.indexOf("AppleWebKit"),a=~s.indexOf("Opera");if(i||a)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(r){("SecurityError"===r.name||"NS_ERROR_DOM_SECURITY_ERR"===r.name)&&(n=!0)}setTimeout(function(){n?t&&t():c(e,t)},1)}}var d="api";e.each=n,s.currentPath="",s.loadedPaths={},s.loadingPaths={},s.cache={},s.paths={},s.handlers=[],s.moduleFileMap={},s.requiredPaths={},s.lazyLoadPaths={},s.services={},s.isPathsLoaded=function(e){var t=!0;return n(e,function(e){return e in s.loadedPaths?void 0:t=!1}),t},s.require=function(e,t){e.search(":")<0&&(t||(t=d,s.currentPath&&(t=s.currentPath.split("/js/")[0].substr(1))),e=t+":"+e);var n=s.get(e,s.currentPath);if("css"!=n.type){if(n){if(!n._inited){n._inited=!0;var i,a=n.svnMod;(i=n.fn.call(null,function(e){return s.require(e,a)},n.exports,new _(n.name,a)))&&(n.exports=i)}return n.exports}throw new Error('Module "'+e+'" not found!')}},s.baseUrl=t?"/"==t[t.length-1]?t:t+"/":"/",s.getBasePath=function(e){var t,n;return-1!==(n=e.indexOf("/"))&&(t=e.slice(0,n)),t&&t in s.paths?s.paths[t]:s.baseUrl},s.getJsPath=function(t,n){if("."===t.charAt(0)){n=n.replace(/\/[^\/]+\/[^\/]+$/,""),0===t.search("./")&&(t=t.substr(2));var i=0;for(t=t.replace(/^(\.\.\/)+/g,function(e){return i=e.length/3,""});i>0;)n=n.substr(0,n.lastIndexOf("/")),i--;return n+"/"+t+"/"+t.substr(t.lastIndexOf("/")+1)+".js"}var a,r,o,c,h,l;if(t.search(":")>=0){var _=t.split(":");a=_[0],t=_[1]}else n&&(a=n.split("/")[1]);a=a||d;var u=/\.css(?:\?|$)/i.test(t);u&&e._useConfig&&s.moduleFileMap[a][t]&&(t=s.moduleFileMap[a][t]);var t=h=t,f=s.getBasePath(t);return-1!==(o=t.indexOf("/"))&&(r=t.slice(0,o),c=t.lastIndexOf("/"),h=t.slice(c+1)),r&&r in s.paths&&(t=t.slice(o+1)),l=f+a+"/js/"+t+".js"},s.get=function(e,t){var n=s.getJsPath(e,t);return s.cache[n]?s.cache[n]:new s(n,e)},s.prototype={load:function(){s.loadingPaths[this.path]=!0;var t=this.svnMod||d,n=window._bd_share_main.jscfg.domain.staticUrl+"static/"+t+"/",i=this,a=/\.css(?:\?|$)/i.test(this.name);this.type=a?"css":"js";var r="/"+this.type+"/"+s.moduleFileMap[t][this.name];if(n+=e._useConfig&&s.moduleFileMap[t][this.name]?this.type+"/"+s.moduleFileMap[t][this.name]:this.type+"/"+this.name+(a?"":".js"),e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&r==e._firstScreenJS)i._loaded=!0,i.ready();else{var o=(new Date).getTime();h.create({src:n,type:this.type,loaded:function(){i._info.loadedTime=(new Date).getTime()-o,"css"==i.type&&(i._loaded=!0,i.ready())}})}},lazyLoad:function(){this.name;if(s.lazyLoadPaths[this.getKey()])this.define(),delete s.lazyLoadPaths[this.getKey()];else{if(this.exist())return;s.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var i=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():i.push(e);else{if(s.loadedPaths[this.path]=!0,delete s.loadingPaths[this.path],this._loaded=!0,s.currentPath=this.path,this._readyStack&&this._readyStack.length>0){this._inited=!0;var a,r=this.svnMod;this.fn&&(a=this.fn.call(null,function(e){return s.require(e,r)},this.exports,new _(this.name,r)))&&(this.exports=a),n(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(n(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,i=(this.path,[]);t||(t=this.getDependents()),t.length?(n(t,function(t){i.push(s.getJsPath(t,e.path))}),n(t,function(t){var n=s.get(t,e.path);n.ready(function(){s.isPathsLoaded(i)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in s.loadedPaths||e in s.loadingPaths},getDependents:function(){var e=this.fn.toString(),t=e.match(/function\s*\(([^,]*),/i),s=new RegExp("[^.]\\b"+t[1]+"\\(\\s*('|\")([^()\"']*)('|\")\\s*\\)","g"),i=e.match(s),a=[];return i&&n(i,function(e,n){a[n]=e.substr(t[1].length+3).slice(0,-2)}),a}};var h={create:function(e){var t=e.src;t in this._paths||(this._paths[t]=!0,n(this._rules,function(e){t=e.call(null,t)}),a(t,e.type,e.loaded))},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version="1.0",e.use=function(e,t){"string"==typeof e&&(e=[e]);var i=[],a=[];n(e,function(e,t){a[t]=!1}),n(e,function(e,r){var o=s.get(e),c=o._loaded;o.ready(function(){var e=o.exports||{};e._INFO=o._info,e._INFO&&(e._INFO.isNew=!c),i[r]=e,a[r]=!0;var s=!0;n(a,function(e){return e===!1?s=!1:void 0}),t&&s&&t.apply(null,i)}),o.lazyLoad()})},e.module=function(e,t,n){var i=s.get(e);i.fn=t,i.deps=n,s.requiredPaths[i.getKey()]?i.define():s.lazyLoadPaths[i.getKey()]=!0},e.pathRule=function(e){h.addPathRule(e)},e._addPath=function(e,t){if("/"!==t.slice(-1)&&(t+="/"),e in s.paths)throw new Error(e+" has already in Module.paths");s.paths[e]=t};var l=d;e._setMod=function(e){l=e||d},e._fileMap=function(t,i){if("object"==typeof t)n(t,function(t,n){e._fileMap(n,t)});else{var a=l;"string"==typeof i&&(i=[i]),t=1==t.indexOf("js/")?t.substr(4):t,t=1==t.indexOf("css/")?t.substr(5):t;var r=s.moduleFileMap[a];r||(r={}),n(i,function(e){r[e]||(r[e]=t)}),s.moduleFileMap[a]=r}},e._eventMap={},e.call=function(t,n){for(var s=[],i=2,a=arguments.length;a>i;i++)s.push(arguments[i]);e.use(t,function(e){for(var t=n.split("."),i=0,a=t.length;a>i;i++)e=e[t[i]];e&&e.apply(this,s)})},e._setContext=function(e){"object"==typeof e&&n(e,function(e,t){_.prototype[t]=s.require(e)})},e._setContextMethod=function(e,t){_.prototype[e]=t};var _=function(e,t){this.modName=e,this.svnMod=t};return _.prototype={domain:window._bd_share_main.jscfg.domain,use:function(t,n){"string"==typeof t&&(t=[t]);for(var s=t.length-1;s>=0;s--)t[s]=this.svnMod+":"+t[s];e.use(t,n)}},e._Context=_,e.addLog=function(t,n){e.use("lib/log",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,s){e.use("lib/mod_evt",function(e){e.fire(t,n,s)})},e._defService=function(e,t){if(e){var i=s.services[e];i=i||{},n(t,function(e,t){i[t]=e}),s.services[e]=i}},e.getService=function(t,n,i){var a=s.services[t];if(!a)throw new Error(t+" mod didn't define any services");var r=a[n];if(!r)throw new Error(t+" mod didn't provide service "+n);e.use(t+":"+r,i)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module("base/min_tangram",function(e,t){var n={};n.each=function(e,t,n){var s,i,a,r=e.length;if("function"==typeof t)for(a=0;r>a&&(i=e[a],s=t.call(n||e,a,i),s!==!1);a++);return e};var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};n.extend=function(){for(var e=arguments[0],t=1,n=arguments.length;n>t;t++)s(e,arguments[t]);return e},n.domready=function(e,t){if(t=t||document,/complete/.test(t.readyState))e();else if(t.addEventListener)"interactive"==t.readyState?e():t.addEventListener("DOMContentLoaded",e,!1);else{var n=function(){n=new Function,e()};void function(){try{t.body.doScroll("left")}catch(e){return setTimeout(arguments.callee,10)}n()}(),t.attachEvent("onreadystatechange",function(){"complete"==t.readyState&&n()})}},n.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module("base/class",function(e,t){var n=e("base/min_tangram").T;t.BaseClass=function(){var e=this,t={};e.on=function(e,n){var s=t[e];s||(s=t[e]=[]),s.push(n)},e.un=function(e,s){if(!e)return void(t={});var i=t[e];i&&(s?n.each(i,function(e,t){return t==s?(i.splice(e,1),!1):void 0}):t[e]=[])},e.fire=function(s,i){var a=t[s];a&&(i=i||{},n.each(a,function(t,s){i._result=s.call(e,n.extend({_ctx:{src:e}},i))}))}};var s={};s.create=function(e,s){return s=s||t.BaseClass,function(){s.apply(this,arguments);var t=n.extend({},this);e.apply(this,arguments),this._super=t}},t.Class=s}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module("conf/const",function(e,t){t.CMD_ATTR="data-cmd",t.CONFIG_TAG_ATTR="data-tag",t.URLS={likeSetUrl:"http://like.baidu.com/set",commitUrl:"http://s.share.baidu.com/commit",jumpUrl:"http://s.share.baidu.com",mshareUrl:"http://s.share.baidu.com/mshare",emailUrl:"http://s.share.baidu.com/sendmail",nsClick:"http://nsclick.baidu.com/v.gif",backUrl:"http://s.share.baidu.com/back",shortUrl:"http://dwz.cn/v2cut.php"}}),!window._bd_share_is_recently_loaded&&function(){window._bd_share_main.F._setMod("api"),window._bd_share_main.F._fileMap({"/js/share.js?v=da893e3e.js":["conf/define","base/fis","base/tangrammin","base/class.js","conf/define.js","conf/const.js","config","share/api_base.js","view/view_base.js","start/router.js","component/comm_tools.js","trans/trans.js"],"/js/base/tangram.js?v=37768233.js":["base/tangram"],"/js/view/share_view.js?v=3ae6026d.js":["view/share_view"],"/js/view/slide_view.js?v=08373964.js":["view/slide_view"],"/js/view/like_view.js?v=df3e0eca.js":["view/like_view"],"/js/view/select_view.js?v=85fc7cec.js":["view/select_view"],"/js/trans/data.js?v=17af2bd2.js":["trans/data"],"/js/trans/logger.js?v=d16ec0e3.js":["trans/logger"],"/js/trans/trans_bdxc.js?v=7ac21555.js":["trans/trans_bdxc"],"/js/trans/trans_bdysc.js?v=fc21acaa.js":["trans/trans_bdysc"],"/js/trans/trans_weixin.js?v=080be124.js":["trans/trans_weixin"],"/js/share/combine_api.js?v=8d37a7b3.js":["share/combine_api"],"/js/share/like_api.js?v=d3693f0a.js":["share/like_api"],"/js/share/likeshare.js?v=e1f4fbf1.js":["share/likeshare"],"/js/share/share_api.js?v=226108fe.js":["share/share_api"],"/js/share/slide_api.js?v=ec14f516.js":["share/slide_api"],"/js/component/animate.js?v=5b737477.js":["component/animate"],"/js/component/anticheat.js?v=44b9b245.js":["component/anticheat"],"/js/component/partners.js?v=911c4302.js":["component/partners"],"/js/component/pop_base.js?v=36f92e70.js":["component/pop_base"],"/js/component/pop_dialog.js?v=d479767d.js":["component/pop_dialog"],"/js/component/pop_popup.js?v=4387b4e1.js":["component/pop_popup"],"/js/component/pop_popup_slide.js?v=b16a1f10.js":["component/pop_popup_slide"],"/js/component/qrcode.js?v=d69754a9.js":["component/qrcode"],"/css/share_style0_16.css?v=6aba13f0.css":["share_style0_16.css"],"/css/share_style0_32.css?v=4413acf0.css":["share_style0_32.css"],"/css/share_style2.css?v=611d4f74.css":["share_style2.css"],"/css/share_style4.css?v=cef2b8f3.css":["share_style4.css"],"/css/slide_share.css?v=9c50d088.css":["slide_share.css"],"/css/share_popup.css?v=240f357d.css":["share_popup.css"],"/css/like.css?v=d52a0ea5.css":["like.css"],"/css/imgshare.css?v=a7830602.css":["imgshare.css"],"/css/select_share.css?v=15f56735.css":["select_share.css"],"/css/weixin_popup.css?v=1a56666e.css":["weixin_popup.css"]}),window._bd_share_main.F._loadScriptTimeout=15e3,window._bd_share_main.F._useConfig=!0,window._bd_share_main.F._firstScreenCSS="",window._bd_share_main.F._firstScreenJS=""}(),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.use("base/min_tangram",function(e){function t(e,t,n){var s=new e(n);s.setView(new t(n)),s.init(),n&&n._handleId&&(_bd_share_main.api=_bd_share_main.api||{},_bd_share_main.api[n._handleId]=s)}function n(e,n){window._bd_share_main.F.use(e,function(e,s){i.isArray(n)?i.each(n,function(n,i){t(e.Api,s.View,i)}):t(e.Api,s.View,n)})}function s(e){var t=e.common||window._bd_share_config&&_bd_share_config.common||{},n={like:{type:"like"},share:{type:"share",bdStyle:0,bdMini:2,bdSign:"on"},slide:{type:"slide",bdStyle:"1",bdMini:2,bdImg:0,bdPos:"right",bdTop:100,bdSign:"on"},image:{viewType:"list",viewStyle:"0",viewPos:"top",viewColor:"black",viewSize:"16",viewList:["qzone","tsina","huaban","tqq","renren"]},selectShare:{type:"select",bdStyle:0,bdMini:2,bdSign:"on"}},s={share:{__cmd:"",__buttonType:"",__type:"",__element:null},slide:{__cmd:"",__buttonType:"",__type:"",__element:null},image:{__cmd:"",__buttonType:"",__type:"",__element:null}};return i.each(["like","share","slide","image","selectShare"],function(a,r){e[r]&&(i.isArray(e[r])&&e[r].length>0?i.each(e[r],function(a,o){e[r][a]=i.extend({},n[r],t,o,s[r])}):e[r]=i.extend({},n[r],t,e[r],s[r]))}),e}var i=e.T;_bd_share_main.init=function(e){if(e=e||window._bd_share_config||{share:{}}){var t=s(e);t.like&&n(["share/like_api","view/like_view"],t.like),t.share&&n(["share/share_api","view/share_view"],t.share),t.slide&&n(["share/slide_api","view/slide_view"],t.slide),t.selectShare&&n(["share/select_api","view/select_view"],t.selectShare),t.image&&n(["share/image_api","view/image_view"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),i.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use("trans/logger",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module("component/comm_tools",function(e,t){var n=function(){var e=window.location||document.location||{};return e.href||""},s=function(e,t){for(var n=e.length,s="",i=1;t>=i;i++){var a=Math.floor(n*Math.random());s+=e.charAt(a)}return s},i=function(){var e=(+new Date).toString(36),t=s("0123456789abcdefghijklmnopqrstuvwxyz",3);return e+t};t.getLinkId=i,t.getPageUrl=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module("trans/trans",function(e,t){var n=e("component/comm_tools"),s=e("conf/const").URLS,i=function(){window._bd_share_main.F.use("base/tangram",function(e){var t=e.T;null==t.cookie.get("bdshare_firstime")&&t.cookie.set("bdshare_firstime",1*new Date,{path:"/",expires:(new Date).setFullYear(2022)-new Date})})},a=function(e){var t=e.bdUrl||n.getPageUrl();return t=t.replace(/\'/g,"%27").replace(/\"/g,"%22")},r=function(e){var t=(new Date).getTime()+3e3,s={click:1,url:a(e),uid:e.bdUid||"0",to:e.__cmd,type:"text",pic:e.bdPic||"",title:(e.bdText||document.title).substr(0,300),key:(e.bdSnsKey||{})[e.__cmd]||"",desc:e.bdDesc||"",comment:e.bdComment||"",relateUid:e.bdWbuid||"",searchPic:e.bdSearchPic||0,sign:e.bdSign||"on",l:window._bd_share_main.n1.toString(32)+window._bd_share_main.n2.toString(32)+t.toString(32),linkid:n.getLinkId(),firstime:c("bdshare_firstime")||""};switch(e.__cmd){case"copy":h(s);break;case"print":l();break;case"bdxc":_();break;case"bdysc":u(s);break;case"weixin":f(s);break;default:o(e,s)}window._bd_share_main.F.use("trans/logger",function(t){t.commit(e,s)})},o=function(e,t){var n=s.jumpUrl;"mshare"==e.__cmd?n=s.mshareUrl:"mail"==e.__cmd&&(n=s.emailUrl);var i=n+"?"+d(t);window.open(i)},c=function(e){if(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n)return decodeURIComponent(n[2]||null)}},d=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&").replace(/%20/g,"+")},h=function(e){window._bd_share_main.F.use("base/tangram",function(t){var s=t.T;s.browser.ie?(window.clipboardData.setData("text",document.title+" "+(e.bdUrl||n.getPageUrl())),alert("标题和链接复制成功，您可以推荐给QQ/MSN上的好友了！")):window.prompt("您使用的是非IE核心浏览器，请按下 Ctrl+C 复制代码到剪贴板",document.title+" "+(e.bdUrl||n.getPageUrl()))})},l=function(){window.print()},_=function(){window._bd_share_main.F.use("trans/trans_bdxc",function(e){e&&e.run()})},u=function(e){window._bd_share_main.F.use("trans/trans_bdysc",function(t){t&&t.run(e)})},f=function(e){window._bd_share_main.F.use("trans/trans_weixin",function(t){t&&t.run(e)})},p=function(e){r(e)};t.run=p,i()})});
;/*!wiki-lemma:static/tools/bkshare.js*/
var $=require("wiki-common:widget/lib/jquery/jquery"),BaikeShare=function(){var i={common:{bdText:"自定义分享内容",bdDesc:"自定义分享摘要",bdUrl:"自定义分享url地址",bdPic:"自定义分享图片"},share:[{bdSize:16}]};window._bd_share_config=i,this.setCommon=function(e){window._bd_share_config.common=e?e:i.common},this.regist=function(i){window._bd_share_config.share.push(i)},this.load=function(){require("wiki-lemma:widget/tools/bkshare/share")}};window.BKShare||(window.BKShare=new BaikeShare,$(document).bind("ready",function(){window.BKShare.load()}));
;/*!wiki-lemma:static/tools/scriptLazyLoad.js*/
var $=require("wiki-common:widget/lib/jquery/jquery"),Linker=function(){var e={isHeader:!0},n={isTailer:!0};this.appendNode=function(t){e.next||(e.next=t,t.prev=e),n.prev?(n.prev.next=t,t.prev=n.prev,n.prev=t,t.next=n):(n.prev=t,t.next=n)},this.deleteNode=function(e){e.prev.next=e.next,e.next.prev=e.prev},this.hasNode=function(){return!!e.next&&!e.next.isTailer},this.iterator=function(){var n=e;return{next:function(){return ret=n.next,ret&&!ret.isTailer&&ret.next?(n=n.next,ret):null}}}},JavaScriptLazyLoad=function(){var e=new Linker,n=null,t=function(){for(var n=e.iterator(),t=n.next();t;)i(t),t=n.next()},i=function(e){if(e.dom&&e.loadFunc){var n=e.dom.offset().top,t=$(window).scrollTop()+$(window).height(),i="undefined"!=typeof e.distance?e.distance:200;!e.dom.is(":hidden")&&i>=n-t&&(r(e),e.loadFunc())}},r=function(n){e.deleteNode(n),e.hasNode()||$(window).unbind("scroll",d)};this.regist=function(n){return e.appendNode(n),n},this.unregist=function(){};var o=function(){$(window).bind("scroll click",d),$(document).ready(function(){d()})},d=function(){n&&clearTimeout(n),n=setTimeout(t,200)};o()};window.ScriptLazyLoad||(window.ScriptLazyLoad=new JavaScriptLazyLoad);
;/*!wiki-lemma:widget/tools/announcement/announcement.js*/
define("wiki-lemma:widget/tools/announcement/announcement",function(n,e,o){var t=n("wiki-common:widget/lib/jquery/jquery"),i=n("wiki-common:widget/lib/jsmart/jsmart"),a=n("wiki-common:widget/util/cookie");o.exports=function(n){"1"!=a.get("home_announcement_hidden")&&n.show&&(t(".header-wrapper .header").append(t(".header .layout").append(new i('<div id="announcement">\n<div class="announcement_content">{%$data.content|f_escape_xml%}</div>\n<div class="announcement_close">X</div>\n</div>').fetch(n))),t("#announcement .announcement_close").click(function(){a.set("home_announcement_hidden","1",{expires:2592e5,path:"/"}),t("#announcement").remove()}))}});
;/*!wiki-lemma:widget/tools/bkclick/bkclick.js*/
define("wiki-lemma:widget/tools/bkclick/bkclick",function(e,c){var i=e("wiki-common:widget/lib/jquery/jquery"),s={pc_guesslike_request:"pc_guesslike_request",pc_guesslike_success:"pc_guesslike_success",pc_guesslike_fail:"pc_guesslike_fail",pc_guesslike_view:"pc_guesslike_view",pc_guesslike_click:"pc_guesslike_click"};c.bklog=function(e){s[e]||console.log("error:请输入logKey");var c="/api/common/bkclick";i.ajax({type:"GET",url:c,cache:!1,data:{type:s[e]}})}});
;/*!wiki-lemma:widget/tools/rangeExt/rangeExt.js*/
define("wiki-lemma:widget/tools/rangeExt/rangeExt",function(e,n,t){function o(){}function r(e,n){e=e.duplicate(),e.collapse(n);for(var t,o=e.parentElement(),r=o.childNodes,a=-1,i=0;i<r.length;i++){var c=r[i];if(1==c.nodeType){var l=e.duplicate();l.moveToElementText(c);var f=l.compareEndPoints("StartToStart",e),s=l.compareEndPoints("EndToStart",e);if(f>0)break;if(0===f||1===s&&-1===f)return{container:r[i-1],offset:r[i-1].nodeValue.length};if(0===s)return{container:o,offset:i+1};t=l,a=i}}t?t.collapse(!1):(t=e.duplicate(),t.moveToElementText(o),t.collapse(!0)),t.setEndPoint("EndToEnd",e);for(var d=t.text.replace(/(\r\n|\r)/g,"\n").length,g=0,u=a+1;u<r.length&&(g=d,d-=r[u].length,!(0>=d));u++);return 0==d?{container:r[0],offset:r[0].length}:{container:r[u],offset:g}}{var a=e("wiki-common:widget/lib/jquery/jquery");e("wiki-lemma:widget/tools/rangeExt/rangeExt")}o.prototype={constructor:o};var i=null,c=[];a("body").on("mouseup",function(e){if(window.getSelection){var n=window.getSelection().toString();if(n!==i){i=n;for(var t in c)c[t](e)}}else if(document.selection){var n=document.selection.createRange().text;if(n!==i){i=n;for(var t in c)c[t](e)}}}),t.exports={Rangy:o,onSelectionChange:function(e){c.push(e)},clearSelection:function(){if(window.getSelection&&window.getSelection().removeAllRanges(),document.selection){var e=document.selection.createRange();e.collapse(!0),e.select()}},getSelectionRangy:function(){if(window.getSelection){var e=window.getSelection();if(e.isCollapsed||1!==e.rangeCount)return;if(e.getRangeAt)var n=e.getRangeAt(0);else{var n=document.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset)}var t=new o;return t.startContainer=n.startContainer,t.startOffset=n.startOffset,t.endContainer=n.endContainer,t.endOffset=n.endOffset,t.collapsed=n.collapsed,t.commonAncestorContainer=n.commonAncestorContainer,t}if(document.selection){var e=document.selection.createRange();if(!e||!e.boundingWidth)return;var a=r(e,!0),i=r(e,!1),t=new o;return t.startContainer=a.container,t.startOffset=a.offset,t.endContainer=i.container,t.endOffset=i.offset,t.collapsed=!e.boundingWidth,t.commonAncestorContainer=e.parentElement(),t}}}});
;/*!wiki-lemma:widget/tools/label/label.js*/
define("wiki-lemma:widget/tools/label/label",function(e,t,n){function a(e){var e=e,t="";do switch(e.nodeType){case 1:var n=o(e),a=e.tagName.toLowerCase()+(n?'[label-module="'+n+'"]':""),r=0;if(n)var d=f("body").find(a);else var d=f(e).parent().children(a);d.each(function(t){f(this).get(0)===e&&(r=t)}),t=a+":eq("+r+") "+t,e=e.parentNode;break;case 3:t=f(e).index()+" "+t,e=e.parentNode;break;default:e=e.parentNode}while(9!==e.nodeType&&!n);return f.trim(t)}function o(e){var e=e;if(1===e.nodeType){var t=e.attributes;for(var n in t)if(t[n].nodeName&&"label-module"==t[n].nodeName.toLowerCase())return t[n].nodeName&&t[n].nodeValue}return!1}function r(e){for(var t=[],e=e;9!==e.nodeType;){var n=o(e);n&&t.push(e),e=e.parentNode}return t.length?t[t.length-1]:null}function d(){return f("<span>").addClass("label-wrap")}function l(e,t,n,a,o){var a=a||0,o=o||0,r=!1,d=!1,l=function(e){if(d)return[];var t=[];if(1===e.nodeType)for(var n in e.childNodes)t=t.concat(arguments.callee(e.childNodes[n]));else 3===e.nodeType&&(e===f&&(d=!0),r&&!d&&(u+=e.nodeValue,t.push(e)),e===c&&(r=!0),r||d||(i+=e.nodeValue.length));return t},s=function(e){if(d)return[];var t=[];if(1===e.nodeType)for(var n in e.childNodes)t=t.concat(arguments.callee(e.childNodes[n],i,p));else 3===e.nodeType&&(b+=e.nodeValue.length,b>=i+p&&(d=!0,f=e,o=e.nodeValue.length-(b-(i+p))),r&&!d&&t.push(e),!r&&b>i&&(r=!0,c=e,a=e.nodeValue.length-(b-i)));return t};if("object"==typeof t){var i=a,u="",c=t,f=n,m=l(e,c,f);return u=c!=f?c.nodeValue.substring(a)+u+f.nodeValue.substring(0,o):c.nodeValue.substring(a,o),{offset:i,length:u.length,text:u,nodeList:m}}var i=t,p=n,b=0,c=null,f=null,m=s(e,i,p);return{startNode:c,endNode:f,startOffset:a,endOffset:o,nodeList:m}}function s(e){if(e instanceof N.Rangy){var t={startNode:e.startContainer||nuill,startOffset:e.startOffset||0,endNode:e.endContainer||null,endOffset:e.endOffset||0};t.commonAncestorNode=1===e.commonAncestorContainer.nodeType?e.commonAncestorContainer:e.commonAncestorContainer.parentNode,a(t.startNode).indexOf("label-module")<0&&(t.errno=11,t.errMsg="该模块无法标注！");for(var n=t.startNode;n.parentNode!=t.commonAncestorNode&&f.inArray(n.parentNode.tagName.toLowerCase(),["a","span","em","strong","i","sup","sub"])<0;)if(n=n.parentNode,f.inArray(t.endNode,f(n).find("*").get())<0){t.errno=12,t.errMsg="无法为跨段落内容标注！";break}if(f.inArray(t.startNode.parentNode,f('[label-wrapper=""]').find("*").get())<0&&(t.errno=1,t.errMsg="非标注区！"),t.errMsg)return t;t.moduleNode=r(t.startNode),t.moduleName=f(t.moduleNode).attr("label-module"),t.modulePath=a(t.moduleNode),t=f.extend(t,l(t.moduleNode,t.startNode,t.endNode,t.startOffset,t.endOffset))}else{var t=e;t=f.extend(t,l(t.moduleNode,t.offset,t.length))}return t}function i(e){var t=[];for(var n in e.nodeList){var a=d();t.push(a),f(e.nodeList[n]).wrap(a)}if(e.startNode!==e.endNode){var o=d();t.push(o);var r=e.startNode.nodeValue.substring(e.startOffset);e.startNode.nodeValue=e.startNode.nodeValue.substring(0,e.startOffset),f(e.startNode).after(o.text(r));var l=d();t.push(l);var r=e.endNode.nodeValue.substring(0,e.endOffset);e.endNode.nodeValue=e.endNode.nodeValue.substring(e.endOffset),f(e.endNode).before(l.text(r))}else{var o=d();t.push(o);var r=e.startNode.nodeValue.substring(e.startOffset,e.endOffset),s=e.startNode.nodeValue.substring(e.endOffset);e.startNode.nodeValue=e.endNode.nodeValue.substring(0,e.startOffset),f(e.startNode).after(f(document.createTextNode(s))).after(o.text(r))}return o.html(o.html().replace(/^(\S)/,'<span class="label-wrap-initial">$1</span>')),[t,o.find(".label-wrap-initial").get(0)]}function u(e,t){var n=i(e),a=n[0],o=n[1],r=f(o).offset(),d=f('<div class="label-path-container">').css({left:r.left-Math.max((document.documentElement.clientWidth-1139)/2,0)+15,top:r.top-5,width:1139-(r.left-Math.max((document.documentElement.clientWidth-1139)/2,0))-30-120});d.append(f("<div>").addClass("label-horizontal")),d.append(f("<div>").addClass("label-block")),d.appendTo(f(".desk-wrapper .layout"));var l=f('<div class="label-comment-container">').css({top:r.top-15}).append(f("<div>").append((t?"":'<a class="delete-comment" href="javascript:;"><em class="cmn-icon cmn-icons cmn-icons_close"></em></a><a class="modify-comment" href="javascript:;"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_pencil"></em></a>')+"<b>-- 批注</b><br/>").append(f("<div>").text(e.comment)));return l.appendTo(f(".desk-wrapper .layout")),N.clearSelection(),[f(a),l]}function c(e,t,n,a){new b({classNames:"label-dialog",content:'<div><div class="dialog-title">'+(t?"修改":"添加")+"批注<br/></div><textarea></textarea></div>",btns:[{text:"确认"},{style:"white",text:"取消"}],onBtnClick:function(n){var o=f(f(this).get(0).node).find("textarea").val();"0"===n&&o&&(t?m(a,[o],window):(e.comment=o,m(v,[f.extend(e,{comment:o}),u(e)],window)))}}).show(),t&&f(".label-dialog textarea").val(n)}var f=e("wiki-common:widget/lib/jquery/jquery"),m=e("wiki-common:widget/util/safeCall"),p=(e("wiki-common:widget/util/browser"),e("wiki-common:widget/ui/bubble/bubble")),b=e("wiki-common:widget/ui/dialog/dialog"),N=e("wiki-lemma:widget/tools/rangeExt/rangeExt"),g=f("<i>").css({position:"absolute",left:0,top:0,width:0,height:0});g.appendTo(f(".desk-wrapper .layout"));var h=new p({host:g,classNames:"label-bubble",content:"",pos:"topRight",offset:{top:-15,left:30},showTail:!1,hideWhenBlur:!0,animation:"SLIDE"});$bubble=h.getNode();var v="";n.exports={addLabel:function(e,t){var n=N.getSelectionRangy();if(n&&!n.collapsed){var a=s(n);setTimeout(function(){g.css({left:e.clientX-Math.max((document.documentElement.clientWidth-1139)/2,0),top:e.clientY+f(window).scrollTop()}),a.errno?a.errno>10&&(h.setContent("<div>"+a.errMsg+"</div>"),h.show()):(h.setContent('<a href="javascript:;" class="cmn-btn-blue cmn-btn-25 add-label">标注</a>'),f(".add-label").on("click",function(){c(a)}),h.show())},200),t&&(v=t)}},modifyLabel:function(e,t){c(null,!0,e,t)},showLabel:function(e,t){var e=s(e);return u(e,t)}}});
;/*!wiki-lemma:widget/tools/lazyLoad/lazyLoad.js*/
define("wiki-lemma:widget/tools/lazyLoad/lazyLoad",function(t,e,r){var A=t("wiki-common:widget/lib/jquery/jquery"),a=function(t){t=t||{},t.preloadHeight=t.preloadHeight||0,t.className=t.className||"lazy-img",t.placeHolder=t.placeHolder||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==",t.srcAttribute=t.srcAttribute||"data-src";var e=function(){return A(window).scrollTop()+A(window).height()+t.preloadHeight},r=function(){for(var a=A("img."+t.className),o=e(),i=0;i<a.length;i++)target=a.eq(i),target.attr("src")!==t.placeHolder&&target.attr("src",t.placeHolder),imgSrc=target.attr(t.srcAttribute),target.offset().top<o&&(target.attr("src",imgSrc).removeClass(t.className).removeAttr(t.srcAttribute),!!t.onLazyLoad&&t.onLazyLoad(target));A("img."+t.className).length<=0&&A(window).off("scroll resize",r)},a=function(){A(document).ready(function(){r(),A(window).on("scroll resize",r)})};a()};r.exports=a});
;/*!wiki-lemma:widget/tools/marquee/marquee.js*/
define("wiki-lemma:widget/tools/marquee/marquee",function(t,i,e){function o(t){this.viewport=c(t.viewport),this.btnBox=c(t.btnBox),this.picList=c("ul.maqueeCanvas",this.viewport),this.autoScroll=t.autoScroll||!1,this.stopScroll=!1,this.cloneNode="boolean"==typeof t.cloneNode?t.cloneNode:!1,this.scrollDirection=t.scrollDirection||"HOR";var i=c(">li",this.picList);this.picWidth=i.outerWidth(!0),this.picHeight=i.outerHeight(!0),this.picCount=i.length,this.curFrame=0,this.beforeSwitch=t.beforeSwitch,this.afterSwitch=t.afterSwitch,this.duration=t.duration,this.delay=t.delay;var e=this;this.cloneNode&&c("li",this.picList).clone().appendTo(this.picList),this.btnBox&&this.btnBox.on("click","[frameIndex]",function(){e.stop.call(e),e.switchTo(c(this).attr("frameIndex"))}).on("mouseenter",function(){e.stop.call(e)}).on("mouseleave",function(){e.autoScroll&&e.start.call(e)}),this.viewport.on("mouseenter",function(){e.stop.call(e)}).on("mouseleave",function(){e.autoScroll&&e.start.call(e)})}var c=t("wiki-common:widget/lib/jquery/jquery");o.prototype={constructor:o,start:function(){var t=this;t.stopScroll=!1,t.scrollTimer||(t.scrollTimer=setTimeout(function(){t.scrollTimer=null,t.picList.animate("HOR"==t.scrollDirection?{left:"-="+t.picWidth}:{top:"-="+t.picHeight},{duration:t.duration||400,queue:!1,start:function(){t.curFrame=++t.curFrame%t.picCount,c("[frameIndex].cur",t.btnBox).removeClass("cur"),c("[frameIndex]:nth-child("+(t.curFrame+1)+")",t.btnBox).addClass("cur"),t.beforeSwitch&&t.beforeSwitch.call(t,t.curFrame)},complete:function(){t.picList.css("HOR"==t.scrollDirection?{left:-t.curFrame*t.picWidth}:{top:-t.curFrame*t.picHeight}),t.autoScroll&&!t.stopScroll&&t.start.call(t),t.afterSwitch&&t.afterSwitch.call(t,t.curFrame)}})},t.delay||3e3))},stop:function(){clearTimeout(this.scrollTimer),this.scrollTimer=null,this.stopScroll=!0},switchTo:function(t){var i=this;t=Math.max(Math.min(t,i.picCount-1),0),i.picList.animate("HOR"==i.scrollDirection?{left:-t*i.picWidth}:{top:-t*i.picHeight},{duration:i.duration||400,queue:!1,start:function(){i.curFrame=t%i.picCount,c("[frameIndex].cur",i.btnBox).removeClass("cur"),c("[frameIndex]:nth-child("+(i.curFrame+1)+")",i.btnBox).addClass("cur"),i.beforeSwitch&&i.beforeSwitch.call(i,i.curFrame)},complete:function(){i.picList.css("HOR"==i.scrollDirection?{left:-t*i.picWidth}:{top:-t*i.picHeight}),i.afterSwitch&&i.afterSwitch.call(i,i.curFrame)}})}},e.exports=o});
;/*!wiki-lemma:widget/tools/newSideShare/qrcode.js*/
define("wiki-lemma:widget/tools/newSideShare/qrcode",function(t,e,r){var o;!function(){function t(t){this.mode=l.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;r>e;e++){var o=[],n=this.data.charCodeAt(e);n>65536?(o[0]=240|(1835008&n)>>>18,o[1]=128|(258048&n)>>>12,o[2]=128|(4032&n)>>>6,o[3]=128|63&n):n>2048?(o[0]=224|(61440&n)>>>12,o[1]=128|(4032&n)>>>6,o[2]=128|63&n):n>128?(o[0]=192|(1984&n)>>>6,o[1]=128|63&n):o[0]=n,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function n(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}function a(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function h(t,e){for(var r=1,o=u(t),n=0,i=m.length;i>=n;n++){var a=0;switch(e){case g.L:a=m[n][0];break;case g.M:a=m[n][1];break;case g.Q:a=m[n][2];break;case g.H:a=m[n][3]}if(a>=o)break;r++}if(r>m.length)throw new Error("Too long data");return r}function u(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;r>e;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var o=-1;7>=o;o++)-1>=e+o||this.moduleCount<=e+o||(this.modules[t+r][e+o]=r>=0&&6>=r&&(0==o||6==o)||o>=0&&6>=o&&(0==r||6==r)||r>=2&&4>=r&&o>=2&&4>=o?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=d.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r),n=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*n,s=0;s<this.modules[i].length;s++){var h=s*n,u=this.modules[i][s];u&&(o.beginFill(0,100),o.moveTo(h,a),o.lineTo(h+n,a),o.lineTo(h+n,a+n),o.lineTo(h,a+n),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=d.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;2>=i;i++)for(var a=-2;2>=a;a++)this.modules[o+i][n+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=d.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=d.getBCHTypeInfo(r),n=0;15>n;n++){var i=!t&&1==(o>>n&1);6>n?this.modules[n][8]=i:8>n?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(var n=0;15>n;n++){var i=!t&&1==(o>>n&1);8>n?this.modules[8][this.moduleCount-n-1]=i:9>n?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[o][a-s]){var h=!1;i<t.length&&(h=1==(t[i]>>>n&1));var u=d.getMask(e,o,a-s);u&&(h=!h),this.modules[o][a-s]=h,n--,-1==n&&(i++,n=7)}if(o+=r,0>o||this.moduleCount<=o){o-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,o){for(var a=n.getRSBlocks(t,r),s=new i,h=0;h<o.length;h++){var u=o[h];s.put(u.mode,4),s.put(u.getLength(),d.getLengthInBits(u.mode,t)),u.write(s)}for(var l=0,h=0;h<a.length;h++)l+=a[h].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l)&&(s.put(e.PAD0,8),!(s.getLengthInBits()>=8*l));)s.put(e.PAD1,8);return e.createBytes(s,a)},e.createBytes=function(t,e){for(var o=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),h=0;h<e.length;h++){var u=e[h].dataCount,l=e[h].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),a[h]=new Array(u);for(var g=0;g<a[h].length;g++)a[h][g]=255&t.buffer[g+o];o+=u;var f=d.getErrorCorrectPolynomial(l),c=new r(a[h],f.getLength()-1),p=c.mod(f);s[h]=new Array(f.getLength()-1);for(var g=0;g<s[h].length;g++){var m=g+p.getLength()-s[h].length;s[h][g]=m>=0?p.get(m):0}}for(var v=0,g=0;g<e.length;g++)v+=e[g].totalCount;for(var _=new Array(v),C=0,g=0;n>g;g++)for(var h=0;h<e.length;h++)g<a[h].length&&(_[C++]=a[h][g]);for(var g=0;i>g;g++)for(var h=0;h<e.length;h++)g<s[h].length&&(_[C++]=s[h][g]);return _};for(var l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},g={L:1,M:0,Q:3,H:2},f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;d.getBCHDigit(e)-d.getBCHDigit(d.G15)>=0;)e^=d.G15<<d.getBCHDigit(e)-d.getBCHDigit(d.G15);return(t<<10|e)^d.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;d.getBCHDigit(e)-d.getBCHDigit(d.G18)>=0;)e^=d.G18<<d.getBCHDigit(e)-d.getBCHDigit(d.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return d.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case f.PATTERN000:return(e+r)%2==0;case f.PATTERN001:return e%2==0;case f.PATTERN010:return r%3==0;case f.PATTERN011:return(e+r)%3==0;case f.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case f.PATTERN101:return e*r%2+e*r%3==0;case f.PATTERN110:return(e*r%2+e*r%3)%2==0;case f.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;t>o;o++)e=e.multiply(new r([1,c.gexp(o)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;e>o;o++)for(var n=0;e>n;n++){for(var i=0,a=t.isDark(o,n),s=-1;1>=s;s++)if(!(0>o+s||o+s>=e))for(var h=-1;1>=h;h++)0>n+h||n+h>=e||(0!=s||0!=h)&&a==t.isDark(o+s,n+h)&&i++;i>5&&(r+=3+i-5)}for(var o=0;e-1>o;o++)for(var n=0;e-1>n;n++){var u=0;t.isDark(o,n)&&u++,t.isDark(o+1,n)&&u++,t.isDark(o,n+1)&&u++,t.isDark(o+1,n+1)&&u++,(0==u||4==u)&&(r+=3)}for(var o=0;e>o;o++)for(var n=0;e-6>n;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(var n=0;e>n;n++)for(var o=0;e-6>o;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);for(var l=0,n=0;e>n;n++)for(var o=0;e>o;o++)t.isDark(o,n)&&l++;var g=Math.abs(100*l/e/e-50)/5;return r+=10*g}},c={glog:function(t){if(1>t)throw new Error("glog("+t+")");return c.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;8>p;p++)c.EXP_TABLE[p]=1<<p;for(var p=8;256>p;p++)c.EXP_TABLE[p]=c.EXP_TABLE[p-4]^c.EXP_TABLE[p-5]^c.EXP_TABLE[p-6]^c.EXP_TABLE[p-8];for(var p=0;255>p;p++)c.LOG_TABLE[c.EXP_TABLE[p]]=p;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<t.getLength();n++)e[o+n]^=c.gexp(c.glog(this.get(o))+c.glog(t.get(n)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=c.glog(this.get(0))-c.glog(t.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(var n=0;n<t.getLength();n++)o[n]^=c.gexp(c.glog(t.get(n))+e);return new r(o,0).mod(t)}},n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,e){var r=n.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,i=[],a=0;o>a;a++)for(var s=r[3*a+0],h=r[3*a+1],u=r[3*a+2],l=0;s>l;l++)i.push(new n(h,u));return i},n.getRsBlockTable=function(t,e){switch(e){case g.L:return n.RS_BLOCK_TABLE[4*(t-1)+0];case g.M:return n.RS_BLOCK_TABLE[4*(t-1)+1];case g.Q:return n.RS_BLOCK_TABLE[4*(t-1)+2];case g.H:return n.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],v=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&r.setAttribute(o,e[o]);return r}{var r=this._htOption,o=this._el,n=t.getModuleCount();Math.floor(r.width/n),Math.floor(r.height/n)}this.clear();var i=e("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:r.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(i),i.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;n>a;a++)for(var s=0;n>s;s++)if(t.isDark(a,s)){var h=e("use",{x:String(a),y:String(s)});h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(h)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),_="svg"===document.documentElement.tagName.toLowerCase(),C=_?v:a()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var o=document.createElement("img"),n=function(){r._bSupportDataURI=!1,r._fFail&&_fFail.call(r)},i=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)};return o.onabort=n,o.onerror=n,o.onload=i,void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}r._bSupportDataURI===!0&&r._fSuccess?r._fSuccess.call(r):r._bSupportDataURI===!1&&r._fFail&&r._fFail.call(r)}if(this._android&&this._android<=2.1){var r=1/window.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,e,n,i,a,s,h,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*r;else"undefined"==typeof u&&(arguments[1]*=r,arguments[2]*=r,arguments[3]*=r,arguments[4]*=r);o.apply(this,arguments)}}var n=function(t,e){this._bIsPainted=!1,this._android=s(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,n=t.getModuleCount(),i=o.width/n,a=o.height/n,s=Math.round(i),h=Math.round(a);e.style.display="none",this.clear();for(var u=0;n>u;u++)for(var l=0;n>l;l++){var g=t.isDark(u,l),f=l*i,d=u*a;r.strokeStyle=g?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=g?o.colorDark:o.colorLight,r.fillRect(f,d,i,a),r.strokeRect(Math.floor(f)+.5,Math.floor(d)+.5,s,h),r.strokeRect(Math.ceil(f)-.5,Math.ceil(d)-.5,s,h)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},n}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),n=Math.floor(e.width/o),i=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;o>s;s++){a.push("<tr>");for(var h=0;o>h;h++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+i+"px;background-color:"+(t.isDark(s,h)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),r.innerHTML=a.join("");var u=r.childNodes[0],l=(e.width-u.offsetWidth)/2,g=(e.height-u.offsetHeight)/2;l>0&&g>0&&(u.style.margin=g+"px "+l+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();o=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:g.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new C(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},o.prototype.makeCode=function(t){this._oQRCode=new e(h(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},o.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},o.prototype.clear=function(){this._oDrawing.clear()},o.CorrectLevel=g}(),r.exports=o});
;/*!wiki-lemma:widget/tools/newSideShare/qzopensl.js*/
define("wiki-lemma:widget/tools/newSideShare/qzopensl",function(){!function(){function e(){if(!f){if(!d.body)return setTimeout(e,1);f=!0,e.callBack()}}function t(t){function n(){try{h.doScroll("left")}catch(t){return void setTimeout(n,10)}e()}if(e.callBack=t,"complete"===d.readyState)return setTimeout(e,1);if(d.addEventListener)d.addEventListener("DOMContentLoaded",function(){d.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1),u.addEventListener("load",e,!1);else if(d.attachEvent){d.attachEvent("onreadystatechange",function(){"complete"===d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),e())}),u.attachEvent("onload",e);var r=!1;try{r=null==u.frameElement}catch(o){}r&&h.doScroll&&n()}else u.onload=e}function n(e){var t,n=o(d,"script"),r=[];for(t=0;t<n.length;t++){var a=n[t].src;a.search(e)>=0&&r.push(n[t])}return r}function r(e,t){return e.getElementsByTagName(t)}function o(e,t,n,o){for(var a,i=r(e,t),c=0,s=[],l=[],d="function"==typeof o,h=0;h<i.length;h++)l.push(i[h]);for(;a=l[c];c++)n&&-1==a.className.search(new RegExp("\\b"+n+"\\b"))||(s.push(a),d&&o(a));return s}function a(e){var t=e.indexOf("?");t&&(e=e.substring(t+1)),t=e.indexOf("#"),t&&(e=e.substring(t+1));for(var n=e.split("&"),r={},o=0;o<n.length;o++){var a=n[o].split("=");r[a[0]]=a[1]}return r}function i(e,t){t=t||location.href;var n=new RegExp("(\\?|#|&)"+e+"=([^&#]*)(&|#|$)"),r=t.match(n);return r?r[2]:""}function c(e){e&&(p=a(e.src))}function s(e){c(n(/\/qzlike\/qzopensl\.js/)[0]);var t=(e.pathname||"").toLowerCase(),r=e.search,o=i("width",r)||p.width||130,a=i("height",r)||p.height||30,s="",l=i("style",r)||p.style||"",h=i("showcount",r)||p.showcount||"";s=i("otype",r)||(-1!=t.indexOf("cgi-bin/qzshare/cgi_qzshare_onekey")?"share":-1!=t.indexOf("cgi-bin/qzshare/cgi_qzshare_likeurl")?"like":"");var u=[i("style",r)?"":"&style="+l,i("otype",r)?"":"&otype="+s,i("showcount",r)?"":"&showcount="+h].join(""),f=d.createElement("div");f.innerHTML=['<iframe version="1.0" src="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_likeurl',e.search,e.search?"":"?url="+encodeURIComponent(location.href),u,'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:',o,"px; height:",a,'px;" allowTransparency="true"></iframe>'].join(""),e.parentNode.replaceChild(f.firstChild,e),f=null}function l(){var e=d.createElement("script"),t=d.getElementsByTagName("head"),n=t&&t[0];e.src="https://tajs.qq.com/qc.php?dm="+location.host,e.type="text/javascript",e.charset="utf-8",(n||d.body).appendChild(e)}var d=document,h=d.documentElement,u=window,f=!1,p={};"undefined"!=typeof u.qzOpener&&qzOpener.inited||(u.qzOpener=u.qzOpener||{},qzOpener.setAttr=function(e){if("object"==typeof e)for(var t in e)qzOpener[t]=e[t]},qzOpener.inited=!0,t(function(){o(d,"a","qzOpenerDiv",s),u.__tencent_adtag__||(setTimeout(l,3e3),u.__tencent_adtag__=!0)}))}()});
;/*!wiki-lemma:widget/tools/newSideShare/sideShare.js*/
define("wiki-lemma:widget/tools/newSideShare/sideShare",function(e,n,i){var o=(e("wiki-common:widget/lib/jquery/jquery"),{});o.initBaikeShare=function(e,n,i,o,t,a){var c;o=encodeURIComponent(o),i=encodeURIComponent(i),t=encodeURIComponent(t),a=encodeURIComponent(a);var r="",s="",m="【"+n+"_百度百科】"+i,p="【"+n+"_百度百科】";switch(""!==t&&(r="&pic="+t),""!==a&&(s="&pics="+a),e){case"weibo":c="http://v.t.sina.com.cn/share/share.php?url="+o+"&title="+m+r+"&appkey=936491597";break;case"Qzone":c="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+o+"&title="+p+s+"&summary="+i;break;case"qq":c="http://connect.qq.com/widget/shareqq/index.html?url="+o+"&title="+p+s+"&summary="+i}window.open(c)},i.exports=o});
;/*!wiki-lemma:widget/tools/newSideShare/taskSideShare.js*/
define("wiki-lemma:widget/tools/newSideShare/taskSideShare",function(a,e,i){var r=a("wiki-lemma:widget/tools/newSideShare/sideShare"),t=a("wiki-lemma:widget/tools/newSideShare/qrcode"),c=(a("wiki-common:widget/component/nslog/nslog"),{init:function(a){var e=this;e.param=a,e.param.pic=e.param.pic||"https://bkssl.bdimg.com/cms/static/baike.png",e.param.qqPic=e.param.qqPic||"https://bkssl.bdimg.com/cms/static/baike.png",e.param.title=e.param.title||$("title").html(),e.param.desc=e.param.desc.length>80?e.param.desc.substr(0,80)+"...":e.param.desc,e.shareEvent()},shareEvent:function(){var a=this.param.url||[location.protocol,"//",location.host,location.pathname].join(""),e=".baidu.com/link";if(a.indexOf(e)>-1){var i=""!==this.param.newLemmaId?"/"+this.param.newLemmaId:"";a=[location.protocol,"//",location.host,"/item/"+encodeURIComponent(this.param.lemmaTitle)+i].join("")}var c=a.indexOf("share_fr=pc_");if(c>-1)var a=a.replace(/\??\&?share\_fr\=pc\_[a-z]+/g,"");var o=a.indexOf("?");if(-1!=o)var n=[a+"&share_fr=pc_sina",a+"&share_fr=pc_qq",a+"&share_fr=pc_qzone"];else var n=[a+"?share_fr=pc_sina",a+"?share_fr=pc_qq",a+"?share_fr=pc_qzone"];var p=this,s=!0;$("#side-share,#top-share").on("click",".bds_wechat",function(){if(s){var e=new t(document.getElementById("wechat-qrcode-img"),{width:180,height:180}),i=a.indexOf("?");if(i>-1)var r=a+"&share_fr=pc_qrcode";else var r=a+"?share_fr=pc_qrcode";e.makeCode(r),s=!1}$(".qrcode-wrapper").show()}),$(".qrcode-wrapper .cmn-icons_close").click(function(){$(".qrcode-wrapper").hide()}),$("#side-share,#top-share").on("click",".bds_tsina",function(a){a.preventDefault();var e=n[0];r.initBaikeShare("weibo",p.param.title,p.param.desc,e,p.param.pic)}),$("#side-share,#top-share").on("click",".bds_qzone",function(a){a.preventDefault();var e=n[2];r.initBaikeShare("Qzone",p.param.title,p.param.desc,e,p.param.pic,p.param.qqPic)}),$("#side-share,#top-share").on("click",".bds_tqq",function(a){a.preventDefault();var e=n[1];r.initBaikeShare("qq",p.param.title,p.param.desc,e,p.param.pic,p.param.qqPic)})}});i.exports=c});
;/*!wiki-lemma:widget/tools/rightCheck/rightCheck.js*/
define("wiki-lemma:widget/tools/rightCheck/rightCheck",function(e,i,t){var n=e("wiki-common:widget/lib/jquery/jquery"),a=e("wiki-common:widget/util/safeCall"),o=(e("wiki-common:widget/component/userLogin/userLogin"),{editView:{status:null,data:null}});t.exports={editView:function(e,i){var e=e||0,i=i||function(){};if(e)if(o.editView.status)if("PENDING"==o.editView.status)var t=setInterval(function(){"READY"==o.editView.status&&(clearInterval(t),a(i,o.editView.data))},100);else a(i,o.editView.data);else{o.editView.status="PENDING";var t=setInterval(function(){window.baikeInfo&&window.baikeInfo.userLogin&&(clearInterval(t),window.baikeInfo.userLogin.isLogin?n.getJSON("/wikisubmit/api/viewcheck?lemmaId="+e,function(e){o.editView.data=e,o.editView.status="READY",a(i,o.editView.data)}):(o.editView.data={errno:10001},o.editView.status="READY",a(i,o.editView.data)))},100)}},preeditCheck:function(e,i,t,o,d,w){var e=e||0,i=i||"",t=t||"",o=o||0,d=d||"",w=w||function(){};e&&i&&o&&n.getJSON("/wikisubmit/api/preeditcheck?lemmaId="+e+"&lemmaTitle="+encodeURIComponent(i)+"&lemmaDesc="+encodeURIComponent(t)+"&versionId="+o+"&action="+d+"&_="+Math.random(),function(e){a(w,e)})}}});
;/*!wiki-lemma:widget/tools/service/service.js*/
define("wiki-lemma:widget/tools/service/service",function(e,t,o){var l=e("wiki-common:widget/lib/jquery/jquery"),n={};n.Vote={voteCount:0,newvoteCount:0,voted:!1,itemList:[],vote:function(e){n.Vote.voted||l.ajax({url:"https://gss3.bdstatic.com/8LsBaXSm2Q5IlBGlnYG/set",dataType:"jsonp",jsonp:"cb",data:{type:0,like:1,pid:3,key:e.newLemmaId,r:Math.random()},success:function(e){n.Vote.voted=!0;for(var t=0;t<n.Vote.itemList.length;t++){var o=n.Vote.itemList[t];!!o.handleVotted&&o.handleVotted(e)}}})},getVote:function(e){if(0==n.Vote.voteCount)l.ajax({url:"https://gss3.bdstatic.com/8LsBaXSm2Q5IlBGlnYG/get?key="+e.lemmaId+"&type=0&like=1&pid=3&random="+Math.random(),dataType:"jsonp",jsonp:"cb",success:function(t){n.Vote.voteCount=t.count,n.Vote.getNewVote(e)}});else for(var t=0;t<n.Vote.itemList.length;t++){var o=n.Vote.itemList[t];!!o.handleGotten&&o.handleGotten({count:data.count})}},getNewVote:function(e){l.ajax({url:"https://gss3.bdstatic.com/8LsBaXSm2Q5IlBGlnYG/get?key="+e.newLemmaId+"&type=0&like=1&pid=3&random="+Math.random(),dataType:"jsonp",jsonp:"cb",success:function(e){n.Vote.newvoteCount=n.Vote.voteCount+e.count;for(var t=0;t<n.Vote.itemList.length;t++){var o=n.Vote.itemList[t];!!o.handleGotten&&o.handleGotten(e)}}})},regist:function(e){n.Vote.itemList.push(e)}},n.Collect={collected:null,collectTK:"",isGotRequesting:!1,itemList:[],getCollect:function(e){if(null==n.Collect.collected)1!=n.Collect.isGotRequesting&&(n.Collect.isGotRequesting=!0,l.getJSON("/api/usercenter/checkfavorites?lemmaId="+e.newLemmaId,function(e){if(n.Collect.isGotRequesting=!1,0==e.errno){n.Collect.collected=1==e.isFavorite?!0:!1,n.Collect.collectTK=e.tk;for(var t=0;t<n.Collect.itemList.length;t++){var o=n.Collect.itemList[t];!!o.handleGotten&&o.handleGotten(e)}}}));else for(var t=0;t<n.Collect.itemList.length;t++){var o=n.Collect.itemList[t];!!o.handleGotten&&o.handleGotten({has:n.Collect.collected})}},collect:function(e){n.Collect.collected||l.getJSON("/api/usercenter/addfavorites?lemmaId="+e.newLemmaId+"&tk="+n.Collect.collectTK+"&r="+Math.random(),function(e){if(0==e.errno){n.Collect.collected=!0;for(var t=0;t<n.Collect.itemList.length;t++){var o=n.Collect.itemList[t];!!o.handleCollected&&o.handleCollected(e)}}})},cancel:function(e){n.Collect.collected&&l.getJSON("/api/usercenter/delfavorites?lemmaId="+e.newLemmaId+"&tk="+n.Collect.collectTK+"&r="+Math.random(),function(e){if(0==e.errno){n.Collect.collected=!1;for(var t=0;t<n.Collect.itemList.length;t++){var o=n.Collect.itemList[t];!!o.handleCanceled&&o.handleCanceled(e)}}})},regist:function(e){n.Collect.itemList.push(e)}},o.exports=n});
;/*!wiki-lemma:widget/tools/searchHeader/toolButtons-n/toolButtons.js*/
define("wiki-lemma:widget/tools/searchHeader/toolButtons-n/toolButtons",function(t,e,o){var n=t("wiki-common:widget/lib/jquery/jquery"),i=t("wiki-common:widget/component/userLogin/userLogin"),l=t("wiki-lemma:widget/tools/service/service"),c=n(".toolButtons-collect"),s=(n(".toolButtons-edit"),function(){c.addClass("collected")}),a=function(){c.removeClass("collected")},d=function(t){var e=null,o=function(){n.getJSON("/api/wikiui/sharecounter?lemmaId="+t.newLemmaId+"&method=get",function(t){e=t.tk})};o(),n(".top-vote").on("click",function(){n(this).hasClass("voted")||n.ajax({type:"get",url:"/api/wikiui/sharecounter?lemmaId="+t.newLemmaId+"&method=add&type=like&tk="+e,dataType:"json",success:function(t){n(".top-vote").addClass("voted"),n(".vote-count").text(t.count),n(".toolButtons-vote").addClass("voted").find(".j-tool-btn-vote-num").text(t.count),n("#figurePraise").addClass("voted"),n("#figurePraise .txt").text("已赞")}})}),c.on("click",function(){var e=n(this);i.checkIfLogin({onLogin:function(){e.hasClass("collected")?l.Collect.cancel(t):l.Collect.collect(t)},onUnlogin:function(){i.showLoginPop()}})}),l.Collect.regist({handleCollected:s,handleCanceled:a,handleGotten:function(t){!!t.isFavorite&&s()}}),i.regist({handleLogon:function(){l.Collect.getCollect(t)}})};o.exports=d});
;/*!wiki-lemma:widget/tools/searchHeader/toolButtons-n/userInfo.js*/
define("wiki-lemma:widget/tools/searchHeader/toolButtons-n/userInfo",function(n,o,e){var i=n("wiki-common:widget/lib/jquery/jquery"),t=n("wiki-common:widget/component/userLogin/userLogin"),r=function(){var n=i(".lemmaWgt-searchHeader .user-link");t.checkIfLogin({onLogin:function(o){n.attr("href","/usercenter").text(o.name),window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin=o},onUnlogin:function(){window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin={errno:0,isLogin:!1},n.on("click",function(){t.showLoginPop()})}}),t.regist({handleLogon:function(o){n.attr("href","/usercenter").text(o.name)}})};e.exports=r});
;/*!wiki-lemma:widget/tools/searchHeader/toolButtons/toolButtons.js*/
define("wiki-lemma:widget/tools/searchHeader/toolButtons/toolButtons",function(t,o,e){var n=t("wiki-common:widget/lib/jquery/jquery"),i=t("wiki-common:widget/component/userLogin/userLogin"),l=t("wiki-lemma:widget/tools/service/service"),c=n(".toolButtons-collect"),s=(n(".toolButtons-edit"),function(){c.addClass("collected")}),a=function(){c.removeClass("collected")},d=function(t){n(".top-vote").on("click",function(){n(this).hasClass("voted")||n.ajax({type:"get",url:"/api/wikiui/sharecounter?lemmaId="+t.newLemmaId+"&method=add&type=like",dataType:"json",success:function(t){n(".top-vote").addClass("voted"),n(".vote-count").text(t.count),n(".toolButtons-vote").addClass("voted").text(t.count),n("#figurePraise").addClass("voted"),n("#figurePraise .txt").text("已赞")}})}),c.on("click",function(){var o=n(this);i.checkIfLogin({onLogin:function(){o.hasClass("collected")?l.Collect.cancel(t):l.Collect.collect(t)},onUnlogin:function(){i.showLoginPop()}})}),l.Collect.regist({handleCollected:s,handleCanceled:a,handleGotten:function(t){!!t.isFavorite&&s()}}),l.Vote.getVote(t),i.regist({handleLogon:function(){l.Collect.getCollect(t)}})};e.exports=d});
;/*!wiki-lemma:widget/tools/searchHeader/toolButtons/userInfo.js*/
define("wiki-lemma:widget/tools/searchHeader/toolButtons/userInfo",function(n,o,e){var i=n("wiki-common:widget/lib/jquery/jquery"),t=n("wiki-common:widget/component/userLogin/userLogin"),r=function(){var n=i(".lemmaWgt-searchHeader .user-link");t.checkIfLogin({onLogin:function(o){n.attr("href","/usercenter").text(o.name),window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin=o},onUnlogin:function(){window.baikeInfo=window.baikeInfo||{},window.baikeInfo.userLogin={errno:0,isLogin:!1},n.on("click",function(){t.showLoginPop()})}}),t.regist({handleLogon:function(o){n.attr("href","/usercenter").text(o.name)}})};e.exports=r});
;/*!wiki-lemma:widget/tools/tool/tool.js*/
define("wiki-lemma:widget/tools/tool/tool",function(e,o,t){var n=e("wiki-common:widget/lib/jquery/jquery"),a={};a.callByBrowser=function(e,o){var t,a=this.url,i=document.createElement("SCRIPT"),l=0,r=o||{},d=(r.charset,e||function(){}),u=r.timeOut||0;i.onload=i.onreadystatechange=function(){if(!l){var e=i.readyState;if("undefined"==typeof e||"loaded"==e||"complete"==e){l=1;try{d(),clearTimeout(t)}finally{i.onload=i.onreadystatechange=null,n(i).remove()}}}},u&&(t=setTimeout(function(){i.onload=i.onreadystatechange=null,n(i).remove(),r.onfailure&&r.onfailure()},u)),n(i).attr("src",a).appendTo(document.body)},t.exports=a});
;/*!wiki-lemma:widget/tools/video/flashVideo/flashVideo.js*/
define("wiki-lemma:widget/tools/video/flashVideo/flashVideo",function(e,o,i){var t=e("wiki-common:widget/lib/jquery/jquery"),s=e("wiki-common:widget/lib/swfObject/swfObject"),n=function(e,o,i,a){var d="https://get.adobe.com/cn/flashplayer",l="j-flash-video"+n.count,c="j-flash-video-placeholder"+n.count;n.count++,options=t.extend({width:0,height:0,src:"",target:null,className:""},e||{}),a=t.extend({},a||{}),o=t.extend({allowscriptaccess:"always",wmode:"Opaque",allowfullscreen:"true"},o||{}),i=t.extend({"class":"flash-video j-flash-video "+options.className,id:l},i||{}),this.load=function(){options.target.append(t("<div id='"+c+"'></div>")),s.embedSWF(options.src,c,options.width,options.height,10,d,a,o,i)},this.remove=function(){t("#"+l).remove()}};n.count=0,i.exports=n});
;/*!wiki-lemma:widget/tools/video/iframeVideo/iframeVideo.js*/
define("wiki-lemma:widget/tools/video/iframeVideo/iframeVideo",function(e,i,o){var r=e("wiki-common:widget/lib/jquery/jquery"),t=function(e){var i='<iframe frameborder="0" scrolling="no"></iframe>',o=r(".j-iframe-video-cover"),t=r.extend({src:"",width:0,height:0,coverUrl:null,target:null},e),d=null,o=r('<div class="iframe-video-cover"></div>');this.load=function(){d=r(i),d.css({width:t.width,height:t.height}),o.css({width:t.width,height:t.height,background:"url("+t.coverUrl+") no-repeat 0px 0px",position:"absolute","z-index":"1"}),d.bind("load",function(){o.hide()}),o.appendTo(t.target),d.attr("src",t.src),d.appendTo(t.target)},this.remove=function(){d.remove(),o.remove()}};o.exports=t});
;/*!wiki-lemma:widget/tools/video/iqiyiVideo/iqiyiVideo.js*/
define("wiki-lemma:widget/tools/video/iqiyiVideo/iqiyiVideo",function(i,e,o){var t=i("wiki-common:widget/lib/jquery/jquery"),a=i("wiki-lemma:widget/tools/video/flashVideo/flashVideo"),n=function(i){function e(){window.notice=function(i){if(i="string"==t.type(i)?t.parseJSON(i):i,"playStateChange"==i.type)switch(i.data.state){case"Playing":!!o&&o.hide();break;case"Stoped":}}}var o=i.cover,n=this,d=!1;o&&o.length>0&&(i.src=i.src+"&autoPlay=1",e(),o.click(function(){i.videoCount>1&&e(),d||(n.load(),t(o).find(".svm-cover-button").addClass("svm-loding"),d=!0)})),a.call(this,i)};n.count=0,o.exports=n});
;/*!wiki-lemma:widget/tools/video/pageMask/pageMask.js*/
define("wiki-lemma:widget/tools/video/pageMask/pageMask",function(i,n,e){var t=i("wiki-common:widget/lib/jquery/jquery"),d=function(){var i='<div class="page-mask j-page-mask" style="display:none" id="dvPageMask"></div>',n=null,e=this,d=function(){return n||(n=t(i),n.appendTo(t(document.body))),n},o=function(){},a=function(){},c=function(){e.hide()};this.enableClickHide=function(){d().bind("click",c)},this.disableClickHide=function(){d().unbind("click",c)},this.display=function(){d().show(),a()},this.hide=function(){d().hide(),o()}};e.exports=new d});
;/*!wiki-lemma:widget/tools/video/video.js*/
define("wiki-lemma:widget/tools/video/video",function(i,e,o){var l=i("wiki-lemma:widget/tools/video/iframeVideo/iframeVideo"),t=i("wiki-lemma:widget/tools/video/iqiyiVideo/iqiyiVideo"),d=i("wiki-lemma:widget/tools/video/flashVideo/flashVideo"),a=function(i){i.type;"iqiyi"==i.type?t.call(this,i):"flash"==i.type?d.call(this,i):l.call(this,i)};o.exports=a});
;/*!wiki-lemma:widget/basicElement/addSub/addSub.js*/
define("wiki-lemma:widget/basicElement/addSub/addSub",function(e,i,a){function t(e){var i="";window.location.href.indexOf("fr=createForeign")>-1&&(i='<input type="hidden" name="fr" value="createForeign" />'),this.dialog=new n({classNames:"add-sub-dialog",title:'添加义项描述<a href="https://baike.baidu.com/view/10811633.htm" target="_blank">义项命名规则</a>',content:'<div class="add-sub">                          <div class="content-inner">                              <div class="tip">您需要给原有的义项和新增加的义项都写一个“义项描述”，让读者能分清楚同名的两个事物。</div>                              <div class="example">                                  <div class="example-tit">示例</div>                                  <div class="example-show">                                      <ul>                                          <li class="show-li clearfix"><div class="tit">词条名</div><div class="content">环太平洋</div></li>                                          <li class="show-li clearfix"><div class="tit">原有义项描述</div><div class="content">地理区域</div></li>                                          <li class="show-li clearfix"><div class="tit">新增义项描述</div><div class="content">2013年美国科幻电影</div></li>                                      </ul>                                  </div>                              </div>                              <form action="/createsub/'+encodeURIComponent(e)+'" method="get">                                  <div class="form-item name-lemma clearfix"><label for="">词条名</label><input type="text" value="'+e+'" disabled="disabled">'+i+'</div>                                  <div class="form-item clearfix"><label for="">原有义项描述(不大于20字)</label><input type="text" value="" name="ori_desc"></div>                                  <div class="form-item clearfix"><label for="">新增义项描述(不大于20字)</label><input type="text" value="" name="desc"></div>                                  <div class="form-item form-notice"><strong>[注意]</strong>如果原义项中已经罗列了多个义项的内容，那么建议您不要直接添加义项，而是<a href="http://tieba.baidu.com/p/4152042379" target="_blank">报告未拆分多义词。</a></div>                                  <div class="add-sub-main-footer"><input type="submit" class="add-sub-main-button add-sub-main-accept" value="确定"><span class="add-sub-main-button add-sub-main-cancel">取消</span></div>                              </form>                          </div>                      </div>'}),this.show=function(){this.dialog.show()},this.close=function(){this.dialog.hide()},this.close();var a=this;l(document.body).on("click",".add-sub-close",function(){a.close()}),l(document.body).on("click",".add-sub-main-cancel",function(){a.close()}),l(document.body).on("click",".add-sub-main-accept",function(e){var i=l('.add-sub input[name="ori_desc"]'),a=l('.add-sub input[name="desc"]'),t=l(".add-sub .name-lemma input").val(),n=l.trim(i.val()),s=l.trim(a.val()),d=!0;return n?s?n.length>20||s.length>20?(alert("义项名不能超过20字!"),d=!1):n===s?(alert("原有义项描述和新义项描述不能一致!"),d=!1):t===n?(alert("原义项描述不能等于词条名!"),d=!1):t===s&&(alert("新义项描述不能等于词条名!"),d=!1):(alert("未输入新义项描述!"),d=!1):(alert("未输入原义项描述!"),d=!1),d?(n=n.replace(/\n\r\t/gi,""),s=s.replace(/\n\r\t/gi,""),i.attr("value",n),void a.attr("value",s)):(e.preventDefault(),!1)})}var l=e("wiki-common:widget/lib/jquery/jquery"),n=e("wiki-common:widget/ui/dialog/dialog"),s=e("wiki-common:widget/component/userLogin/userLogin"),d=e("wiki-lemma:widget/tools/rightCheck/rightCheck"),o=e("wiki-common:widget/component/unameFiller/unameFiller"),c=function(e){var e=e,i=e.lemmaId||0,a=e.lemmaTitle||"",c=e.lemmaDesc||"",r=e.versionId||0,m=e.subLemmaId||0,u=new t(a);l(document.body).on("click",".add-sub-icon, .lemmaWgt-lemmaTitle .add-subLemma",function(){d.preeditCheck(i,a,c,r,"createsub",function(e){if(0==m)return void(window.location.href=window.location.href.indexOf("fr=createForeign")>-1?"/createsub/"+encodeURIComponent(a)+"?fr=createForeign":"/createsub/"+encodeURIComponent(a));if(e.errno)switch(e.errno){case 100001:s.showLoginPop();break;case 100006:o.show();break;case 100005:alert("对不起，您目前被封禁");break;case 110001:alert("对不起，该词条被锁定");break;case 110007:alert("对不起，消歧页无法编辑");break;case 110005:case 110008:n.alert({title:"添加义项",subMsg:"对不起，您暂时没有权限为该词条添加义项。"});break;case 110003:n.alert({title:"错误",subMsg:"当前有用户正在编辑该词条，请稍候再试"});break;case 470001:alert("系统错误，请刷新重试")}else{if(!e.data.right.noAudit)return void n.alert({title:"编辑提示",subMsg:"很抱歉，该词条有其他用户编辑的版本正在提交，您暂时无法添加义项。<br/>百科建议您晚些时候再尝试添加义项，或者尝试编辑其他的词条。"});u.show()}})})};a.exports=c});
;/*!wiki-lemma:widget/basicElement/collect/collect.js*/
define("wiki-lemma:widget/basicElement/collect/collect",function(e,o,t){var l=e("wiki-common:widget/lib/jquery/jquery"),c=e("wiki-common:widget/component/userLogin/userLogin"),n=e("wiki-lemma:widget/tools/service/service"),i=l(".top-collect"),s=l(".collect-text"),a=l(".collect-tip"),u=!1,d=null,m=function(){i.addClass("collected"),s.text("已收藏"),u=!0},r=function(){i.removeClass("collected"),s.text("收藏"),u=!1},g=function(){d&&clearTimeout(d),d=setTimeout(function(){a.hide()},300)},f=function(){u&&(d&&clearTimeout(d),a.show())};t.exports=function(e){i.on("click",function(o){var t=window.event||o,s=t.target||t.srcElement;(l(s).hasClass("collect-text")||l(s).hasClass("wiki-lemma-icons_star-solid"))&&c.checkIfLogin({onLogin:function(){i.hasClass("collected")?n.Collect.cancel(e):n.Collect.collect(e)},onUnlogin:function(){c.showLoginPop()}})}),i.on("mouseover",f).on("mouseout",g),c.regist({handleLogon:function(){n.Collect.getCollect(e)}}),n.Collect.regist({handleCollected:m,handleCanceled:r,handleGotten:function(e){!!e.isFavorite&&m()}})}});
;/*!wiki-lemma:widget/basicElement/commonModulePager/commonModulePager.js*/
define("wiki-lemma:widget/basicElement/commonModulePager/commonModulePager",function(e,i,a){var s=e("wiki-common:widget/lib/jquery/jquery"),l=function(e){var i=e,a=0,l=i.pageNumber,n=i.container,d=n.find(".cmp-prev"),t=n.find(".cmp-next"),c=n.find(".cmp-default"),o=n.find(".cmp-all"),f=this;this.prev=function(){this.skipTo(a-1)},this.next=function(){this.skipTo(a+1)},this.skipTo=function(e){if(!(e>l||0>=e)){a=e;var s=n.find(".cmp-index");s.removeClass("selected"),n.find("[data-index='"+e+"']").addClass("selected"),d.removeClass("disabled"),t.removeClass("disabled"),1==e&&d.addClass("disabled"),e==l&&t.addClass("disabled"),!!i.handlePageChange&&i.handlePageChange(e)}},this.displayDefault=function(){return c.hasClass("selected")?void this.skipTo(a):(n.find(".cmp-page").show(),o.removeClass("selected"),c.addClass("selected"),void(!!i.handleDisplayDefault&&i.handleDisplayDefault()))},this.displayAll=function(){o.hasClass("selected")||(n.find(".cmp-page").hide(),c.removeClass("selected"),o.addClass("selected"),!!i.handleDisplayAll&&i.handleDisplayAll())};var p=function(){a=1,d.on("click",function(){f.prev()}),t.on("click",function(){f.next()}),o.on("click",function(){f.displayAll()}),c.on("click",function(){f.displayDefault()}),n.find(".cmp-index").on("click",function(){var e=parseInt(s(this).attr("data-index"));f.skipTo(e)}),f.displayDefault()};p()};a.exports=l});
;/*!wiki-lemma:widget/basicElement/modulePager/modulePager.js*/
define("wiki-lemma:widget/basicElement/modulePager/modulePager",function(a,e,n){var s=a("wiki-common:widget/lib/jquery/jquery");n.exports=function(a){var e={total:0,handleNext:null,handlePrev:null};s.extend(e,a);var n=['<div class="module-pager">','<span><em class="index">1</em>/',e.total,"</span>",'<a href="javascript:;" class="pTag prev disabled">','<em class="cmn-icon cmn-icons cmn-icons_arrow-l-2"></em></a>','<a href="javascript:;" class="pTag next">','<em class="cmn-icon cmn-icons cmn-icons_arrow-r-2"></em></a>',"</div>"].join("");1===e.total&&(n="");var t=s(n),i=1,d=t.find(".index"),l=t.find(".next"),r=t.find(".prev"),o=this,c=function(a){1>=a?r.addClass("disabled"):r.removeClass("disabled"),a>=e.total?l.addClass("disabled"):l.removeClass("disabled"),e.total<=1&&(l.addClass("disabled"),r.addClass("disabled"))},m=function(){t.on("click",function(a){var e=s(a.target);e.hasClass("cmn-icon")&&(e=e.parent()),e.hasClass("next")?o.next():e.hasClass("prev")&&o.prev()})};this.next=function(){var a=parseInt(t.find(".index").text(),10)||1;a>=e.total||(d.text(++a),c(a),!!e.handleNext&&e.handleNext(a))},this.prev=function(){var a=parseInt(t.find(".index").text(),10)||1;1>=a||(d.text(--a),c(a),!!e.handlePrev&&e.handlePrev(a))},this.appendTo=function(a){t.appendTo(a),m()},c(i)}});
;/*!wiki-lemma:widget/basicElement/personalIcon/personalIcon.js*/
define("wiki-lemma:widget/basicElement/personalIcon/personalIcon",function(e){function n(e){var n=i('<a href="'+e+'" target="_blank"></a>'),o=n.get(0),t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),o.dispatchEvent(t),n.remove()}var i=e("wiki-common:widget/lib/jquery/jquery"),o=e("wiki-common:widget/ui/dialog/dialog"),t=e("wiki-common:widget/component/userLogin/userLogin"),a=e("wiki-common:widget/component/nslog/nslog"),r=10090001,m={get:function(e){return i.ajax({url:"/api/personal/getuserlemma",type:"GET",dataType:"json",async:!1,data:e})}},l=i(".J-personalTip");i(".J-personal-icon").on("click",function(){a(r);var e=i(this).attr("data-href");o.confirm({title:"信息提示",subMsg:"只能词条本人实名验证，您确定该词条是您本人吗？",onConfirm:function(){m.get({}).then(function(i){var a=parseInt(i.errno,10);if(100001===a)return void t.showLoginPop();if(2013===a)return void o.alert({title:"信息提示",subMsg:"由于您本人的实名验证内容累计两次被用户举报虚假，验证已永久取消，账号被封禁不可再验证。"});if(2004===a)return void o.alert({title:"信息提示",subMsg:"很抱歉，该词条有其他用户的版本正在提交，您暂时无法提交。"});if(2015===a&&o.confirm({title:"信息提示",subMsg:"您当前存在未完成的实名验证申请，请您继续完成申请。",onConfirm:function(){n("/personal/modify?id="+i.personalId)}}),0===a){if(!i.data.lemmaId)return void n(e);e="/wikisubmit/personallemmaeditload?lemmaId="+i.data.lemmaId+"&lemmaTitle="+i.data.lemmaTitle,o.confirm({title:"信息提示",subMsg:"你已经完成实名认证，可以对本人实名词条进行编辑。",onConfirm:function(){n(e)}})}},function(){})}})}).mousemove(function(){l.fadeIn()}).mouseleave(function(){l.hide()}),l.mousemove(function(){l.show()}).mouseleave(function(){l.hide()})});
;/*!wiki-lemma:widget/basicElement/pinyin/fmp.js*/
define("wiki-lemma:widget/basicElement/pinyin/fmp",function(t,e,a){var i=!1;try{i=external.max_version}catch(n){}Utils={g:function(t){return document.getElementById(t)},f:function(t){this.g(t.cid).innerHTML=this.fm(this.b.isIE?'<object id="#{id}" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="#{width}" height="#{height}" align="#{align}"><param name="movie" value="#{movie}" /><param name="allowScriptAccess" value="#{allowScriptAccess}" /><param name="allowNetworking" value="#{allowNetworking}" /><param name="flashVars" value="#{flashVars}" /><param name="wmode" value="#{wmode}" /><param name="scale" value="#{scale}" /><param name="salign" value="#{salign}" /></object>':'<embed id="#{id}" src="#{movie}" allowScriptAccess="#{allowScriptAccess}" allowNetworking="#{allowNetworking}" flashVars="#{flashVars}" width="#{width}" height="#{height}" align="#{align}" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" wmode="#{wmode}" scale="#{scale}" salign="#{salign}" />',t)},fm:function(t,e){if(arguments.length)if("object"==typeof e)t=t.replace(/#\{([^\{\}]+)\}/g,function(t,a){var i=e[a];return"function"==typeof i&&(i=i(a)),"undefined"==typeof i?"":i});else if("undefined"!=typeof e)for(var a=arguments.length-2;a>-1;a--)t=t.replace(new RegExp("#\\{"+a+"\\}","g"),arguments[a+1]);return t},b:{isIE:/msie/i.test(navigator.userAgent),isFF:/firefox/i.test(navigator.userAgent),isMaxthon:i},mo:function(){for(var t={},e=arguments.length,a=0;e>a;a++){var i=arguments[a];for(var n in i)null==t[n]&&(t[n]=arguments[a][n])}return t}},FMP={g:Utils.g,f:Utils.f,b:Utils.b,fm:Utils.fm,_flash:null,loaded:!1,cfg:{cid:"fmp_flash_div",id:"fmp_flash",width:100,height:100,align:"middle",movie:"flash/fmp.swf?v=090105a",allowScriptAccess:"always",allowNetworking:"all",salign:"lt",wmode:"window",scale:"noscale",flashVars:"_instanceName=FMP"},load:function(){this.b.isMaxthon&&(this.cfg.movie+="&r="+Math.random()),this.f(this.cfg)},getUrl:function(){this._flash._getVar("url")},setUrl:function(t){this._flash._setVar("url",t)},getVolume:function(){return 100*this._flash._getVar("volume")},setVolume:function(t){this._flash._setVar("volume",t/100)},getMute:function(){this._flash._getVar("mute")},setMute:function(t){this._flash._setVar("mute",t)},getCurrentPosition:function(){return this._flash._getVar("currentPosition")/1e3},setCurrentPosition:function(t){this._flash._setVar("currentPosition",1e3*t)},getDuration:function(){return this._flash._getVar("duration")/1e3},getDownloadProgress:function(){return 100*this._flash._getVar("downloadProgress")},play:function(){this._flash._play()},pause:function(){this._flash._pause()},stop:function(){this._flash._stop()},_onLoad:function(){this.loaded=!0,this._flash=this.g(this.cfg.id),this.onLoad&&this.onLoad()},_onPlayStateChange:function(t){this.onPlayStateChange&&this.onPlayStateChange(t)}},a.exports=FMP});
;/*!wiki-lemma:widget/basicElement/pinyin/lemmaPinyin.js*/
define("wiki-lemma:widget/basicElement/pinyin/lemmaPinyin",function(e,n,i){var t=e("wiki-common:widget/lib/jquery/jquery"),a={};a.play=function(e){var n=e.lemmaTitle,i=e.pinyin,t=i.replace(/,|，/g," , ").replace(/\s+/g," ").split(" "),a=-1,c=n.replace(/[^(\u4E00-\u9FFF)]/g,""),l=c.replace(/\S/g,function(e){return a++,e+"("+t[a]+")"}),o="https://gss0.baidu.com/6KAZsjip0QIZ8tyhnq/text2audio?tex="+encodeURIComponent(l)+"&cuid=baike&lan=ZH&ctp=1&pdt=31&vol=9&spd=4",p=document.getElementById("audio");p.src=o,p.oncanplay=function(){p.play()}};var c=function(e){t("#j-pinyin-speak").on("click",function(){a.play(e)})};i.exports=c});
;/*!wiki-lemma:widget/basicElement/slidePager/slidePager.js*/
define("wiki-lemma:widget/basicElement/slidePager/slidePager",function(e,i,a){var s=e("wiki-common:widget/lib/jquery/jquery"),d=function(e){var i=e,a=['<div class="slide-pager">','<a class="slidePager-prev disabled"></a>','<ul class="slidePager-list">',"</ul>",'<a class="slidePager-next"></a>',"</div>"].join(""),d=s(a),l=0,n=d.find(".slidePager-list"),t=this,r=function(e){return s('<li class="slidePager-item" data-index="'+e+'">●</li>')};this.prev=function(){this.skipTo(l-1)},this.next=function(){this.skipTo(l+1)},this.skipTo=function(e){if(!(0>e||e>=i.total)){l=e,d.find("li").removeClass("selected"),d.find("[data-index='"+e+"']").addClass("selected"),!!i.handlePageChange&&i.handlePageChange(e);var a=d.find(".slidePager-prev"),s=d.find(".slidePager-next");a.removeClass("disabled"),s.removeClass("disabled"),0==l?a.addClass("disabled"):l+1==i.total&&s.addClass("disabled")}};var o=function(){l=0,d.on("click",".slidePager-prev",function(){t.prev()}),d.on("click",".slidePager-next",function(){t.next()}),d.on("click",".slidePager-list li",function(){var e=parseInt(s(this).attr("data-index"));t.skipTo(e)});for(var e=0;e<i.total;e++){var a=r(e);a.appendTo(n),0==e&&a.addClass("selected")}};this.appendTo=function(e){d.appendTo(e)},o()};a.exports=d});
;/*!wiki-lemma:widget/basicElement/topShare/topShare.js*/
define("wiki-lemma:widget/basicElement/topShare/topShare",function(e,t,n){e("wiki-common:widget/component/nslog/nslog");$(".top-share").mouseenter(function(){$("#top-share").show()}).mouseleave(function(){setTimeout(function(){$("#top-share").hide()},300)}),$("#top-share").mouseenter(function(){$(this).show()}).mouseleave(function(){$(this).hide()});var o=function(e){var t=e.newLemmaId,n=null,o=function(){$.getJSON("/api/wikiui/sharecounter?lemmaId="+t+"&method=get",function(e){n=e.tk,$("#j-topShareCount").text(e.shareCount),$(".vote-count").text(e.likeCount)})};o();var i=function(){$(".share-link").on("click",function(){$.ajax({type:"get",url:"/api/wikiui/sharecounter?lemmaId="+t+"&method=add&type=share&tk="+n,dataType:"json",success:function(e){$("#j-topShareCount").text(e.count)}})})};i();var a=function(){var e=!0;$(".bds_wechat").on("click",function(){e&&$.ajax({type:"get",url:"/api/wikiui/sharecounter?lemmaId="+t+"&method=add&type=share&tk="+n,dataType:"json",success:function(t){$("#j-topShareCount").text(t.count),e=!1}})}),$(".qrcode-wrapper .cmn-icons_close").on("click",function(){e=!0})};a()};n.exports=o});
;/*!wiki-lemma:widget/lemma_content/commonModule/album/album.js*/
define("wiki-lemma:widget/lemma_content/commonModule/album/album",function(i,t,e){var l=i("wiki-common:widget/lib/jquery/jquery"),a=function(i){var t=['<a class="lemma-album" title="'+(i.title||"")+'"  href="'+i.linkUrl+'" target="_blank" style="width:'+(i.width+2)+'px;">','<div class="album-wrap" style="width:'+i.width+"px;height:"+i.height+'px;">','<img class="picture" alt="'+i.description+'" src="'+i.coverUrl+'" style="width:'+i.coverWidth+"px;height:"+i.coverHeight+'px;"/>',"</div>",'<div class="description">',i.description,'<span class="number">('+i.total+")</span>","</div>",'<div class="albumBg">','<div class="albumBgFir" style="width:'+(i.width-6)+'px;"></div>','<div class="albumBgSec" style="width:'+(i.width-12)+'px;"></div>',"</div>","</a>"].join("");return l(t)};e.exports={render:a}});
;/*!wiki-lemma:widget/lemma_content/mainContent/albumList/albumList.js*/
define("wiki-lemma:widget/lemma_content/mainContent/albumList/albumList",function(t,e,a){var i=t("wiki-common:widget/lib/jquery/jquery"),n=t("wiki-lemma:widget/basicElement/modulePager/modulePager"),r=t("wiki-lemma:widget/lemma_content/commonModule/album/album"),o=function(t){return String(t).replace(/[^\x00-\xff]/g,"ci").length},l=function(t,e,a){var t=String(t),a=a||"";return 0>e||o(t)<=e?t+a:(t=t.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"),t+a)},d=function(t,e){var a=o(t);return a>e?l(t,e-4)+"...":t},c=function(t){var e={};i.extend(e,t);var a=i(".album-list .list"),o=i(".album-list .scroller"),l=0,c=1,f=790,u=null,h=0,m=[],s=function(){var t=0;for(var a in e.data)e.data[a].albumId=a,e.data[a].index=t,t++,m.push(e.data[a])},v=function(t){var a={linkUrl:"/pic/"+encodeURIComponent(e.lemmaTitle)+"/"+e.newLemmaId+"/"+t.albumId+"/"+t.coverpic+"?fr=lemma",description:d(t.desc,18),coverUrl:t.coverurl,total:t.total,coverWidth:t.coverWidth,coverHeight:t.coverHeight,width:t.width>218?218:t.width,height:155},i=r.render(a);return i},g=function(t){var e=new Image;e.onload=function(){t.height=155,t.width=e.width*t.height/e.height,t.coverWidth=t.width,t.coverHeight=t.height;var i=h;h=i+15+t.width;var n=v(t);n.attr("nslog-type","1204"),a.width(h+15),a.append(n),0==t.index?n.attr("data-index",0):i-Math.floor(i/f+1)*f<=0&&h-Math.floor(i/f+1)*f>0&&n.attr("data-index",Math.floor(h/f)),t.index+1<m.length?g(m[t.index+1]):(n.addClass("last"),w())},e.src=t.coverurl},w=function(){var t=a.width(),e=t/f;l=Math.floor(e)+(Math.floor(e)<e?1:0),u=new n({total:l,handleNext:function(){l>c&&c++,x(c)},handlePrev:function(){c>1&&c--,x(c)}}),u.appendTo(i(".album-list .footer"))};this.load=function(){g(m[0])};var x=function(t){var e=a.find('[data-index="'+(t-1)+'"]'),i=e.offset().left-a.offset().left;o.animate({scrollLeft:i},500)};s()};a.exports=c});
;/*!wiki-lemma:widget/lemma_content/mainContent/basicInfo/basicInfo.js*/
define("wiki-lemma:widget/lemma_content/mainContent/basicInfo/basicInfo",function(i,t,a){var e=i("wiki-common:widget/lib/jquery/jquery");a.exports=function(){e(".basic-info").on("click",".basicInfo-block .toggle",function(i){var t=e(i.target);if(t=t.hasClass("toggle")?t:t.parents(".toggle").length>0?t.parents(".toExpand"):null)if(t.hasClass("toExpand")){var a=t.parents(".basicInfo-item"),n=a.find(".basicInfo-overlap");n.data("height")||n.data("height",n.height()-1),n.css({visibility:"visible",height:a.height()}),n.animate({height:n.data("height")},300)}else if(t.hasClass("toCollapse")){var n=t.parents(".basicInfo-overlap"),a=n.parent();n.animate({height:a.height()},300,function(){n.css("visibility","hidden")})}})}});
;/*!wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReference.js*/
define("wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReference",function(e,n,a){var o=e("wiki-common:widget/lib/jquery/jquery"),t=e("wiki-common:widget/component/nslog/nslog"),i=function(e){var n=e,a=o(".lemma-reference"),i=(a.find(".reference-list-wrap"),a.find(".reference-list")),s=a.find(".toggle"),c=this;this.toggle=function(){a.hasClass("expand")?this.collapse():this.expand()},this.collapse=function(){a.removeClass("expand").addClass("collapse")},this.expand=function(){a.addClass("expand").removeClass("collapse")},this.focusItem=function(e){i.find("li").removeClass("focus");for(var a=0;a<e.length;a++){var t=o("[id='reference-["+e[a]+"]-"+n.subLemmaId+"-wrap']");t.addClass("focus"),e[a]>10&&c.expand()}var s="reference-["+e[0]+"]-"+n.subLemmaId+"-wrap";window.location.hash="",window.location.hash=s,o(document).scrollTop(o(document).scrollTop()-50)};var r=function(e){var n=e.text().replace("[","").replace("]","");n=n.split("-");for(var a=parseInt(n[0]),o=parseInt(n[n.length-1]),t=[],i=a;o>=i;i++)t.push(i);return t},l=function(){s.on("click",function(){c.toggle()}),o(document.body).on("click","sup",function(e){var n=o(e.target),a=n.text();if(a.indexOf("[")>-1&&a.lastIndexOf("]")>-1){var i=r(n);c.focusItem(i),t(1970)}}),o(document).ready(function(){var e=window.location.hash,n=/#reference-\[(\d+)\]-\d+-wrap/i,a=e.match(n),o=a&&a.length>=2?parseInt(a[1]):-1;o>0&&c.focusItem([o])})};l()};a.exports=i});
;/*!wiki-lemma:widget/lemma_content/mainContent/lemmaStatistics/lemmaStatistics.js*/
define("wiki-lemma:widget/lemma_content/mainContent/lemmaStatistics/lemmaStatistics",function(e,t,a){function i(e){if(!e)return"";var t=e.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);t[2]=parseInt(t[2],10)-1;var a=new Date(t[1],t[2],t[3]),i=new Date,n=new Date(i.getFullYear(),i.getMonth(),i.getDate()-1),r=parseInt((a-n)/864e5);switch(r){case 1:return"（今天）";case 0:return"（昨天）";case-1:return"（2天前）";case-2:return"（3天前）"}return e}var n=e("wiki-common:widget/lib/jquery/jquery"),r=e("wiki-common:widget/component/userCard/userCard");a.exports=function(e){var t="/api/lemmapv?id="+e.newLemmaIdEnc+"&r="+Math.random();n.getJSON(t,function(e){e&&"undefined"!=typeof e.pv&&null!=e.pv?n("#j-lemmaStatistics-pv").text(e.pv):n("#j-lemmaStatistics-pv").parent().hide()});var a=n(".j-modified-time").text();n(".j-modified-time").text(i(a)).show(),r({host:".lemma-statistics .show-userCard"})}});
;/*!wiki-lemma:widget/lemma_content/mainContent/polysemantList/polysemantList.js*/
define("wiki-lemma:widget/lemma_content/mainContent/polysemantList/polysemantList",function(e,o,i){var n=e("wiki-common:widget/lib/jquery/jquery"),t=e("wiki-common:widget/component/userLogin/userLogin"),l=e("wiki-common:widget/component/unameFiller/unameFiller"),a=e("wiki-common:widget/ui/dialog/dialog"),s=e("wiki-common:widget/component/nslog/nslog"),c={polysemantShowAllView:"10080201",polysemantShowAllClick:"10080202",polysemantShowView:"10080203",polysemantShowClick:"10080204"};i.exports=function(e){var o=n(".polysemant-list"),i=o.find(".toggle"),m=o.find(".fold-on"),d=o.find(".polysemantList-addButton"),r=o.find(".polysemantList-wrapper");i[0]&&s(c.polysemantShowView),m[0]&&s(c.polysemantShowAllView),o.on("click",".toggle",function(){i.hasClass("expand")?(i.removeClass("expand").addClass("collapse"),s(c.polysemantShowClick),r.show()):(i.removeClass("collapse").addClass("expand"),r.hide())}).on("click",".fold-on",function(){r.css("height","auto"),r.find(".fold-on").hide().siblings(".fold-off").show(),s(c.polysemantShowAllClick)}).on("click",".fold-off",function(){r.css("height",96),r.find(".fold-off").hide().siblings(".fold-on").show()}),d.on("click",function(){var o=n(this).attr("data-href");n.getJSON("/wikisubmit/api/preeditcheck?lemmaTitle="+e+"&action=createsub&_="+Math.random(),function(e){if(e.errno)switch(e.errno){case 100001:t.showLoginPop();break;case 100006:l.show();break;case 100005:a.alert({title:"错误",subMsg:"您没有权限"});break;case 110003:a.alert({title:"错误",subMsg:"当前有用户正在编辑该词条，请稍候再试"});break;default:a.alert({title:"错误",subMsg:"出现错误，请稍候再试"})}else{var i=n('<a href="'+o+'" target="_blank"></a>'),s=i.get(0),c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),s.dispatchEvent(c),i.remove()}})})}});
;/*!wiki-lemma:widget/lemma_content/mainContent/sideCatalog/sideCatalog.js*/
define("wiki-lemma:widget/lemma_content/mainContent/sideCatalog/sideCatalog",function(o,t,s){var i=o("wiki-common:widget/lib/jquery/jquery"),l=o("wiki-common:widget/component/nslog/nslog"),n=function(o){var t=i(".side-catalog"),s=(i(".side-catalog .toggle-button"),i(".side-catalog .go-up")),n=i(".side-catalog .go-down"),a=i(".side-catalog .arrow"),e=i(".side-catalog .catalog-scroller"),c=e.find(".catalog-list"),r=i(".content-wrapper"),d=i(".right-wrap"),f=this,p=!0,u=!1,h=function(){var o=e.scrollTop(),t=e.find(".catalog-list").height(),i=e.height();0>=o?s.addClass("disable"):s.removeClass("disable"),o>=t-i?n.addClass("disable"):n.removeClass("disable")};this.scrollUp=function(o){var t=19*o,s=e.scrollTop();e.stop().animate({scrollTop:s-t},200,function(){h(),n.removeClass("disable")})},this.scrollDown=function(o){var t=19*o,i=e.scrollTop();e.stop().animate({scrollTop:i+t},200,function(){s.removeClass("disable"),h()})},this.toDisplay=function(){var o=i(".side-content"),s=1200,n=o.offset().top+o.height(),a=Math.max(n,s),e=i(window).scrollTop();e>=a?(t.css("visibility","visible"),p&&(p=!1,l(10002801))):(t.css("visibility","hidden"),p=!0);var c=r.offset().top+r.height(),d=i(window).height()+e;if(d>c){var f=d-c+10;t.css("bottom",f+"px")}else t.css("bottom","10px")},this.scrollTo=function(o){var s=t.find('[href="#'+o+'"]');if(!(s.length<=0)){s=s.parents(".catalog-title");var i=0===s.index(),l=s.offset().top-c.offset().top+5;(s.offset().top!==c.offset().top||i)&&(e.stop().animate({scrollTop:l-176},300,function(){h()}),a.stop().animate({top:l},300))}};var g=function(){for(var o=i(document.body).find(".lemma-anchor.para-title"),t=i(window).scrollTop(),s=999999,l=o.eq(0),n=0;n<o.length;n++){var a=o.eq(n),e=Math.abs(a.offset().top-t),c=a.offset().top<t+i(window).height();s>e&&c&&(s=e,l=a)}return l.attr("name")},m=null,w=function(){m&&(clearTimeout(m),m=null),m=setTimeout(function(){var o=g();f.scrollTo(o)},50),f.toDisplay()},v=function(){var o=e.find(".catalog-list").height(),s=e.height();0>=o-s&&(d.hide(),u=!0),t.on("click",".toggle-button",function(){t.hasClass("collapse")?(t.removeClass("collapse"),t.hasClass("side-catalog-smaller")&&d.show()):(t.addClass("collapse"),t.hasClass("side-catalog-smaller")&&d.hide())}),!u&&t.hover(function(){!t.hasClass("collapse")&&d.show()},function(){!t.hasClass("collapse")&&d.hide()}),e.bind("mouseover",function(){e.bind("mousewheel",function(o,t){var s=-t;return 0>s?f.scrollUp(7):f.scrollDown(7),o.stopPropagation(),!1})}).bind("mouseout",function(){e.unbind("mousewheel")}),i(window).bind("scroll",w),i(document).bind("ready",function(){w(),f.toDisplay()}),t.on("click",".go-up",function(){f.scrollUp(5)}),t.on("click",".go-down",function(){f.scrollDown(5)}),t.on("click",".gotop-button",function(){i(window).scrollTop(0)})};setTimeout(function(){v()},2500)};s.exports=n});
;/*!wiki-lemma:widget/lemma_content/mainContent/tashuo/tashuo.js*/
define("wiki-lemma:widget/lemma_content/mainContent/tashuo/tashuo",function(t,i,a){function e(){o("#tashuo_bottom .cover-img").each(function(){var t={width:parseInt(o(this).attr("data-width"),10),height:parseInt(o(this).attr("data-height"),10)};o(this).attr("style",s({width:216,height:120},t))})}function s(t,i){var a=t.width,e=t.height,s=i.width/i.height,o=[];return s>=a/e?(o.push("height: 100%"),o.push("margin-left: -"+(s*e-a)/2+"px")):(o.push("width: 100%"),o.push("margin-top: -"+(a/s-e)/4+"px")),o.join(";")}var o=t("wiki-common:widget/lib/jquery/jquery"),n=t("wiki-common:widget/component/nslog/nslog"),h=function(){n(10090003),e(),o(".tashuo-tags span").on("click",function(){var t=o(this).index(),i=o(".tashuo-multiple .module-pager");o(this).addClass("current-tab").siblings().removeClass("current-tab"),o(".tashuo-multiple").find(".tashuo-wrapper").eq(t).show().siblings().hide(),o(".tashuo-view").scrollLeft(0),i.find(".index").text(1),i.find(".next").removeClass("disabled"),i.find(".prev").addClass("disabled")}),o("#tashuo_bottom").on("click",".J-like",function(){var t="tashuo-liked",i=o(this).find(".J-number"),a=o(this).attr("data-isvote"),e=i.text();o.ajax({url:"/api/tashuo/vote",dataType:"json",data:{id:o(this).closest(".J-item").attr("data-tashuoId")}}),"1"===a?(o(this).attr("data-isvote","0"),o(this).removeClass(t),e--,i.text(e)):(o(this).attr("data-isvote","1"),e++,o(this).addClass(t),i.text(e))}),o("#tashuo_bottom .J-item").on("click",function(){n(10090004)})};a.exports=h});
;/*!wiki-lemma:widget/lemma_content/mainContent/taskLemmasInfoCard/taskLemmasInfoCard.js*/
define("wiki-lemma:widget/lemma_content/mainContent/taskLemmasInfoCard/taskLemmasInfoCard",function(e){var t=e("wiki-common:widget/lib/jquery/jquery"),a=e("wiki-common:widget/lib/jsmart/jsmart");a.prototype.registerPlugin("modifier","rawurlencode",function(e){return encodeURIComponent(e)}),a.prototype.registerPlugin("modifier","date_format",function(e,t){var a=timeFormater.build(1e3*parseInt(e,10));return timeFormater.format(a,t)}),a.prototype.registerPlugin("modifier","date_diff",function(e,t,a,i){var n=timeFormater.build(1e3*parseInt(e,10));return timeFormater.diff(n,t,!!a,!!i)});var i=new a('{%if !$errno%}\n{%foreach $list as $i => $item%}{%if $item.status >= 1 && $item.status <=5%}\n<tr>\n<td><a href="{%$item.lemmaUrl|f_escape_xml%}" target="_blank">{%$item.lemmaTitle|f_escape_xml%}</a></td>\n<td>{%if $item.createTime%}{%$item.createTime|date_format: "yyy-MM-dd HH:mm:ss"%}{%else%}-{%/if%}</td>\n<td>{%if $item.createUname%}<a href="http://www.baidu.com/p/{%$item.createUname|rawurlencode|f_escape_path%}?from=wk" target="_blank">{%$item.createUname|f_escape_xml%}</a>{%else%}-{%/if%}</td>\n<td>\n{%if $item.status == 1%}\n待编辑{%elseif $item.status == 2%}\n待提交{%elseif $item.status == 3 || $item.status == 4%}\n待审核{%elseif $item.status == 5%}\n已达标{%/if%}\n</td>\n<td><a href="/usertask/{%$item.taskId|f_escape_path%}" target="_blank">{%$item.taskName|f_escape_xml%}</a></td>\n</tr>\n{%/if%}\n{%/foreach%}\n{%if $list|count < 1%}\n<tr>\n<td colspan="5">无</td>\n</tr>{%/if%}\n{%else%}\n<tr>\n<td colspan="5">出错了，请<a href="">刷新</a>重试</td>\n</tr>{%/if%}');t.ajax({type:"GET",url:"/api/usertask/getlemmatasklist",data:{lemmaTitle:window.baikeInfo.versionInfo.lemmaTitle,lemmaId:window.baikeInfo.versionInfo.lemmaId,tk:t('meta[name="csrf-token"]').attr("content")},cache:!1,success:function(e){t(".checkLemmaDialog-table tbody").html(e.errno?i.fetch({errno:1}):i.fetch({list:e.data}))}})});
;/*!wiki-lemma:widget/lemma_content/commonModule/cellModule/cellModule.js*/
define("wiki-lemma:widget/lemma_content/commonModule/cellModule/cellModule",function(e,n,a){var d=e("wiki-common:widget/lib/jquery/jquery"),i=e("wiki-lemma:widget/basicElement/commonModulePager/commonModulePager"),o=function(e){var n=e,a=d(n.container),o=null,t=0,l=function(){n.pageNumber<1||(o=new i({container:a.find(".commonModule-pager"),pageNumber:n.pageNumber,handlePageChange:function(e){t=e,a.find("tr[data-pageIndex]").hide(),a.find("tr[data-pageIndex='"+t+"']").show()},handleDisplayDefault:function(){a.find("tr[data-pageIndex]").hide(),a.find("tr[data-pageIndex='"+t+"']").show()},handleDisplayAll:function(){a.find("tr[data-pageIndex]").show()}}))};l()};a.exports=o});
;/*!wiki-lemma:widget/lemma_content/commonModule/horizontalModule/horizontalModule.js*/
define("wiki-lemma:widget/lemma_content/commonModule/horizontalModule/horizontalModule",function(e,o,a){var l=e("wiki-common:widget/lib/jquery/jquery");a.exports=function(e){var o=l(e.container);o.on("click",".toggle-button",function(){var e=l(this),a=e.attr("data-id");e.hasClass("collapsed")?(e.removeClass("collapsed").addClass("expaned"),o.find(".j-submodule-"+a).show()):(e.removeClass("expaned").addClass("collapsed"),o.find(".j-submodule-"+a).hide())})}});
;/*!wiki-lemma:widget/lemma_content/commonModule/map/map.js*/
define("wiki-lemma:widget/lemma_content/commonModule/map/map",function(e,n,o){function r(e,n){i=e,m="map"+n;var o={point:{x:parseFloat(d("centerX")||"0"),y:parseFloat(d("centerY")||"0")},marker:{x:parseFloat(d("markerPosX")||"0"),y:parseFloat(d("markerPosY")||"0")},markerTitle:d("markerTitle")||"",markerAddress:d("markerAddress")||"",zoom:d("zoom")?parseInt(d("zoom")):null},r=new BMap.Map(m),a=new BMap.Point(o.point.x,o.point.y);r.centerAndZoom(a,o.zoom),r.centerAndZoom(a),r.enableScrollWheelZoom();var p=!1;if(r.addEventListener("dragend",function(){p||(p=!0,t(10000802))}),r.addEventListener("zoomend",function(){p||(p=!0,t(10000802))}),r.addEventListener("moveend",function(){p||(p=!0,t(10000802))}),r.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_SMALL})),o.marker.x&&o.marker.y){var l=new BMap.Marker(new BMap.Point(o.marker.x,o.marker.y));r.addOverlay(l);var s="";if(o.markerTitle){s='<h4 style="font-size:14px; font-weight:bold; color:#CE5423; margin-bottom:8px;">'+o.markerTitle+"</h4>"+(o.markerAddress?'<p  style="font-size:12px;line-height:1.5;">地址：'+o.markerAddress+"</p>":"");var c={width:0,height:0},w=new BMap.InfoWindow(s,c)}l.onclick=function(){this.openInfoWindow(w)}}}var a=e("wiki-common:widget/lib/jquery/jquery"),t=e("wiki-common:widget/component/nslog/nslog"),i="",m="",d=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=i.substr(1).match(n);return null!=o?decodeURIComponent(o[2]):null};o.exports=function(e,n){window.HOST_TYPE="2",window.BMap_loadScriptTime=(new Date).getTime(),a.ajax({url:"https://api.map.baidu.com/getscript?v=2.0&ak=2366113ce0b57527403e73a98f157a8e&services=&t="+window.BMap_loadScriptTime,dataType:"script",success:function(){r(e,n)}}),t(10000801)}});
;/*!wiki-lemma:widget/lemma_content/commonModule/music/musicAlbum/musicAlbum.js*/
define("wiki-lemma:widget/lemma_content/commonModule/music/musicAlbum/musicAlbum",function(a,l,e){var s=a("wiki-common:widget/lib/jquery/jquery"),d=s(".musicAlbum-wrapper"),i=(s(".musicAlbum-model"),function(){d.find(".album-item").addClass("expand"),d.find(".detail-toggle").removeClass("collapse").addClass("expand"),d.find(".musicAlbum-detail").removeClass("collapse").addClass("expand")}),m=function(){d.find(".album-item").removeClass("expand"),d.find(".detail-toggle").removeClass("expand").addClass("collapse"),d.find(".musicAlbum-detail").removeClass("expand").addClass("collapse")},n=function(a){d.find(".j-albumItem-"+a).addClass("expand"),d.find(".j-detailItem-"+a).removeClass("collapse").addClass("expand")},o=function(a){d.find(".j-albumItem-"+a).removeClass("expand"),d.find(".j-detailItem-"+a).addClass("collapse").removeClass("expand")},t=function(){s(".musicAlbum-model").on("click",function(a){var l=s(a.target);l.hasClass("model-list")?(l.addClass("highlight"),l.parent().find(".model-detail").removeClass("highlight"),m()):l.hasClass("model-detail")&&(l.addClass("highlight"),l.parent().find(".model-list").removeClass("highlight"),i())}),s(".musicAlbum-wrapper").on("click",function(a){var l=s(a.target);if(l.hasClass("detail-toggle")){var e=l.attr("data-id");l.hasClass("collapse")?(l.removeClass("collapse").addClass("expand"),n(e)):(l.removeClass("expand").addClass("collapse"),o(e))}})};e.exports=function(){t()}});
;/*!wiki-lemma:widget/lemma_content/commonModule/music/musicHot/musicHot.js*/
define("wiki-lemma:widget/lemma_content/commonModule/music/musicHot/musicHot",function(o,i,t){var a=o("wiki-common:widget/lib/jquery/jquery"),e=e||{},m=function(o){var i="http://play.baidu.com/box?__m=mboxCtrl.playSong&__a="+o+"&__o=/_baike&fr=baikePC";!e.mp3Box||e.mp3Box.closed?e.mp3Box=window.open(i):e.mp3Box.location=i},n=function(){a(".musicHot-wrapper").on("click",".listen-icon",function(o){var i=a(o.target),t=i.attr("data-id");t&&""!=t&&m(t)})};a(".musicHot-wrapper .item-name a").attr("href","javascript:void(0)"),t.exports=n});
;/*!wiki-lemma:widget/lemma_content/commonModule/noticeIcon/noticeIcon.js*/
define("wiki-lemma:widget/lemma_content/commonModule/noticeIcon/noticeIcon",function(e,n,t){function i(e){var n,t=c(e).parent(),i=c(e).outerWidth(),o=t.outerWidth();n=parseInt((o-i)/2,10),c(e).css({left:n})}function o(){i(c(".en_conne_notice .enterprise_tips"))}var c=e("wiki-common:widget/lib/jquery/jquery");t.exports=o});
;/*!wiki-lemma:widget/lemma_content/commonModule/series/series.js*/
define("wiki-lemma:widget/lemma_content/commonModule/series/series",function(a,e){var r=a("wiki-common:widget/lib/jquery/jquery"),s=r("#dramaSeries"),i=r("#dramaSerialList");r("dl:first-child",i).show(),e.init=function(a){a=parseInt(a),s.on("click",".pageBar a",function(){var e=r(this),o=e.parents(".pageBar");if(!e.hasClass("cur"))if(e.hasClass("more"))o.hasClass("unfold")?(r(".pageBar",s).removeClass("unfold"),r(".pageBar .more",s).text("展开")):(r(".pageBar",s).addClass("unfold"),r(".pageBar .more",s).text("收起"));else{var l=parseInt(e.text());r(".pageBar a",s).removeClass("cur"),r(".pageBar a[index="+Math.floor(l/a)+"]",s).addClass("cur"),r("dl",i).hide(),r("dl:nth("+Math.floor(l/a)+")",i).show()}})}});
;/*!wiki-lemma:widget/promotion/banner/banner.js*/
define("wiki-lemma:widget/promotion/banner/banner",function(e,n,a){var i=e("wiki-common:widget/lib/jquery/jquery"),o=e("wiki-common:widget/lib/jsmart/jsmart");a.exports=function(e){var n=i(".configModuleBanner"),a=new o('<a href="{%$url|f_escape_xml%}" target="_blank" nslog-type="10002202" nslog-params=\'{"adId":"{%$adId|f_escape_xml%}", "adTitle": "{%$name|f_escape_xml%}", "adPos": 15}\'>\n<img src="{%$picUrl|wiki_common_https_trans|f_escape_xml%}" title="{%$text|default:$name|f_escape_xml%}">\n</a>').fetch(e[0]);i(".configModuleDown").length&&i(".configModuleDown").remove(),n.html(a)}});
;/*!wiki-lemma:widget/promotion/declaration/declaration.js*/
define("wiki-lemma:widget/promotion/declaration/declaration",function(e,o,t){var i=e("wiki-common:widget/lib/jquery/jquery"),n=e("wiki-common:widget/lib/jsmart/jsmart");t.exports=function(e){var o=i(".promotion-declaration");i(".lemmaWgt-declaration").length&&i(".lemmaWgt-declaration").remove();var t=new n('<div class="declarationLogo{%if $hotspot%} hotspot{%/if%}">\n{%if $hotspot%}热点{%else%}声明{%/if%}\n</div>\n<div class="declarationContent">\n{%$text|default:$name|f_escape_xml%}\n</div>');-1!==encodeURI(e[0].name).indexOf(encodeURI("热点"))&&(e[0].hotspot=!0);var a=t.fetch(e[0]);o.html(a),o.show()}});
;/*!wiki-lemma:widget/promotion/fengchao/fengchao.js*/
define("wiki-lemma:widget/promotion/fengchao/fengchao",function(n,e,o){function t(n){"fengchao"==n?m.log({"lemma-fengchao":l("#side_box_fengchao").get(0)},70000102):"unionAd"==n&&m.log({"lemma-unionAd":l("#side_box_unionAd .union-content").get(0)},70000102)}function i(n){var e=d.get("BAIDUID");if(e){var o=e.substr(e.length-9,4),t=parseInt("0x"+o,16);return t.length<n?t=new Array(n-t.length).join("0")+t:t+="",t.substr(t.length-n,n)}}function a(){return parseInt(i(1),10)}function c(n,e){l.ajax({dataType:"json",url:"/api/wikiui/getasp",data:n,success:function(n){r(10000914),g(n||{},e)},error:function(){r(10000915),u.remove(),t("unionAd"),f(e)}})}var l=n("wiki-common:widget/lib/jquery/jquery"),d=n("wiki-common:widget/util/cookie"),r=n("wiki-common:widget/component/nslog/nslog"),m=n("wiki-common:widget/component/testElem/testElem"),s=null,u=null,g=function(n,e){var o="",i={};0===n.err_no&&n.ad_place_list&&n.ad_place_list.length>0&&n.ad_place_list[0].ad_num>0?(i=n.ad_place_list[0],o="<style>"+i.ad_place_css+"</style>"+i.ad_place_data+"<script>"+i.ad_place_js+"</script>",u.html(o).show(),t("fengchao")):(u.remove(),t("unionAd"),f(e))},p=function(n,e){var o=a(),t=[location.protocol,"//",location.host,location.pathname].join(""),i=encodeURIComponent(t+"?lemmaid="+n.newLemmaId),l="word="+n.encodeLemmaTitle+"&asp_url="+i;5>o?(l+="&eid=800",c(l,e),r(10000913)):(l+="&eid=802",c(l,e),r(10000913))},f=function(n){"undefined"==typeof s.pcNetUnionRight&&n&&n.errFn&&n.dom&&n.errFn(n.dom)},_=function(n,e){s=n.adManager||{},u=l("#side_box_fengchao"),"undefined"!=typeof s.pcFengchaoRight?(u.remove(),f(e)):p(n,e)};o.exports=_});
;/*!wiki-lemma:widget/promotion/guessLike/guessLike.js*/
define("wiki-lemma:widget/promotion/guessLike/guessLike",function(i,e,t){function n(i){r.init(i)}var a=i("wiki-common:widget/lib/jquery/jquery"),s=i("wiki-common:widget/lib/jsmart/jsmart"),o=(i("wiki-common:widget/util/cookie"),i("wiki-common:widget/component/nslog/nslog")),l=i("wiki-lemma:widget/tools/bkclick/bkclick"),c=new s('{%foreach $favorites as $index=>$item%}\n{%if $index > 9%}\n{%break%}\n{%/if%}\n<li><a href="{%$item.url|f_escape_xml%}" target="_blank">{%$item.title|f_escape_xml%}</a></li>\n{%/foreach%}'),r={init:function(i){this.newEl=a("#fc_guess_like_new"),this.param=i,i.adManager&&"undefined"!=typeof i.adManager.pcFengchaoGuess||this.fetch(202)},fetch:function(i){var e=this;l.bklog("pc_guesslike_request"),a.ajax({url:"/api/wikiui/guesslike",type:"GET",dataType:"json",data:{url:[location.protocol,"//",location.host,location.pathname].join(""),lemmaTitle:this.param.lemmaTitle,eid:i},success:function(i){l.bklog("pc_guesslike_success"),0===i.err_no&&e.render(i)},error:function(){l.bklog("pc_guesslike_fail")}})},render:function(i){var e={};try{e=a.parseJSON(i.ad_place_list[0].ad_place_data)}catch(t){}e.ads&&e.ads.length>0&&(o(10050100),l.bklog("pc_guesslike_view"),this.newEl.show().find("ul").html(c.fetch({favorites:e.ads})),this.$items=this.newEl.find("ul"),this.$items.on("click","li a",function(){l.bklog("pc_guesslike_click")}))}};t.exports={init:n}});
;/*!wiki-lemma:widget/promotion/relatedBusiness/relatedBusiness.js*/
define("wiki-lemma:widget/promotion/relatedBusiness/relatedBusiness",function(e,a,t){function i(e){var a=r.get("BAIDUID");if(a){var t=a.substr(a.length-9,4),i=parseInt("0x"+t,16);return i.length<e?i=new Array(e-i.length).join("0")+i:i+="",i.substr(i.length-e,e)}}function n(){return parseInt(i(1),10)}var s=e("wiki-common:widget/lib/jquery/jquery"),r=e("wiki-common:widget/util/cookie"),c={init:function(e){this.param=e,e.adManager&&"undefined"!=typeof e.adManager.pcRelatedBusiness||(5===n()?this.fetch():location.search.indexOf("fcescapecapture=1")>-1&&this.fetch())},fetch:function(){var e=this;s.ajax({url:"/api/wikiui/relatedbusiness",type:"GET",dataType:"json",data:{word:this.param.lemmaTitle,url:[location.protocol,"//",location.host,location.pathname].join("")},success:function(a){0===a.err_no&&e.render(a)}})},render:function(e){var a=s("#related-business-wrap"),t={};e.ad_place_list&&e.ad_place_list[0]&&(t=e.ad_place_list[0]),t.ad_place_css&&a.append('<style type="text/css">'+t.ad_place_css+"</style>"),t.ad_place_data&&a.show().append(t.ad_place_data),t.ad_place_js&&a.append("<script>"+t.ad_place_js+"</script>")}};t.exports=c});
;/*!wiki-lemma:widget/promotion/rightAd/rightAd.js*/
define("wiki-lemma:widget/promotion/rightAd/rightAd",function(i,t,e){var a=i("wiki-common:widget/lib/jquery/jquery"),d=(i("wiki-common:widget/component/nslog/nslog"),i("wiki-common:widget/util/cookie"));e.exports=function(i){var t=function(i){var t=['<div class="right-ad">','<a class="rightAd-link" nslog-type="10002202" nslog-params=\'{"adId":"'+i.adId+'", "adTitle": "'+i.name+'", "adPos": 4}\' title="'+i.text+'" href="'+i.url+'" target="_blank">','<img src="'+i.picUrl+'" alt="'+i.text+'" />',"</a>",'<a class="rightAd-close" href="javascript:;"></a>',"</div>"].join(""),e=a(t),o=e.find(".rightAd-close");return o.on("click",function(){d.set("pcrightad"+i.adId,"showed",{expires:1152e5,path:"/"}),e.hide()}),e};if(!d.get("pcrightad"+i[0].adId)){var e=t(i[0]);e.appendTo(a("body"))}}});
;/*!wiki-lemma:widget/promotion/rightBigAd/rightBigAd.js*/
define("wiki-lemma:widget/promotion/rightBigAd/rightBigAd",function(t,i,e){var o=t("wiki-common:widget/lib/jquery/jquery");e.exports=function(t){o(".lemmaWgt-promotion-rightBigAd").html('<a nslog-type="10002202" nslog-params=\'{"adId": "'+t[0].adId+'", "adTitle": "'+t[0].name+'", "adPos": 9}\' title="'+t[0].text+'" href="'+t[0].url+'" target="_blank"><img src="'+t[0].picUrl+'" alt="'+t[0].text+'" /></a>'),o(".lemmaWgt-promotion-rightBigAd").show()}});
;/*!wiki-lemma:widget/promotion/rightPreciseAd/rightPreciseAd.js*/
define("wiki-lemma:widget/promotion/rightPreciseAd/rightPreciseAd",function(t,e,i){var r=t("wiki-common:widget/lib/jquery/jquery");i.exports=function(t){if(40==t[0].adId){var e=r(".lemmaWgt-promotion-rightPreciseAd").attr("data-lemmaId"),i=r(".lemmaWgt-promotion-rightPreciseAd").attr("data-lemmaTitle");t[0].url=t[0].url+"&wd="+i+"&lemmaId="+e}r(".lemmaWgt-promotion-rightPreciseAd").html('<a nslog-type="10002202" nslog-params=\'{"adId":"'+t[0].adId+'", "adTitle": "'+t[0].name+'", "adPos": 5}\' title="'+t[0].text+'" href="'+t[0].url+'" target="_blank"><img src="'+t[0].picUrl+'" alt="'+t[0].text+'" /></a>'),r(".lemmaWgt-promotion-rightPreciseAd").show()}});
;/*!wiki-lemma:widget/promotion/rightTashuo/rightTashuo.js*/
define("wiki-lemma:widget/promotion/rightTashuo/rightTashuo",function(t,i,a){function e(t){c("#tashuo_right").show(),r(10090001),c("#tashuo_right .J-items").html(n.fetch({items:t.data,lemmaId:h,topicId:t.topicId,cnt:t.cnt})),s();var i=new l({container:c("#tashuo_right .slides .viewport ul"),aniUnitSize:{width:270,height:270},aniConfig:{duration:400,direction:"top left"},onAniStart:function(){s()}});c("#tashuo_right .J-slides-btn").length>0&&c("#tashuo_right .J-items").mouseover(function(){c("#tashuo_right .J-slides-btn").show()}).mouseleave(function(){c("#tashuo_right .J-slides-btn").hide()}),c("#tashuo_right").on("click",".J-slides-btn",function(){switch(c(this).attr("data-skipTo")){case"prev":i.play(-1);break;case"next":i.play()}}),c("#tashuo_right").on("click",".J-like",function(){var t="tashuo-liked",i=c(this).find(".J-number"),a=c(this).attr("data-isvote"),e=i.text();c.ajax({url:"/api/tashuo/vote",dataType:"json",data:{id:c(this).closest(".J-item").attr("data-tashuoId")}}),"1"===a?(c(this).attr("data-isvote","0"),c(this).removeClass(t),e--,i.text(e)):(c(this).attr("data-isvote","1"),e++,c(this).addClass(t),i.text(e))}),c("#tashuo_right").on("click",".J-item",function(){r(10090002)});var a,e=!1,o=!1;c(window).on("scroll",function(){var t=c("#tashuo_right").offset().top-c(window).scrollTop(),i=c("#tashuo_bottom").offset().top,s=i-c(window).scrollTop(),n=(c("#tashuo_bottom").height(),s<c(window).height());return t<c(window).height()&&!e&&!c(".side-content").is(":hidden")&&!o&&(a=c("#tashuo_right").offset().top,o=!0),a>i?void c("#tashuo_right").hide():void(n&&68===t?c("#tashuo_right").hide():n||0!==t||c("#tashuo_right").show())})}function s(){c("#tashuo_right .tashuo-item-cover .cover-img").each(function(){var t={width:parseInt(c(this).attr("data-width"),10),height:parseInt(c(this).attr("data-height"),10)};c(this).attr("style",o({width:268,height:150},t))})}function o(t,i){var a=t.width,e=t.height,s=i.width/i.height,o=[];return s>=a/e?(o.push("height: 100%"),o.push("margin-left: -"+(s*e-a)/2+"px")):(o.push("width: 100%"),o.push("margin-top: -"+(a/s-e)/4+"px")),o.join(";")}var n,h,m,c=t("wiki-common:widget/lib/jquery/jquery"),r=t("wiki-common:widget/component/nslog/nslog"),d=t("wiki-common:widget/lib/jsmart/jsmart"),l=t("wiki-common:widget/ui/carousel/carousel"),p=(t("wiki-common:widget/ui/pager/horPager/horPager"),!1),u=function(t){n=new d('<div class="tashuo-right-title-essence" {%if $cnt > 5%}style="cursor:pointer"{%/if%}>\n<a {%if $cnt > 5%}href="/tashuo/topic?topicId={%$topicId|f_escape_path%}&fromLemmaModule=pcRight" class="tashuo-more" target="_blank"{%/if%}>\n<img src="https://bkssl.bdimg.com/static/wiki-lemma/widget/promotion/rightTashuo/img/ta-logo-blue_6da9967.png" alt="">\n<span>解读词条背后的知识</span>\n</a>\n</div>\n<div class="slides">\n<div class="viewport">\n<ul>\n{%foreach $items as $index=>$item%}\n<li class="wgt_carousel_aniUnit">\n<div class="tashuo-item J-item" data-tashuoId="{%$item.tashuoId|f_escape_xml%}">\n<div class="tashuo-item-author">\n<a href="/tashuo/authorcenter?authorId={%$item.authorId|f_escape_path%}" target="_blank">\n<div class="ta-author-area"><span><img src="{%\'http://imgsrc.baidu.com/baike/pic/item/\'|cat:$item.picSrc|cat:\'.jpg\'|wiki_common_https_trans%}" /></span></div>\n<div class="ta-author-slogan-area">\n<strong>{%$item.name|f_escape_xml%}</strong>\n<span>{%$item.nameDesc|f_escape_xml%}</span>\n</div>\n{%if $item.isAddV%}<i></i>{%/if%}\n</a>\n</div>\n{%if $item.sharePic.src%}\n<div class="tashuo-item-cover">\n<a href="/tashuo/browse/content?id={%$item.id|f_escape_path%}&lemmaId={%$lemmaId|f_escape_path%}&fromLemmaModule=pcRight" target="_blank">\n<img src="{%\'http://imgsrc.baidu.com/baike/pic/item/\'|cat:$item.sharePic.src|cat:\'.jpg\'|wiki_common_https_trans%}" data-width="{%$item.sharePic.width|f_escape_xml%}" data-height="{%$item.sharePic.height|f_escape_xml%}" class="cover-img">\n<div class="overlay"><img src="https://bkssl.bdimg.com/static/wiki-lemma/widget/promotion/rightTashuo/img/overlay_1ccc6d9.png"></div>\n<div class="tashuo-item-title">\n{%$item.title|f_escape_xml%}\n</div></a>\n</div>\n<div class="tashuo-item-abstract">\n<a href="/tashuo/browse/content?id={%$item.id|f_escape_path%}&lemmaId={%$lemmaId|f_escape_path%}&fromLemmaModule=pcRight" target="_blank">\n{%if $item.abstract%}{%$item.abstract|f_escape_xml%}{%else%}{%$item.title|f_escape_xml%}{%/if%}\n</a>\n</div>\n{%else%}\n<div class="no-cover">\n<div class="tashuo-item-title">\n<a href="/tashuo/browse/content?id={%$item.id|f_escape_path%}&lemmaId={%$lemmaId|f_escape_path%}&fromLemmaModule=pcRight" target="_blank">\n{%$item.title|f_escape_xml%}\n</a>\n</div><div class="tashuo-item-abstract">\n<a href="/tashuo/browse/content?id={%$item.id|f_escape_path%}&lemmaId={%$lemmaId|f_escape_path%}&fromLemmaModule=pcRight" target="_blank">\n{%if $item.abstract%}{%$item.abstract|f_escape_xml%}{%else%}{%$item.title|f_escape_xml%}{%/if%}\n</a>\n</div>\n</div>\n{%/if%}\n</div>\n</li>\n{%/foreach%}\n</ul>\n</div>\n{%if $cnt > 1%}\n<div class="J-slides-btn slides_btn prev" data-skipTo="prev"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></div>\n<div class="J-slides-btn slides_btn next" data-skipTo="next"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></div>\n{%/if%}\n</div>\n'),h=t.lemmaId,m=t.lemmaTitle;var i={lemmaId:t.lemmaId,limit:5};p||c.ajax({url:"/api/tashuo/gettashuolist",type:"GET",dataType:"json",data:i,success:function(t){0===t.errno&&t.data&&t.data.length>0&&(p=!0,e(t))}})};a.exports=u});
;/*!wiki-lemma:widget/promotion/slide/slide.js*/
define("wiki-lemma:widget/promotion/slide/slide",function(e,a,i){var n=e("wiki-common:widget/lib/jquery/jquery"),o=e("wiki-common:widget/lib/jsmart/jsmart"),r=e("wiki-common:widget/ui/pager/horPager/horPager"),t=e("wiki-common:widget/ui/carousel/carousel"),s=new o('{%foreach $data as $ad%}\n<dd class="wgt_carousel_aniUnit">\n<a href="{%$ad.url|f_escape_xml%}" target="_blank" title="{%$ad.text|f_escape_xml%}" nslog-type="10002202" nslog-params=\'{"adId":"{%$ad.adId|f_escape_xml%}", "adTitle":"{%$ad.name|f_escape_xml%}", "adPos": 2}\'>\n<img src="{%$ad.picUrl|f_escape_xml%}" />\n</a>\n</dd>\n{%/foreach%}');i.exports=function(e){var a=s.fetch({data:e});if(n(".lemmaWgt-promotion-slide .promotion_viewport dl").html(a),e.length>1){var i=new t({container:n(".lemmaWgt-promotion-slide .promotion_viewport dl"),aniUnitSize:{width:270,height:260},autoPlayInterval:5e3,aniConfig:{duration:400,direction:"left"},onAniComplete:function(e){o.reset({curIndex:e+1})}}),o=new r({pContainer:n(".lemmaWgt-promotion-slide .promotion_viewport_pager"),template:'<span class="pTagBox">\n<a href="javascript:;" class="pTag prev" p-index="{%$pagers.prev.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a><span>{%foreach $pagers.normal as $pager%}<a href="javascript:;" class="dot pTag{%if $pager.state == "cur"%} cur{%/if%}"{%if $pager.state != "cur"%} p-index="{%$pager.index|f_escape_xml%}"{%/if%}><em class="cmn-icon cmn-icons cmn-icons_userbar-new"></em></a>{%/foreach%}</span><a href="javascript:;" class="pTag next" p-index="{%$pagers.next.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>\n</span>',conTotalCount:e.length,conPerPage:1,pMaxCount:e.length,onIndexChange:function(e,a){n(a.currentTarget).hasClass("prev")?i.play(-1):n(a.currentTarget).hasClass("next")?i.play():i.play(e-1)}});o.show()}else n(".lemmaWgt-promotion-slide .promotion_viewport_pager").remove();n(".lemmaWgt-promotion-slide").show()}});
;/*!wiki-lemma:widget/promotion/topAd/topAd.js*/
define("wiki-lemma:widget/promotion/topAd/topAd",function(o,e,t){var a=o("wiki-common:widget/lib/jquery/jquery"),n=o("wiki-common:widget/component/nslog/nslog");t.exports=function(o){var o=o[0],e='<a target="_blank" class="topA" nslog-type="10002202" nslog-params=\'{"adId":"'+o.adId+'", "adTitle": "'+o.name+'", "adPos": 3}\' href="'+o.url+'" title="'+o.text+'"style="background-image:url('+o.picUrl+');"></a>';a(".header-wrapper .layout").append(a(e)),n(40000303),a("body").on("click",".topA",function(){n(40000304)})}});
;/*!wiki-lemma:widget/promotion/unionAd/unionAd.js*/
define("wiki-lemma:widget/promotion/unionAd/unionAd",function(i,o,n){function d(i){var o={adId:"u1997633",sClassName:"union"};o?(r(i,o),t(i).addClass(o.sClassName)):t(i).remove()}function r(i,o){t(i).find(".union-content").attr("id","cpro_"+o.adId),(window.cproArray=window.cproArray||[]).push({id:o.adId}),(window.cproStyleApi=window.cproStyleApi||{})[o.adId]={wn:2,hn:8},t.getScript("https://cpro.baidustatic.com/cpro/ui/c.js",function(){t(i).css("display","block")})}var t=i("wiki-common:widget/lib/jquery/jquery");n.exports=d});
;/*!wiki-lemma:widget/promotion/unionAdFromPs/unionAdFromPs.js*/
define("wiki-lemma:widget/promotion/unionAdFromPs/unionAdFromPs",function(e,n,i){function o(e){var n=t("#unionAd_fromPs");return e.adManager&&"undefined"!=typeof e.adManager.pcNetUnionSearchRecommend?n.remove():void t.getScript("https://su.bdimg.com/static/dspui/js/ls.js",function(){setTimeout(function(){n.find("iframe").length<0&&n.remove()},2e3)})}var t=e("wiki-common:widget/lib/jquery/jquery");i.exports=o});
;/*!wiki-lemma:widget/promotion/vbaike/vbaike.js*/
define("wiki-lemma:widget/promotion/vbaike/vbaike",function(e,a,n){var i=e("wiki-common:widget/lib/jquery/jquery"),o=e("wiki-common:widget/lib/jsmart/jsmart"),t=e("wiki-common:widget/ui/pager/horPager/horPager"),r=e("wiki-common:widget/ui/carousel/carousel"),m=new o('{%foreach $data as $ad%}\n<dd class="wgt_carousel_aniUnit">\n<a href="{%$ad.url|f_escape_xml%}" target="_blank" title="{%$ad.text|f_escape_xml%}" nslog-type="10002202" nslog-params=\'{"adId":"{%$ad.adId|f_escape_xml%}", "adTitle":"{%$ad.name|f_escape_xml%}", "adPos": 1}\'>\n<img src="{%$ad.picUrl|f_escape_xml%}" />\n</a>\n</dd>\n{%/foreach%}');n.exports=function(e){var a=m.fetch({data:e});if(i(".lemmaWgt-promotion-vbaike .promotion_viewport dl").html(a),e.length>1){var n=new r({container:i(".lemmaWgt-promotion-vbaike .promotion_viewport dl"),aniUnitSize:{width:268,height:152},autoPlayInterval:5e3,aniConfig:{duration:400,direction:"left"},onAniComplete:function(e){o.reset({curIndex:e+1})}}),o=new t({pContainer:i(".lemmaWgt-promotion-vbaike .promotion_viewport_pager"),template:'\n<span class="pTagBox">\n<a href="javascript:;" class="pTag prev" p-index="{%$pagers.prev.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a>\n<a href="javascript:;" class="pTag next" p-index="{%$pagers.next.index|f_escape_xml%}"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>\n</span>\n',conTotalCount:e.length,conPerPage:1,pMaxCount:e.length,onIndexChange:function(e,a){i(a.currentTarget).hasClass("prev")?n.play(-1):i(a.currentTarget).hasClass("next")?n.play():n.play(e-1)}});o.show()}i(".lemmaWgt-promotion-vbaike").show()}});